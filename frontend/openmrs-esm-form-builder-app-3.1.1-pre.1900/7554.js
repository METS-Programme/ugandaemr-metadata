"use strict";(globalThis.webpackChunk_openmrs_esm_form_builder_app=globalThis.webpackChunk_openmrs_esm_form_builder_app||[]).push([[7554],{47554:(e,n,t)=>{t.r(n),t.d(n,{default:()=>s});var r=t(16072),l=t.n(r),o=t(53941),a=t(45805),c=t(25987);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}const s=function(e){var n=e.closeModal,t=e.onSchemaChange,r=e.pageIndex,s=e.sectionIndex,u=e.schema,f=(0,o.useTranslation)().t,d=function(e,n){var t=!1,r=!0,l=!1,o=void 0;try{for(var a,c=e.pages[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var i=a.value,s=!0,u=!1,f=void 0;try{for(var d,m=i.sections[Symbol.iterator]();!(s=(d=m.next()).done);s=!0){var b=d.value;if(b.reference&&b.reference.form===n){t=!0;break}}}catch(e){u=!0,f=e}finally{try{s||null==m.return||m.return()}finally{if(u)throw f}}if(t)break}}catch(e){l=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(l)throw o}}return t||(e.referencedForms=e.referencedForms.filter((function(e){return e.alias!==n}))),e};return l().createElement(l().Fragment,null,l().createElement(a.rQ0,{closeModal:n,title:f("deleteSectionConfirmation","Are you sure you want to delete this section?")}),l().createElement(a.cwr,null,l().createElement("p",null,f("deleteSectionExplainerText","Deleting this section will delete all the questions associated with it. This action cannot be undone."))),l().createElement(a.jlY,null,l().createElement(a.$nd,{kind:"secondary",onClick:n},f("cancel","Cancel")),l().createElement(a.$nd,{kind:"danger",onClick:function(){(function(e,n){try{var r,l=null===(r=u.pages[e].sections[n].reference)||void 0===r?void 0:r.form;u.pages[e].sections.splice(n,1),l&&(u=d(u,l)),t(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){i(e,n,t[n])}))}return e}({},u)),(0,c.showSnackbar)({title:f("success","Success!"),kind:"success",isLowContrast:!0,subtitle:f("SectionDeleted","Section deleted")})}catch(e){o=e,(null!=(a=Error)&&"undefined"!=typeof Symbol&&a[Symbol.hasInstance]?a[Symbol.hasInstance](o):o instanceof a)&&(0,c.showSnackbar)({title:f("errorDeletingSection","Error deleting section"),kind:"error",subtitle:null==e?void 0:e.message})}var o,a})(r,s),n()}},l().createElement("span",null,f("deleteSection","Delete section")))))}}}]);