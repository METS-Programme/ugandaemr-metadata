"use strict";(globalThis.webpackChunk_openmrs_esm_form_builder_app=globalThis.webpackChunk_openmrs_esm_form_builder_app||[]).push([[5074],{85074:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var r=n(16072),a=n.n(r),o=n(53941),i=n(45805),l=n(25987);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const d=function(e){var t=e.closeModal,n=e.schema,c=e.onSchemaChange,d=e.pageIndex,p=e.sectionIndex,f=e.modalType,m=(0,o.useTranslation)().t,b=u((0,r.useState)("edit"===f?n.pages[d].sections[p].label:""),2),y=b[0],g=b[1],h=u((0,r.useState)("edit"===f?n.pages[d].sections[p].isExpanded:"true"),2),S=h[0],E=h[1];return a().createElement(a().Fragment,null,a().createElement(i.rQ0,{closeModal:t,title:"edit"===f?m("editSection","Edit section"):m("createNewSection","Create a new section")}),a().createElement(i.lVW,{onSubmit:function(e){return e.preventDefault()}},a().createElement(i.cwr,null,a().createElement(i.gE_,{legendText:""},a().createElement(i.ksK,{id:"sectionTitle",labelText:m("enterSectionTitle","Enter a section title"),value:y,onChange:function(e){return g(e.target.value)},style:{marginBottom:"16px"}}),a().createElement(i.Sc0,{id:"isExpanded",checked:"true"===S,labelText:m("expandedSection","Keep section expanded"),onChange:function(e,t){var n=t.checked;E(!0===n?"true":"false")},"data-testid":"keep-section-expanded-checkbox"})))),a().createElement(i.jlY,null,a().createElement(i.$nd,{onClick:t,kind:"secondary"},m("cancel","Cancel")),a().createElement(i.$nd,{disabled:!y,onClick:function(){(function(){try{var e,t;"edit"===f?(n.pages[d].sections[p].label=y,n.pages[d].sections[p].isExpanded=S):null===(t=n.pages[d])||void 0===t||null===(e=t.sections)||void 0===e||e.push({label:y,isExpanded:S,questions:[]}),c(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}({},n)),g(""),(0,l.showSnackbar)({title:m("success","Success!"),kind:"success",isLowContrast:!0,subtitle:"edit"===f?m("sectionEdited","Section edited"):m("sectionCreated","New section created")})}catch(e){r=e,(null!=(a=Error)&&"undefined"!=typeof Symbol&&a[Symbol.hasInstance]?a[Symbol.hasInstance](r):r instanceof a)&&(0,l.showSnackbar)({title:"edit"===f?m("errorCreatingSection","Error creating section"):m("errorEditingSection","Error editing section"),kind:"error",subtitle:null==e?void 0:e.message})}var r,a})(),t()}},a().createElement("span",null,m("save","Save")))))}}}]);