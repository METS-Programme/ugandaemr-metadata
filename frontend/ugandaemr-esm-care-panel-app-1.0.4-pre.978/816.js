"use strict";(globalThis.webpackChunk_ugandaemr_esm_care_panel_app=globalThis.webpackChunk_ugandaemr_esm_care_panel_app||[]).push([[816],{8816:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var n=a(5206),r=a.n(n),i=a(4924),l=a(1257),s=a(3136),c=a(4730),o=a(1e3),u=a(774),m=a(5552),d=a(2450);const f=function(e){var t,a=e.patientUuid,n=e.formEntrySub,f=e.launchPatientWorkspace,p=(0,i.useTranslation)().t,b=(0,c.X)(a),g=b.isLoading,v=b.error,y=b.enrollments;return g?r().createElement("div",{className:s.Z.widgetCard},r().createElement(l.iZ7,{role:"progressbar"})):v?r().createElement(o.ErrorState,{error:v,headerTitle:p("carePanelError","Care panel")}):r().createElement("div",{className:s.Z.widgetCard},r().createElement(d.CardHeader,{title:p("tbProgram","TB Program")},g&&r().createElement(l.lSo,{status:"active",iconDescription:p("validating","Loading"),description:p("validating","Validating data...")})),r().createElement("div",{style:{width:"100%",minHeight:"20rem"}},r().createElement(u.Z,{patientUuid:a,programName:null===(t=m.O)||void 0===t?void 0:t.tb,enrollments:y,formEntrySub:n,launchPatientWorkspace:f,PatientChartProps:""})))}},774:(e,t,a)=>{a.d(t,{Z:()=>b});var n=a(5206),r=a.n(n),i=a(4924),l=a(4362),s=a(8879),c=a.n(s),o=a(4498),u=a.n(o),m=a(3709),d=a(717);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const b=function(e){var t,a,s,o=e.enrollments,b=void 0===o?[]:o,g=e.patientUuid,v=(0,i.useTranslation)().t,y=(0,n.useMemo)((function(){return[{key:"dateStartedTBFirstLineRegimen",uuidConfig:d.j.dateStartedTBFirstRegimenUuid._default,processValue:function(e){return e&&c()(e).isValid()?c()(e).format("DD-MM-YYYY"):"--"}},{key:"dsTBRegimen",uuidConfig:d.j.dsTbRegmimenUuid._default},{key:"tbPatientType",uuidConfig:d.j.tbPatientTypeUuid._default},{key:"tbDiseaseClassification",uuidConfig:d.j.tbDiseaseClassificationUuid._default}]}),[]),E=y.map((function(e){return e.uuidConfig})),T=u()(b,"dateEnrolled","desc"),h=(a=(0,n.useState)({dateStartedTBFirstLineRegimen:"--",dsTBRegimen:"--",tbDiseaseClassification:"--",tbPatientType:"--"}),s=2,function(e){if(Array.isArray(e))return e}(a)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,i=[],l=!0,s=!1;try{for(a=a.call(e);!(l=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(e){s=!0,r=e}finally{try{l||null==a.return||a.return()}finally{if(s)throw r}}return i}}(a,s)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?f(e,t):void 0}}(a,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),C=h[0],Z=h[1],N=(0,m.eK)(g,E),S=N.observations;return N.isLoading,N.isError,(0,n.useEffect)((function(){if(S){var e=y.reduce((function(e,t){var a,n=t.key,r=t.uuidConfig,i=t.processValue,l=(null===(a=S[r])||void 0===a?void 0:a[0])||"--";return e[n]=i?i(l):l,e}),{});Z((function(t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){p(e,t,a[t])}))}return e}({},t,e)}))}}),[y,S]),0===(null===(t=T)||void 0===t?void 0:t.length)?null:r().createElement("div",{className:l.Z.bodyContainer},r().createElement("div",{className:l.Z.card},r().createElement("h6",null,v("diseasClassification","Disease Classification/Patient Type")),r().createElement("div",{className:l.Z.container},r().createElement("div",{className:l.Z.content},r().createElement("p",{className:l.Z.label},v("diseaseClassification","TB Disease Classification")),r().createElement("p",null,r().createElement("span",{className:l.Z.value},C.tbDiseaseClassification))),r().createElement("div",{className:l.Z.content},r().createElement("p",{className:l.Z.label},v("tbPatientType","Patient Type")),r().createElement("p",null,r().createElement("span",{className:l.Z.value},C.tbPatientType)))),r().createElement("br",null),r().createElement("h6",null,v("firstLineTreatment","First Line Treatment")),r().createElement("div",{className:l.Z.container},r().createElement("div",{className:l.Z.content},r().createElement("p",{className:l.Z.label},v("dateStarted","Date Started")),r().createElement("p",null,r().createElement("span",{className:l.Z.value},C.dateStartedTBFirstLineRegimen))),r().createElement("div",{className:l.Z.content},r().createElement("p",{className:l.Z.label},v("dsTbRegmien","DS TB Regimen")),r().createElement("p",null,r().createElement("span",{className:l.Z.value},C.dsTBRegimen))))))}}}]);