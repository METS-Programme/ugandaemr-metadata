/*! For license information please see 5277.js.LICENSE.txt */
(globalThis.webpackChunk_openmrs_esm_implementer_tools_app=globalThis.webpackChunk_openmrs_esm_implementer_tools_app||[]).push([[5277],{8822:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a});var o=t(9233),r=t.n(o),l=t(361),s=t.n(l)()(r());s.push([e.id,".-esm-implementer-tools__styles__slotOverlay___QGVgS{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.-esm-implementer-tools__styles__slotOverlay___QGVgS.-esm-implementer-tools__styles__blueScheme___Wk7\\+U{border:1px dashed rgba(0,67,206,.6);background-color:rgba(0,67,206,.1)}.-esm-implementer-tools__styles__slotOverlay___QGVgS.-esm-implementer-tools__styles__blueScheme___Wk7\\+U.-esm-implementer-tools__styles__slotOverlayHover___crYhy{border-color:rgba(0,67,206,.9);background-color:rgba(0,67,206,.15)}.-esm-implementer-tools__styles__slotOverlay___QGVgS.-esm-implementer-tools__styles__greenScheme___Ay-Pi{border:1px dashed rgba(14,96,39,.6);background-color:rgba(14,96,39,.1)}.-esm-implementer-tools__styles__slotOverlay___QGVgS.-esm-implementer-tools__styles__greenScheme___Ay-Pi.-esm-implementer-tools__styles__slotOverlayHover___crYhy{border-color:rgba(14,96,39,.9);background-color:rgba(14,96,39,.15)}.-esm-implementer-tools__styles__slotName___bfgAW{background-color:rgba(255,255,255,.95);border:1px solid rgba(0,67,206,.8);color:#393939;cursor:pointer;position:absolute;padding:.5rem;z-index:99999;font-size:.75rem;box-shadow:0 1px 3px rgba(0,0,0,.2);transition:all .2s ease}.-esm-implementer-tools__styles__slotName___bfgAW:nth-child(even){border-color:rgba(14,96,39,.8)}.-esm-implementer-tools__styles__extensionOverlay___\\+4bp8{position:absolute;top:0;left:0;width:100%;height:100%;background:none;border:none}.-esm-implementer-tools__styles__extensionOverlay___\\+4bp8:hover{background-color:rgba(43,43,185,.1)}.-esm-implementer-tools__styles__extensionOverlay___\\+4bp8:focus .-esm-implementer-tools__styles__extensionTooltip___Iqy2g,.-esm-implementer-tools__styles__extensionOverlay___\\+4bp8:hover .-esm-implementer-tools__styles__extensionTooltip___Iqy2g{visibility:visible;opacity:1}.-esm-implementer-tools__styles__extensionTooltip___Iqy2g{visibility:hidden;width:auto;background-color:rgba(255,255,255,.85);text-align:center;padding:1rem;border:1px solid rgba(43,43,185,.4);position:absolute;top:0;left:0}.-esm-implementer-tools__styles__exitButton___Rp9rH{position:fixed !important;top:4rem;right:1rem;z-index:999999}","",{version:3,sources:["webpack://./src/ui-editor/styles.scss","webpack://./../../../node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAGA,qDACE,iBAAA,CACA,KAAA,CACA,MAAA,CACA,UAAA,CACA,WAAA,CACA,mBAAA,CAEA,yGACE,mCAAA,CACA,kCAAA,CAEA,kKACE,8BAAA,CACA,mCAAA,CAIJ,yGACE,mCAAA,CACA,kCAAA,CAEA,kKACE,8BAAA,CACA,mCAAA,CAKN,kDACE,sCAAA,CACA,kCAAA,CACA,aAAA,CACA,cAAA,CACA,iBAAA,CACA,aCjBW,CDkBX,aAAA,CACA,gBCdW,CDeX,mCAAA,CACA,uBAAA,CAEA,kEACE,8BAAA,CAIJ,2DACE,iBAAA,CACA,KAAA,CACA,MAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CACA,WAAA,CAGF,iEACE,mCAAA,CAGF,sPAEE,kBAAA,CACA,SAAA,CAGF,0DACE,iBAAA,CACA,UAAA,CACA,sCAAA,CACA,iBAAA,CACA,YC3CW,CD4CX,mCAAA,CACA,iBAAA,CACA,KAAA,CACA,MAAA,CAGF,oDACE,yBAAA,CACA,QC3BW,CD4BX,UCrDW,CDsDX,cAAA",sourcesContent:["@use '@carbon/colors';\n@use '@carbon/layout';\n\n.slotOverlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n\n  &.blueScheme {\n    border: 1px dashed rgba(colors.$blue-70, 0.6);\n    background-color: rgba(colors.$blue-70, 0.1);\n\n    &.slotOverlayHover {\n      border-color: rgba(colors.$blue-70, 0.9);\n      background-color: rgba(colors.$blue-70, 0.15);\n    }\n  }\n\n  &.greenScheme {\n    border: 1px dashed rgba(colors.$green-70, 0.6);\n    background-color: rgba(colors.$green-70, 0.1);\n\n    &.slotOverlayHover {\n      border-color: rgba(colors.$green-70, 0.9);\n      background-color: rgba(colors.$green-70, 0.15);\n    }\n  }\n}\n\n.slotName {\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid rgba(colors.$blue-70, 0.8);\n  color: #393939;\n  cursor: pointer;\n  position: absolute;\n  padding: layout.$spacing-03;\n  z-index: 99999;\n  font-size: layout.$spacing-04;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n  transition: all 0.2s ease;\n\n  &:nth-child(even) {\n    border-color: rgba(colors.$green-70, 0.8);\n  }\n}\n\n.extensionOverlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: none;\n  border: none;\n}\n\n.extensionOverlay:hover {\n  background-color: rgba(43, 43, 185, 0.1);\n}\n\n.extensionOverlay:focus .extensionTooltip,\n.extensionOverlay:hover .extensionTooltip {\n  visibility: visible;\n  opacity: 1;\n}\n\n.extensionTooltip {\n  visibility: hidden;\n  width: auto;\n  background-color: rgb(255, 255, 255, 0.85);\n  text-align: center;\n  padding: layout.$spacing-05;\n  border: 1px solid rgba(43, 43, 185, 0.4);\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n.exitButton {\n  position: fixed !important;\n  top: layout.$spacing-10;\n  right: layout.$spacing-05;\n  z-index: 999999;\n}\n","// Code generated by @carbon/layout. DO NOT EDIT.\n//\n// Copyright IBM Corp. 2018, 2023\n//\n// This source code is licensed under the Apache-2.0 license found in the\n// LICENSE file in the root directory of this source tree.\n//\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-01: 0.125rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-02: 0.25rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-03: 0.5rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-04: 0.75rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-05: 1rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-06: 1.5rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-07: 2rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-08: 2.5rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-09: 3rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-10: 4rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-11: 5rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-12: 6rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-13: 10rem !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/layout\n$spacing: (\n  spacing-01: $spacing-01,\n  spacing-02: $spacing-02,\n  spacing-03: $spacing-03,\n  spacing-04: $spacing-04,\n  spacing-05: $spacing-05,\n  spacing-06: $spacing-06,\n  spacing-07: $spacing-07,\n  spacing-08: $spacing-08,\n  spacing-09: $spacing-09,\n  spacing-10: $spacing-10,\n  spacing-11: $spacing-11,\n  spacing-12: $spacing-12,\n  spacing-13: $spacing-13,\n);\n"],sourceRoot:""}]),s.locals={slotOverlay:"-esm-implementer-tools__styles__slotOverlay___QGVgS",blueScheme:"-esm-implementer-tools__styles__blueScheme___Wk7+U",slotOverlayHover:"-esm-implementer-tools__styles__slotOverlayHover___crYhy",greenScheme:"-esm-implementer-tools__styles__greenScheme___Ay-Pi",slotName:"-esm-implementer-tools__styles__slotName___bfgAW",extensionOverlay:"-esm-implementer-tools__styles__extensionOverlay___+4bp8",extensionTooltip:"-esm-implementer-tools__styles__extensionTooltip___Iqy2g",exitButton:"-esm-implementer-tools__styles__exitButton___Rp9rH"};const a=s},5277:(e,n,t)=>{"use strict";t.r(n),t.d(n,{ExitButton:()=>D,SlotOverlay:()=>P,default:()=>T});var o=t(5776),r=t.n(o),l=t(5685),s=t.n(l),a=t(2680),i=t(4313),c=t(8478),u=t(6551);function m(e){var n=e.el,t=e.children;return n?(0,u.createPortal)(t,n):null}var p=t(487),A=t.n(p),_=t(631),b=t.n(_),g=t(2052),d=t.n(g),y=t(4010),f=t.n(y),C=t(1469),v=t.n(C),h=t(9329),x=t.n(h),O=t(8822),E={};E.styleTagTransform=x(),E.setAttributes=f(),E.insert=d().bind(null,"head"),E.domAPI=b(),E.insertStyleElement=v(),A()(O.Z,E);const S=O.Z&&O.Z.locals?O.Z.locals:void 0;function N(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function $(e){var n,t,l=e.extensionName,s=e.slotModuleName,a=e.slotName,i=e.domElement,c=(n=(0,o.useState)(),t=2,function(e){if(Array.isArray(e))return e}(n)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,r,l=[],s=!0,a=!1;try{for(t=t.call(e);!(s=(o=t.next()).done)&&(l.push(o.value),!n||l.length!==n);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==t.return||t.return()}finally{if(a)throw r}}return l}}(n,t)||function(e,n){if(e){if("string"==typeof e)return N(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?N(e,n):void 0}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],p=c[1];return(0,o.useEffect)((function(){if(i){var e,n=document.createElement("div");null===(e=i.parentElement)||void 0===e||e.appendChild(n),p(n)}}),[i]),u?r().createElement(m,{key:"extension-overlay-".concat(s,"-").concat(a,"-").concat(l),el:u},r().createElement(k,{extensionId:l})):null}function k(e){var n=e.extensionId;return r().createElement("button",{className:S.extensionOverlay},r().createElement("span",{className:S.extensionTooltip},n))}var I=t(1004);function w(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function j(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function B(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,r,l=[],s=!0,a=!1;try{for(t=t.call(e);!(s=(o=t.next()).done)&&(l.push(o.value),!n||l.length!==n);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==t.return||t.return()}finally{if(a)throw r}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return w(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?w(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(){var e,n,t=(0,a.useTranslation)().t,l=(0,c.useStore)((0,c.getExtensionInternalStore)()),s=l.slots,i=l.extensions,u=((0,c.useStore)(I.wT).isOpen,function(e,n){if(!i||!n)return 0;var t=null==s?void 0:s[e];return t&&Array.isArray(t.attachedIds)?t.attachedIds.length:0}),p=(0,o.useMemo)((function(){return s?Object.entries(s).map((function(e){var n=B(e,2),t=n[0],o=n[1];return t?{slotName:t,slotInfo:o,element:document.querySelector('*[data-extension-slot-name="'.concat(t,'"][data-extension-slot-module-name="').concat(o.moduleName,'"]'))}:null})).filter((function(e){return Boolean(e)})):[]}),[s]),A=(0,o.useMemo)((function(){return i?Object.entries(i).flatMap((function(e){var n=B(e,2),t=n[0],o=n[1];return Object.entries(o.instances).flatMap((function(e){var n=B(e,2),o=n[0],r=n[1];return Object.entries(r).map((function(e){var n=B(e,2),r=n[0],l=n[1];return{extensionName:t,slotModuleName:o,slotName:r,extensionInstance:l,element:document.querySelector('*[data-extension-slot-name="'.concat(r,'"][data-extension-slot-module-name="').concat(o,'"] *[data-extension-id="').concat(l.id,'"]'))}}))}))})):[]}),[i]);return r().createElement(r().Fragment,null,r().createElement(D,{t}),p.map((function(o,l){var s=o.slotName,a=o.slotInfo,i=o.element;return i&&r().createElement(m,{key:"slot-overlay-".concat(a.moduleName,"-").concat(s),el:i},r().createElement(P,{extensionCount:u(s,null!==(e=a.moduleName)&&void 0!==e?e:""),moduleName:null!==(n=a.moduleName)&&void 0!==n?n:"",slotName:s,t,colorScheme:l%2==0?"blue":"green"}))})),A.map((function(e){var n=e.extensionName,t=e.slotModuleName,o=e.slotName,l=e.extensionInstance,s=e.element;return s&&r().createElement($,{domElement:s,extensionName:n,key:"".concat(o,"-").concat(l.id),slotModuleName:t,slotName:o})})))}function P(e){var n,t,l=e.slotName,a=e.moduleName,i=e.extensionCount,u=void 0===i?0:i,m=e.colorScheme,p=(0,c.useStore)((0,c.getExtensionInternalStore)()).slots,A=B((0,o.useState)(!1),2),_=A[0],b=A[1],g=s()(S.slotOverlay,(j(n={},S.blueScheme,"blue"===m),j(n,S.greenScheme,"green"===m),j(n,S.slotOverlayHover,_),n)),d=s()(S.slotName,(j(t={},S.blueScheme,"blue"===m),j(t,S.greenScheme,"green"===m),t));return r().createElement(r().Fragment,null,r().createElement("div",{className:g}),r().createElement("button",{className:d,onClick:function(e){e.preventDefault(),a&&l&&function(e,n){I.wT.getState().configPathBeingEdited||I.wT.setState({uiSelectedPath:[e,"extensionSlots",n],isOpen:!0})}(a,l)},onMouseEnter:function(){return b(!0)},onMouseLeave:function(){return b(!1)},title:function(){var e="Slot: ".concat(l,"\nModule: ").concat(a);if(u>0){var n,t=null==p?void 0:p[l];(null==t||null===(n=t.attachedIds)||void 0===n?void 0:n.length)&&(e+="\nExtensions (".concat(u,"):\n- ").concat(t.attachedIds.join("\n- ")))}return e}()},l))}function D(e){var n=e.t,t=(0,c.useStoreWithActions)(I.wT,M).toggleIsUIEditorEnabled;return r().createElement(i.Button,{className:S.exitButton,hasIconOnly:!0,iconDescription:n("exitUIEditor","Exit UI Editor"),kind:"danger",onClick:t,renderIcon:function(e){return r().createElement(c.CloseIcon,(n=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),o.forEach((function(n){j(e,n,t[n])}))}return e}({},e),t=null!=(t={size:16})?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t.push.apply(t,o)}return t}(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})),n));var n,t},size:"sm",tooltipPosition:"left"})}var M={toggleIsUIEditorEnabled:function(e){return{isUIEditorEnabled:!e.isUIEditorEnabled}}}},5685:(e,n)=>{var t;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e="",n=0;n<arguments.length;n++){var t=arguments[n];t&&(e=s(e,l(t)))}return e}function l(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var n="";for(var t in e)o.call(e,t)&&e[t]&&(n=s(n,t));return n}function s(e,n){return n?e?e+" "+n:e+n:e}e.exports?(r.default=r,e.exports=r):void 0===(t=function(){return r}.apply(n,[]))||(e.exports=t)}()}}]);