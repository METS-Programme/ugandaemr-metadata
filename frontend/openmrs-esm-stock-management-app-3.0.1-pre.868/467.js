"use strict";(globalThis.webpackChunk_openmrs_esm_stock_management_app=globalThis.webpackChunk_openmrs_esm_stock_management_app||[]).push([[467],{9378:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(1364),a=n.n(o),r=n(1682),i=n.n(r)()(a());i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79;--bottom-nav-height: 4rem;--workspace-header-height: 3rem;--tablet-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--bottom-nav-height));--desktop-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--workspace-header-height))}.-esm-stock-management__create-stock-report__formContainer___-4fos{display:flex;flex-direction:column;justify-content:space-between;width:100%;height:100%}.-esm-stock-management__create-stock-report__button___MRB1p{height:4rem;display:flex;align-content:flex-start;align-items:baseline;min-width:50%}.-esm-stock-management__create-stock-report__buttonSet___Y3EPS{display:flex;justify-content:space-between;width:100%}.-esm-stock-management__create-stock-report__body___eKDjI{padding:1rem}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/stock-reports/generate-report/create-stock-report.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAsDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CACA,yBAAA,CACA,+BAAA,CACA,oGAAA,CACA,2GAAA,CCzDF,mEACE,YAAA,CACA,qBAAA,CACA,6BAAA,CACA,UAAA,CACA,WAAA,CAGF,4DACE,WC2CW,CD1CX,YAAA,CACA,wBAAA,CACA,oBAAA,CACA,aAAA,CAGF,+DACE,YAAA,CACA,6BAAA,CACA,UAAA,CAGF,0DACE,YAAA",sourcesContent:["@use '@carbon/layout';\n\n$ui-01: #f4f4f4;\n$ui-02: #ffffff;\n$ui-03: #e0e0e0;\n$ui-04: #8d8d8d;\n$ui-05: #161616;\n$text-02: #525252;\n$text-03: #a8a8a8;\n$ui-background: #ffffff;\n$color-gray-30: #c6c6c6;\n$color-gray-70: #525252;\n$color-gray-100: #161616;\n$color-blue-60-2: #0f62fe;\n$color-blue-10: #edf5ff;\n$color-yellow-50: #feecae;\n$carbon--red-50: #fa4d56;\n$inverse-link: #78a9ff;\n$support-02: #24a148;\n$inverse-support-03: #f1c21b;\n$warning-background: #fff8e1;\n$openmrs-background-grey: #f4f4f4;\n$danger: #da1e28;\n$interactive-01: #0f62fe;\n$field-01: #f4f4f4;\n$grey-2: #e0e0e0;\n$labeldropdown: #c6c6c6;\n\n$brand-primary-10: #d9fbfb;\n$brand-primary-20: #9ef0f0;\n$brand-primary-30: #3ddbd9;\n$brand-primary-40: #08bdba;\n$brand-primary-50: #009d9a;\n\n/* 60,70 and 80 are already declared as brand-01, 02 and 03 respectively */\n\n$brand-primary-90: #022b30;\n$brand-primary-100: #081a1c;\n\n@mixin brand-01($property) {\n  #{$property}: #005d5d;\n  #{$property}: var(--brand-01);\n}\n\n@mixin brand-02($property) {\n  #{$property}: #004144;\n  #{$property}: var(--brand-02);\n}\n\n@mixin brand-03($property) {\n  #{$property}: #007d79;\n  #{$property}: var(--brand-03);\n}\n\n:root {\n  --brand-01: #005d5d;\n  --brand-02: #004144;\n  --brand-03: #007d79;\n  --bottom-nav-height: #{layout.$spacing-10};\n  --workspace-header-height: #{layout.$spacing-09};\n  --tablet-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--bottom-nav-height));\n  --desktop-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--workspace-header-height));\n}\n\n$breakpoint-phone-min: 0px;\n$breakpoint-phone-max: 600px;\n$breakpoint-tablet-min: 601px;\n$breakpoint-tablet-max: 1023px;\n$breakpoint-small-desktop-min: 1024px;\n$breakpoint-small-desktop-max: 1439px;\n$breakpoint-large-desktop-min: 1440px;\n$breakpoint-large-desktop-max: 99999999px;\n\n/* These color variables will be removed in a future release */\n$brand-teal-01: #007d79;\n$brand-01: #005d5d;\n$brand-02: #004144;\n","@use '@carbon/layout';\n@use '@carbon/type';\n@use '@openmrs/esm-styleguide/src/vars' as *;\n\n.formContainer {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  width: 100%;\n  height: 100%;\n}\n\n.button {\n  height: layout.$spacing-10;\n  display: flex;\n  align-content: flex-start;\n  align-items: baseline;\n  min-width: 50%;\n}\n\n.buttonSet {\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n}\n\n.body {\n  padding: 1rem;\n}\n","// Code generated by @carbon/layout. DO NOT EDIT.\n//\n// Copyright IBM Corp. 2018, 2023\n//\n// This source code is licensed under the Apache-2.0 license found in the\n// LICENSE file in the root directory of this source tree.\n//\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-01: 0.125rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-02: 0.25rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-03: 0.5rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-04: 0.75rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-05: 1rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-06: 1.5rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-07: 2rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-08: 2.5rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-09: 3rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-10: 4rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-11: 5rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-12: 6rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-13: 10rem !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/layout\n$spacing: (\n  spacing-01: $spacing-01,\n  spacing-02: $spacing-02,\n  spacing-03: $spacing-03,\n  spacing-04: $spacing-04,\n  spacing-05: $spacing-05,\n  spacing-06: $spacing-06,\n  spacing-07: $spacing-07,\n  spacing-08: $spacing-08,\n  spacing-09: $spacing-09,\n  spacing-10: $spacing-10,\n  spacing-11: $spacing-11,\n  spacing-12: $spacing-12,\n  spacing-13: $spacing-13,\n);\n"],sourceRoot:""}]),i.locals={formContainer:"-esm-stock-management__create-stock-report__formContainer___-4fos",button:"-esm-stock-management__create-stock-report__button___MRB1p",buttonSet:"-esm-stock-management__create-stock-report__buttonSet___Y3EPS",body:"-esm-stock-management__create-stock-report__body___eKDjI"};const l=i},8467:(e,t,n)=>{n.r(t),n.d(t,{default:()=>J});var o,a=n(1672),r=n.n(a),i=n(3967),l=n.n(i),c=n(3397),s=n(5787),u=n(3775),d=n(7536),m=n(6312);!function(e){e.Date="Date",e.StartDate="StartDate",e.EndDate="EndDate",e.StockItemCategory="StockItemCategory",e.Location="Location",e.ChildLocations="ChildLocations",e.StockSource="StockSource",e.StockSourceDestination="StockSourceDestination",e.InventoryGroupBy="InventoryGroupBy",e.MaxReorderLevelRatio="MaxReorderLevelRatio",e.Patient="Patient",e.StockItem="StockItem",e.Limit="Limit",e.MostLeastMoving="MostLeastMoving",e.Fullfillment="Fullfillment"}(o||(o={}));var p=function(e){return v(e)?4:e?20:null},v=function(e){return"STOCK_FORECAST_REPORT"===e||"STOCK_EXPIRY_FORECAST_REPORT"===e},g=n(826),f=n(7107);n(2484);var b=n(9937),y=n(954),h=n(1604),k=h.z.object({startDate:h.z.coerce.date().optional(),endDate:h.z.coerce.date().optional(),location:h.z.string({required_error:"Location Required"}).min(1,{message:"Location Required"}),reportName:h.z.string({required_error:"Report Name Required"}).min(1,{message:"Report Name Required"}),stockReportItemCategory:h.z.string().optional(),mostLeastMoving:h.z.string().optional(),mostLeastMovingName:h.z.string().optional(),stockItemUuid:h.z.string().optional(),stockItemName:h.z.string().optional(),patientUuid:h.z.string().optional(),patientName:h.z.string().optional(),locationUuid:h.z.string().optional(),childLocations:h.z.boolean().optional(),stockSourceUuid:h.z.string().optional(),stockSource:h.z.string().optional(),stockSourceDestinationUuid:h.z.string().optional(),stockSourceDestination:h.z.string().optional(),inventoryGroupBy:h.z.string().optional(),stockItemCategory:h.z.string().optional(),inventoryGroupByName:h.z.string().optional(),stockItemCategoryConceptUuid:h.z.string().optional(),reportSystemName:h.z.string().optional(),maxReorderLevelRatio:h.z.number().optional(),fullFillment:h.z.string().array().optional(),limit:h.z.string().optional(),date:h.z.coerce.date().optional()}).superRefine((function(e,t){"Stock Status Report"!==e.reportName&&"Stock-Out Report"!==e.reportName&&(e.startDate||t.addIssue({code:h.z.ZodIssueCode.custom,message:"Start Date is required ",path:["startDate"]}),e.endDate||t.addIssue({code:h.z.ZodIssueCode.custom,message:"End Date is required",path:["endDate"]})),"Stock Status Report"!==e.reportName&&"Stock-Out Report"!==e.reportName||(e.date||t.addIssue({code:h.z.ZodIssueCode.custom,message:"Date is required ",path:["date"]}),e.inventoryGroupBy||t.addIssue({code:h.z.ZodIssueCode.custom,message:"Inventory by is required ",path:["inventoryGroupBy"]}))})),A=n(3889),S=n(9530),C=n(7410),E=n.n(C),$=n(4766),_=n.n($),x=n(1991),D=n.n(x),I=n(3702),L=n.n(I),w=n(2434),N=n.n(w),T=n(1422),M=n.n(T),F=n(9378),B={};B.styleTagTransform=M(),B.setAttributes=L(),B.insert=D().bind(null,"head"),B.domAPI=_(),B.insertStyleElement=N(),E()(F.Z,B);const R=F.Z&&F.Z.locals?F.Z.locals:void 0;function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function P(e,t,n,o,a,r,i){try{var l=e[r](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(o,a)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,r=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!t||r.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return r}}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}const J=function(e){var t,n,i,h,C,E=e.model,$=e.closeWorkspace,_=(0,c.useTranslation)().t,x=(0,u.useConfig)().stockItemCategoryUUID,D="tablet"===(0,u.useLayoutType)(),I=(0,S.w)(),L=I.reportTypes,w=I.isLoading,N=(0,A.O8)().stockLocations,T=(0,A.K2)(x).items,M=U((0,a.useState)(!1),2),F=M[0],B=M[1],z=U((0,a.useState)(!1),2),O=z[0],J=z[1],Q=U((0,a.useState)(!1),2),q=Q[0],Y=Q[1],Z=U((0,a.useState)(!1),2),V=Z[0],K=Z[1],X=U((0,a.useState)(!1),2),W=X[0],H=X[1],ee=U((0,a.useState)(!1),2),te=ee[0],ne=ee[1],oe=U((0,a.useState)(!1),2),ae=oe[0],re=oe[1],ie=U((0,a.useState)(!1),2),le=ie[0],ce=ie[1],se=U((0,a.useState)(!1),2),ue=se[0],de=se[1],me=U((0,a.useState)(!1),2),pe=me[0],ve=me[1],ge=U((0,a.useState)(!1),2),fe=ge[0],be=ge[1],ye=U((0,a.useState)(!1),2),he=ye[0],ke=ye[1],Ae=U((0,a.useState)(!1),2),Se=Ae[0],Ce=Ae[1],Ee=U((0,a.useState)(!1),2),$e=Ee[0],_e=Ee[1],xe=U((0,a.useState)(!1),2),De=xe[0],Ie=xe[1],Le=U((0,a.useState)(""),2),we=Le[0],Ne=Le[1];(0,a.useEffect)((function(){var e=!1;if(we){var t,n,a,r,i,l,c,s,u,d,m,p,v,g,f,b=null==L?void 0:L.find((function(e){return e.name===we}));b&&(B(null===(t=b.parameters)||void 0===t?void 0:t.some((function(e){return e===o.Date}))),J(null===(n=b.parameters)||void 0===n?void 0:n.some((function(e){return e===o.StartDate}))),Y(null===(a=b.parameters)||void 0===a?void 0:a.some((function(e){return e===o.EndDate}))),K(null===(r=b.parameters)||void 0===r?void 0:r.some((function(e){return e===o.StockItemCategory}))),H(null===(i=b.parameters)||void 0===i?void 0:i.some((function(e){return e===o.Location}))),ne(null===(l=b.parameters)||void 0===l?void 0:l.some((function(e){return e===o.ChildLocations}))),re(null===(c=b.parameters)||void 0===c?void 0:c.some((function(e){return e===o.StockSource}))),ce(null===(s=b.parameters)||void 0===s?void 0:s.some((function(e){return e===o.StockSourceDestination}))),de(null===(u=b.parameters)||void 0===u?void 0:u.some((function(e){return e===o.InventoryGroupBy}))),ve(null===(d=b.parameters)||void 0===d?void 0:d.some((function(e){return e===o.MaxReorderLevelRatio}))),ke(null===(m=b.parameters)||void 0===m?void 0:m.some((function(e){return e===o.StockItem}))),be(null===(p=b.parameters)||void 0===p?void 0:p.some((function(e){return e===o.Patient}))),Ce(null===(v=b.parameters)||void 0===v?void 0:v.some((function(e){return e===o.Limit}))),_e(null===(g=b.parameters)||void 0===g?void 0:g.some((function(e){return e===o.MostLeastMoving}))),Ie(null===(f=b.parameters)||void 0===f?void 0:f.some((function(e){return e===o.Fullfillment}))),e=!0)}e||(B(!1),J(!1),Y(!1),K(!1),H(!1),ne(!1),re(!1),ce(!1),de(!1),ve(!1),ke(!1),be(!1),Ce(!1),_e(!1),Ie(!1))}),[we,L]);var Te=(0,a.useMemo)((function(){var e,t;return[{display:"All Categories",name:"All Categories",uuid:""}].concat(G(null!==(t=T&&(null==T||null===(e=T.answers)||void 0===e?void 0:e.length)>0?null==T?void 0:T.answers:null==T?void 0:T.setMembers)&&void 0!==t?t:[]))}),[T]),Me=(0,d.cI)({mode:"all",resolver:(0,m.F)(k)}),Fe=(Me.handleSubmit,Me.control),Be=Me.formState,Re=Be.errors,ze=(Be.defaultValues,Be.isDirty,Me.setValue);if(w)return r().createElement(s.lSo,{status:"active",iconDescription:"Loading",description:"Loading data..."});var Pe,je,Ue,Ge=(Pe=function(e){var t,n,a,r,i,l,c,s,d,m,g,h,k,A,S,C,E,x,D,I,w,N,T,M,B,R,z,P,j,U,G,J,Q,Y,Z,K,X,H;return function(e,t){var n,o,a,r,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}}(this,(function(ee){switch(ee.label){case 0:n=null===(t=L.find((function(t){return t.name===e.reportName})))||void 0===t?void 0:t.systemName,ee.label=1;case 1:return ee.trys.push([1,,3,4]),a="\r\n",r="param.report=".concat(n).concat(a),De&&(r+=Oe(o.Fullfillment,(null!==(i=e.fullFillment)&&void 0!==i?i:["All"]).join(","),(null!==(l=e.fullFillment)&&void 0!==l?l:["All"]).join(", "),_("fulfillment","Fulfillment"),a)),fe&&(r+=Oe(o.Patient,null!==(s=e.patientUuid)&&void 0!==s?s:"",null!==(d=null===(c=e.patientName)||void 0===c?void 0:c.trim())&&void 0!==d?d:"All Patients",_("patients","Patients"),a)),he&&(r+=Oe(o.StockItem,null!==(g=e.stockItemUuid)&&void 0!==g?g:"",null!==(h=null===(m=e.stockItemName)||void 0===m?void 0:m.trim())&&void 0!==h?h:"All Stock Items",_("stockItem","Stock Item"),a)),V&&(r+=Oe(o.StockItemCategory,null!==(A=e.stockItemCategoryConceptUuid)&&void 0!==A?A:"",null!==(S=null===(k=e.stockItemCategory)||void 0===k?void 0:k.trim())&&void 0!==S?S:"All Categories",_("stockItemCategory","Stock Item Category"),a)),ue&&(r+=Oe(o.InventoryGroupBy,null!==(E=e.inventoryGroupBy)&&void 0!==E?E:"LocationStockItemBatchNo",null!==(x=null===(C=e.inventoryGroupByName)||void 0===C?void 0:C.trim())&&void 0!==x?x:"Stock Item Batch Number",_("inventoryGroupBy","Inventory group by"),a)),W&&(r+=Oe(o.Location,e.locationUuid,null!==(I=null===(D=e.location)||void 0===D?void 0:D.trim())&&void 0!==I?I:"",_("location","Location"),a),te&&(r+=Oe(o.ChildLocations,e.childLocations?"true":"false",e.childLocations?"Yes":"No",_("includeChildLocations","Include Child Locations"),a))),pe&&(r+=Oe(o.MaxReorderLevelRatio,(null!==(w=e.maxReorderLevelRatio)&&void 0!==w?w:0).toString(),(null!==(N=e.maxReorderLevelRatio)&&void 0!==N?N:0).toString()+"%",_("maxReorderLevelRatio","Max reorder level ratio"),a)),ae&&(r+=Oe(o.StockSource,null!==(M=e.stockSourceUuid)&&void 0!==M?M:"",null!==(B=null===(T=e.stockSource)||void 0===T?void 0:T.trim())&&void 0!==B?B:"All Sources",_("stockSource","Stock source"),a)),le&&(r+=Oe(o.StockSourceDestination,null!==(z=e.stockSourceDestinationUuid)&&void 0!==z?z:"",null!==(P=null===(R=e.stockSourceDestination)||void 0===R?void 0:R.trim())&&void 0!==P?P:"All Destinations",_("stockSourceDestination","Stock source destination"),a)),$e&&(r+=Oe(o.MostLeastMoving,null!==(U=e.mostLeastMoving)&&void 0!==U?U:"MostMoving",null!==(G=null===(j=e.mostLeastMovingName)||void 0===j?void 0:j.trim())&&void 0!==G?G:"Most Moving",_("mostMoving","Most moving"),a)),Se&&(r+=Oe(o.Limit,(null!==(Q=null!==(J=e.limit)&&void 0!==J?J:p(e.reportSystemName))&&void 0!==Q?Q:20).toString(),(null!==(Z=null!==(Y=e.limit)&&void 0!==Y?Y:p(e.reportSystemName))&&void 0!==Z?Z:20).toString(),_(function(e){return v(e)?"stockmanagement.report.edit.months":"stockmanagement.report.edit.limit"}(e.reportSystemName)),a)),F&&(r+=Oe(o.Date,e.date?JSON.stringify(e.date).replaceAll('"',""):"",null!==(K=(0,b.up)(e.date))&&void 0!==K?K:"",_("date","Date"),a)),O&&(r+=Oe(o.StartDate,e.startDate?JSON.stringify(e.startDate).replaceAll('"',""):"",null!==(X=(0,b.up)(e.startDate))&&void 0!==X?X:"",_(function(e){return v(e)?"stockmanagement.report.edit.historicalstartdate":"Start Date"}(e.reportSystemName)),a)),q&&(r+=Oe(o.EndDate,e.endDate?JSON.stringify(e.endDate).replaceAll('"',""):"",null!==(H=(0,b.up)(e.endDate))&&void 0!==H?H:"",_(function(e){return v(e)?"stockmanagement.report.edit.historicalenddate":"End Date"}(e.reportSystemName)),a)),[4,(ne={batchJobType:f.Er,description:e.reportName,parameters:r},oe="".concat(u.restBaseUrl,"/stockmanagement/batchjob"),re=new AbortController,(0,u.openmrsFetch)(oe,{method:"POST",headers:{"Content-Type":"application/json"},signal:re.signal,body:ne})).then((function(e){201===e.status?((0,u.showSnackbar)({title:_("batchJob","Batch Job"),subtitle:_("BatchJobSuccess","Batch job created successfully"),kind:"success"}),(0,y.d)("".concat(u.restBaseUrl,"/stockmanagement/batchjob?batchJobType=Report&v=default")),$()):((0,u.showSnackbar)({title:_("BatchJobErrorTitle","Batch job"),subtitle:_("batchJobErrorMessage","Error creating batch job"),kind:"error"}),$())})).catch((function(){(0,u.showSnackbar)({title:_("BatchJobErrorTitle","Batch job"),subtitle:_("batchJobErrorMessage","Error creating batch job"),kind:"error"}),$()}))];case 2:return ee.sent(),[3,4];case 3:return[7];case 4:return[2]}var ne,oe,re}))},je=function(){var e=this,t=arguments;return new Promise((function(n,o){var a=Pe.apply(e,t);function r(e){P(a,n,o,r,i,"next",e)}function i(e){P(a,n,o,r,i,"throw",e)}r(void 0)}))},function(e){return je.apply(this,arguments)}),Oe=function(e,t,n,o,a){return"param.".concat(e,".value=").concat(t).concat(a,"param.").concat(e,".value.desc=").concat(n).concat(a,"param.").concat(e,".description=").concat(o).concat(a)};return r().createElement("div",{className:R.formContainer},r().createElement("div",{className:R.body},r().createElement(r().Fragment,null,r().createElement("span",null,_("reportName","Report")),r().createElement(d.Qr,{control:Fe,name:"reportName",render:function(e){var t=e.field.onChange;return r().createElement(s.CtY,{id:"report",size:"md",labelText:_("reportName","Report"),items:L,itemToString:function(e){var t,n;return"".concat(null!==(n=null!==(t=null==e?void 0:e.name)&&void 0!==t?t:null==e?void 0:e.name)&&void 0!==n?n:"")},placeholder:"Filter...",onChange:function(e){var n,o=e.selectedItem;t(o.name),n=o.name,Ne(n)}})}})),V&&r().createElement(r().Fragment,null,r().createElement("span",null,_("stockItemCategory","Stock Item Category")),r().createElement(d.Qr,{control:Fe,name:"stockReportItemCategory",render:function(e){var t=e.field.onChange;return r().createElement(s.CtY,{id:"stockReportItem",size:"md",labelText:_("stockItemCategory","Stock Item Category"),items:Te,onChange:function(e){var n=e.selectedItem;t(n.uuid)},itemToString:function(e){return e&&(null==e?void 0:e.display)?"".concat(null==e?void 0:e.display):""},placeholder:"Filter..."})}})),O&&r().createElement(d.Qr,{control:Fe,name:"startDate",render:function(e){var t,n,o=e.field,a=o.onChange,i=o.value;return r().createElement(s.Mtg,{datePickerType:"single",maxDate:(0,g.KA)((0,g.Lg)()),locale:"en",dateFormat:g.fk,onChange:a,value:i},r().createElement(s.aj6,{id:"startDate",name:"startDate",placeholder:g.Pq,labelText:_("startDate","Start Date"),defaultValue:"",invalid:null==Re||null===(t=Re.startDate)||void 0===t?void 0:t.message,invalidText:null==Re||null===(n=Re.startDate)||void 0===n?void 0:n.message}))}}),q&&r().createElement(d.Qr,{control:Fe,name:"endDate",render:function(e){var t,n,o=e.field,a=o.onChange,i=o.value;return r().createElement(s.Mtg,{datePickerType:"single",maxDate:(0,g.KA)((0,g.Lg)()),locale:"en",dateFormat:g.fk,onChange:a,value:i},r().createElement(s.aj6,{id:"endDate",name:"endDate",placeholder:g.Pq,labelText:_("endDate","End Date"),defaultValue:"",invalid:null==Re||null===(t=Re.endDate)||void 0===t?void 0:t.message,invalidText:null==Re||null===(n=Re.endDate)||void 0===n?void 0:n.message}))}}),ue&&r().createElement(s.PhF,{id:"inventoryGroupBy",defaultValue:null==E?void 0:E.inventoryGroupBy,invalid:null==Re||null===(t=Re.inventoryGroupBy)||void 0===t?void 0:t.message,invalidText:null==Re||null===(n=Re.inventoryGroupBy)||void 0===n?void 0:n.message,labelText:_("inventoryBy","Inventory by"),onChange:function(e){return ze("inventoryGroupBy",e.target.value)}},r().createElement(s.QlF,{value:"",text:_("SelectOption","Select an option")}),r().createElement(s.QlF,{value:"StockItemOnly",text:_("stockItem","Stock Item")}),r().createElement(s.QlF,{value:"LocationStockItem",text:_("locationAndStockItem","Location and Stock Item")}),r().createElement(s.QlF,{value:"LocationStockItemBatchNo",text:_("locationAndBatchno","Location and Batch")})),W&&r().createElement(s.PhF,{name:"locationUuid",className:"select-field",labelText:_("location","Location"),id:"location",onChange:function(e){var t=null==N?void 0:N.find((function(t){return t.id===e.target.value}));ze("locationUuid",e.target.value),ze("location",(null==t?void 0:t.name)||"")},defaultValue:"",invalid:null==Re||null===(i=Re.location)||void 0===i?void 0:i.message,invalidText:null==Re||null===(h=Re.location)||void 0===h?void 0:h.message},r().createElement(s.QlF,{disabled:!0,hidden:!0,value:"",text:_("chooseALocation","Choose a location")}),null===(C=null!=N?N:[])||void 0===C?void 0:C.map((function(e){return r().createElement(s.QlF,{key:e.id,value:e.id,text:e.name})}))),te&&r().createElement(d.Qr,{control:Fe,name:"childLocations",render:function(e){var t=e.field,n=t.onChange,o=t.value;return r().createElement(s.XZJ,{id:"childLocations",onChange:n,value:o,labelText:_("includeChildLocations","Include Child Locations")})}}),$e&&r().createElement(d.Qr,{control:Fe,name:"mostLeastMoving",render:function(e){var t=e.field,n=t.onChange,o=t.value;return r().createElement(s.SYO,{name:"mostLeastMoving",legendText:_("rank","Rank"),onChange:n,value:o},r().createElement(s.EUY,{value:"MostMoving",id:"mostLeastMovingMost",labelText:_("mostMoving","Most Moving")}),r().createElement(s.EUY,{value:"LeastMoving",id:"mostLeastMovingLeast",labelText:_("leastMoving","Least Moving")}))}}),Se&&r().createElement(d.Qr,{control:Fe,name:"limit",render:function(e){var t=e.field,n=t.onChange,o=t.value;return r().createElement(s.Y2U,{id:"limitTop",allowEmpty:!0,disableWheel:!0,hideSteppers:!0,value:o,onchange:n,label:_("limit","Limit"),defaultValue:20})}}),De&&r().createElement("div",{style:{display:"flex",flexDirection:"row",gap:"0 1rem"}},r().createElement(d.Qr,{control:Fe,name:"fullFillment",render:function(e){var t=e.field,n=t.onChange,o=t.value;return r().createElement(r().Fragment,null,r().createElement(s.XZJ,{id:"allFulfillment",checked:null==o?void 0:o.includes("All"),onChange:function(e){var t=e.target.checked;n(t?["All"]:o.filter((function(e){return"All"!==e})))},labelText:_("all","All")}),r().createElement(s.XZJ,{id:"fullFulfillment",checked:null==o?void 0:o.includes("Full"),onChange:function(e){var t=e.target.checked;n(t?G(o.filter((function(e){return"All"!==e}))).concat(["Full"]):o.filter((function(e){return"Full"!==e})))},labelText:_("fullFulfillment","Full Fulfillment")}),r().createElement(s.XZJ,{id:"partialFulfillment",checked:null==o?void 0:o.includes("Partial"),onChange:function(e){var t=e.target.checked;n(t?G(o.filter((function(e){return"All"!==e}))).concat(["Partial"]):o.filter((function(e){return"Partial"!==e})))},labelText:_("partialFulfillment","Partial Fulfillment")}),r().createElement(s.XZJ,{id:"noneFulfillment",checked:null==o?void 0:o.includes("None"),onChange:function(e){var t=e.target.checked;n(t?G(o.filter((function(e){return"All"!==e}))).concat(["None"]):o.filter((function(e){return"None"!==e})))},labelText:_("noneFulfillment","Non Fulfillment")}))}})),F&&r().createElement(d.Qr,{control:Fe,name:"date",render:function(e){var t,n,o=e.field,a=o.onChange,i=o.value;return r().createElement(s.Mtg,{datePickerType:"single",maxDate:(0,g.KA)((0,g.Lg)()),locale:"en",dateFormat:g.fk,onChange:a,value:i},r().createElement(s.aj6,{id:"date",name:"date",placeholder:g.Pq,labelText:_("date","Date"),defaultValue:"",invalid:null==Re||null===(t=Re.date)||void 0===t?void 0:t.message,invalidText:null==Re||null===(n=Re.date)||void 0===n?void 0:n.message}))}})),r().createElement(s.uVA,{className:l()(R.buttonSet,(Ue={},j(Ue,R.tablet,D),j(Ue,R.desktop,!D),Ue))},r().createElement(s.zxk,{kind:"secondary",onClick:$,className:R.button},(0,u.getCoreTranslation)("cancel")),r().createElement(s.zxk,{type:"submit",className:R.button,onClick:Ge},(0,u.getCoreTranslation)("save"))))}}}]);