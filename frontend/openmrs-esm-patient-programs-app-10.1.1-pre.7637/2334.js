(globalThis.webpackChunk_openmrs_esm_patient_programs_app=globalThis.webpackChunk_openmrs_esm_patient_programs_app||[]).push([[2334],{8458:(e,r,n)=>{"use strict";n.d(r,{A:()=>i});var t=n(977),a=n.n(t),o=n(5924),l=n.n(o)()(a());l.push([e.id,".-esm-patient-programs__programs-action-menu__layer___45Wp0{height:100%}.-esm-patient-programs__programs-action-menu__layer___45Wp0 .cds--overflow-menu{min-height:unset}.-esm-patient-programs__programs-action-menu__menuItem___hab8w{max-width:none}","",{version:3,sources:["webpack://./src/programs/programs-action-menu.scss"],names:[],mappings:"AAAA,4DACE,WAAA,CAEA,gFACE,gBAAA,CAIJ,+DACE,cAAA",sourcesContent:[".layer {\n  height: 100%;\n\n  :global(.cds--overflow-menu) {\n    min-height: unset;\n  }\n}\n\n.menuItem {\n  max-width: none;\n}\n"],sourceRoot:""}]),l.locals={layer:"-esm-patient-programs__programs-action-menu__layer___45Wp0",menuItem:"-esm-patient-programs__programs-action-menu__menuItem___hab8w"};const i=l},9049:(e,r,n)=>{"use strict";n.d(r,{A:()=>i});var t=n(977),a=n.n(t),o=n(5924),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79;--bottom-nav-height: 4rem;--workspace-header-height: 3rem;--tablet-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--bottom-nav-height));--desktop-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--workspace-header-height))}.-esm-patient-programs__programs-detailed-summary__widgetCard___Qfbyc{border:1px solid #e0e0e0;border-bottom:none}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/programs/programs-detailed-summary.scss"],names:[],mappings:"AAsDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CACA,yBAAA,CACA,+BAAA,CACA,oGAAA,CACA,2GAAA,CC3DF,sEACE,wBAAA,CACA,kBAAA",sourcesContent:["@use '@carbon/layout';\n\n$ui-01: #f4f4f4;\n$ui-02: #ffffff;\n$ui-03: #e0e0e0;\n$ui-04: #8d8d8d;\n$ui-05: #161616;\n$text-02: #525252;\n$text-03: #a8a8a8;\n$ui-background: #ffffff;\n$color-gray-30: #c6c6c6;\n$color-gray-70: #525252;\n$color-gray-100: #161616;\n$color-blue-60-2: #0f62fe;\n$color-blue-10: #edf5ff;\n$color-yellow-50: #feecae;\n$carbon--red-50: #fa4d56;\n$inverse-link: #78a9ff;\n$support-02: #24a148;\n$inverse-support-03: #f1c21b;\n$warning-background: #fff8e1;\n$openmrs-background-grey: #f4f4f4;\n$danger: #da1e28;\n$interactive-01: #0f62fe;\n$field-01: #f4f4f4;\n$grey-2: #e0e0e0;\n$labeldropdown: #c6c6c6;\n\n$brand-primary-10: #d9fbfb;\n$brand-primary-20: #9ef0f0;\n$brand-primary-30: #3ddbd9;\n$brand-primary-40: #08bdba;\n$brand-primary-50: #009d9a;\n\n/* 60,70 and 80 are already declared as brand-01, 02 and 03 respectively */\n\n$brand-primary-90: #022b30;\n$brand-primary-100: #081a1c;\n\n@mixin brand-01($property) {\n  #{$property}: #005d5d;\n  #{$property}: var(--brand-01);\n}\n\n@mixin brand-02($property) {\n  #{$property}: #004144;\n  #{$property}: var(--brand-02);\n}\n\n@mixin brand-03($property) {\n  #{$property}: #007d79;\n  #{$property}: var(--brand-03);\n}\n\n:root {\n  --brand-01: #005d5d;\n  --brand-02: #004144;\n  --brand-03: #007d79;\n  --bottom-nav-height: #{layout.$spacing-10};\n  --workspace-header-height: #{layout.$spacing-09};\n  --tablet-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--bottom-nav-height));\n  --desktop-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--workspace-header-height));\n}\n\n$breakpoint-phone-min: 0px;\n$breakpoint-phone-max: 600px;\n$breakpoint-tablet-min: 601px;\n$breakpoint-tablet-max: 1023px;\n$breakpoint-small-desktop-min: 1024px;\n$breakpoint-small-desktop-max: 1439px;\n$breakpoint-large-desktop-min: 1440px;\n$breakpoint-large-desktop-max: 99999999px;\n\n/* These color variables will be removed in a future release */\n$brand-teal-01: #007d79;\n$brand-01: #005d5d;\n$brand-02: #004144;\n","@use '@openmrs/esm-styleguide/src/vars' as *;\n\n.widgetCard {\n  border: 1px solid $ui-03;\n  border-bottom: none;\n}\n"],sourceRoot:""}]),l.locals={widgetCard:"-esm-patient-programs__programs-detailed-summary__widgetCard___Qfbyc"};const i=l},5699:(e,r,n)=>{"use strict";n.d(r,{A:()=>i});var t=n(977),a=n.n(t),o=n(5924),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79;--bottom-nav-height: 4rem;--workspace-header-height: 3rem;--tablet-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--bottom-nav-height));--desktop-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--workspace-header-height))}.-esm-patient-programs__programs-overview__widgetCard___9hNqv{border:1px solid #e0e0e0}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/programs/programs-overview.scss"],names:[],mappings:"AAsDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CACA,yBAAA,CACA,+BAAA,CACA,oGAAA,CACA,2GAAA,CC3DF,8DACE,wBAAA",sourcesContent:["@use '@carbon/layout';\n\n$ui-01: #f4f4f4;\n$ui-02: #ffffff;\n$ui-03: #e0e0e0;\n$ui-04: #8d8d8d;\n$ui-05: #161616;\n$text-02: #525252;\n$text-03: #a8a8a8;\n$ui-background: #ffffff;\n$color-gray-30: #c6c6c6;\n$color-gray-70: #525252;\n$color-gray-100: #161616;\n$color-blue-60-2: #0f62fe;\n$color-blue-10: #edf5ff;\n$color-yellow-50: #feecae;\n$carbon--red-50: #fa4d56;\n$inverse-link: #78a9ff;\n$support-02: #24a148;\n$inverse-support-03: #f1c21b;\n$warning-background: #fff8e1;\n$openmrs-background-grey: #f4f4f4;\n$danger: #da1e28;\n$interactive-01: #0f62fe;\n$field-01: #f4f4f4;\n$grey-2: #e0e0e0;\n$labeldropdown: #c6c6c6;\n\n$brand-primary-10: #d9fbfb;\n$brand-primary-20: #9ef0f0;\n$brand-primary-30: #3ddbd9;\n$brand-primary-40: #08bdba;\n$brand-primary-50: #009d9a;\n\n/* 60,70 and 80 are already declared as brand-01, 02 and 03 respectively */\n\n$brand-primary-90: #022b30;\n$brand-primary-100: #081a1c;\n\n@mixin brand-01($property) {\n  #{$property}: #005d5d;\n  #{$property}: var(--brand-01);\n}\n\n@mixin brand-02($property) {\n  #{$property}: #004144;\n  #{$property}: var(--brand-02);\n}\n\n@mixin brand-03($property) {\n  #{$property}: #007d79;\n  #{$property}: var(--brand-03);\n}\n\n:root {\n  --brand-01: #005d5d;\n  --brand-02: #004144;\n  --brand-03: #007d79;\n  --bottom-nav-height: #{layout.$spacing-10};\n  --workspace-header-height: #{layout.$spacing-09};\n  --tablet-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--bottom-nav-height));\n  --desktop-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--workspace-header-height));\n}\n\n$breakpoint-phone-min: 0px;\n$breakpoint-phone-max: 600px;\n$breakpoint-tablet-min: 601px;\n$breakpoint-tablet-max: 1023px;\n$breakpoint-small-desktop-min: 1024px;\n$breakpoint-small-desktop-max: 1439px;\n$breakpoint-large-desktop-min: 1440px;\n$breakpoint-large-desktop-max: 99999999px;\n\n/* These color variables will be removed in a future release */\n$brand-teal-01: #007d79;\n$brand-01: #005d5d;\n$brand-02: #004144;\n","@use '@openmrs/esm-styleguide/src/vars' as *;\n\n.widgetCard {\n  border: 1px solid $ui-03;\n}\n"],sourceRoot:""}]),l.locals={widgetCard:"-esm-patient-programs__programs-overview__widgetCard___9hNqv"};const i=l},2334:(e,r,n)=>{"use strict";n.r(r),n.d(r,{deleteProgramConfirmationModal:()=>q,importTranslation:()=>H,programsDashboardLink:()=>X,programsDetailedSummary:()=>G,programsFormWorkspace:()=>Q,programsOverview:()=>K,startupApp:()=>M});var t=n(8254),a=n(2979),o={hideAddProgramButton:{_type:t.Type.Boolean,_default:!1},showProgramStatusField:{_type:t.Type.Boolean,_description:"Whether to show the Program status field in the Record program enrollment and Edit program enrollment forms. If set to true, the `Program status` field is displayed in the Programs datatable",_default:!1}},l=n(1343),i=n.n(l),s=n(3373),d=n.n(s),c=n(3150),u=n(3748),m=n(7644),p=n(506),g=n.n(p),b=n(9867),f=n.n(b),v=n(105),h=n.n(v),y=n(7154),A=n.n(y),w=n(5326),k=n.n(w),E=n(7763),$=n.n(E),_=n(8458),C={};C.styleTagTransform=$(),C.setAttributes=A(),C.insert=h().bind(null,"head"),C.domAPI=f(),C.insertStyleElement=k(),g()(_.A,C);const j=_.A&&_.A.locals?_.A.locals:void 0;var P=function(e){var r=e.patientUuid,n=e.programEnrollmentId,o=(0,c.useTranslation)().t,s="tablet"===(0,t.useLayoutType)(),d=(0,l.useCallback)((function(){return(0,a.launchPatientWorkspace)("programs-form-workspace",{workspaceTitle:o("editProgramEnrollment","Edit program enrollment"),programEnrollmentId:n})}),[n,o]),m=(0,l.useCallback)((function(){var e=(0,t.showModal)("program-delete-confirmation-modal",{closeDeleteModal:function(){return e()},programEnrollmentId:n,patientUuid:r,size:"sm"})}),[n,r]);return i().createElement(u.Wdr,{className:j.layer},i().createElement(u.obU,{align:"left","aria-label":o("editOrDeleteProgram","Edit or delete program"),flipped:!0,size:s?"lg":"sm"},i().createElement(u.XSD,{className:j.menuItem,id:"editProgram",itemText:o("edit","Edit"),onClick:d}),i().createElement(u.XSD,{className:j.menuItem,id:"deleteProgam",hasDivider:!0,isDelete:!0,itemText:o("delete","Delete"),onClick:m})))},O=n(5699),D={};D.styleTagTransform=$(),D.setAttributes=A(),D.insert=h().bind(null,"head"),D.domAPI=f(),D.insertStyleElement=k(),g()(O.A,D);const x=O.A&&O.A.locals?O.A.locals:void 0;function S(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function T(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){S(e,r,n[r])}))}return e}var B=n(9049),N={};N.styleTagTransform=$(),N.setAttributes=A(),N.insert=h().bind(null,"head"),N.domAPI=f(),N.insertStyleElement=k(),g()(B.A,N);const I=B.A&&B.A.locals?B.A.locals:void 0;function L(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function F(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){L(e,r,n[r])}))}return e}function U(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var z="@openmrs/esm-patient-programs-app",W={featureName:"patient-programs",moduleName:z},H=n(4767);function M(){(0,t.defineConfigSchema)(z,o)}var R,V,K=(0,t.getSyncLifecycle)((function(e){e.basePath;var r=e.patientUuid,n=(0,c.useTranslation)().t,o=(0,t.useConfig)(),s=n("programs","Program enrollments"),p=n("carePrograms","Care Programs"),g=n("seeAll","See all"),b="${openmrsSpaBase}/patient/".concat(r,"/chart/Programs"),f=(0,t.useLayoutType)(),v="tablet"===f,h=(0,t.isDesktop)(f),y=(0,m.v5)(r),A=y.activeEnrollments,w=y.availablePrograms,k=y.eligiblePrograms,E=y.enrollments,$=y.error,_=y.isLoading,C=y.isValidating,j=(0,t.usePagination)(null!=E?E:[],5),O=j.results,D=j.goTo,S=j.currentPage,B=(0,l.useCallback)((function(){return(0,a.launchPatientWorkspace)("programs-form-workspace")}),[]),N=[{key:"display",header:n("activePrograms","Active programs")},{key:"location",header:n("location","Location")},{key:"dateEnrolled",header:n("dateEnrolled","Date enrolled")},{key:"status",header:n("status","Status")},{key:"state",header:n("state","State")},{key:"actions",header:n("actions","Actions")}],I=i().useMemo((function(){return null==O?void 0:O.map((function(e){var r,a,o=e?(0,m.Vh)(e.states):null;return{id:e.uuid,display:e.display,location:null!==(a=null===(r=e.location)||void 0===r?void 0:r.display)&&void 0!==a?a:"--",dateEnrolled:e.dateEnrolled?(0,t.formatDatetime)(new Date(e.dateEnrolled)):"--",status:e.dateCompleted?"".concat(n("completedOn","Completed On")," ").concat((0,t.formatDate)(new Date(e.dateCompleted))):n("active","Active"),state:o?o.state.concept.display:"--"}}))}),[O,n]);return _?i().createElement(u.OOb,{role:"progressbar",compact:h,zebra:!0}):$?i().createElement(a.ErrorState,{error:$,headerTitle:p}):(null==A?void 0:A.length)?i().createElement("div",{className:x.widgetCard},i().createElement(a.CardHeader,{title:p},i().createElement("span",null,C?i().createElement(u.OuH,null):null),o.hideAddProgramButton?null:i().createElement(u.$nd,{kind:"ghost",renderIcon:function(e){return i().createElement(t.AddIcon,T({size:16},e))},iconDescription:"Add programs",onClick:B,disabled:(null==w?void 0:w.length)&&0===(null==k?void 0:k.length)},n("add","Add"))),(null==w?void 0:w.length)&&0===(null==k?void 0:k.length)&&i().createElement(u.jeF,{style:{minWidth:"100%",margin:"0",padding:"0"},kind:"info",lowContrast:!0,subtitle:n("noEligibleEnrollments","There are no more programs left to enroll this patient in"),title:n("fullyEnrolled","Enrolled in all programs")}),i().createElement(u.bQt,{rows:I,headers:N,isSortable:!0,size:v?"lg":"sm",useZebraStyles:!0},(function(e){var n=e.rows,t=e.headers,a=e.getHeaderProps,o=e.getRowProps,l=e.getTableProps;return i().createElement(u.K3K,null,i().createElement(u.XIK,T({"aria-label":"programs overview"},l()),i().createElement(u.ndF,null,i().createElement(u.Hjg,null,t.map((function(e){var r,n;return i().createElement(u.A0N,T({className:d()(x.productiveHeading01,x.text02)},a({header:e,isSortable:e.isSortable})),null!==(n=null===(r=e.header)||void 0===r?void 0:r.content)&&void 0!==n?n:e.header)})))),i().createElement(u.BFY,null,n.map((function(e,n){var t;return i().createElement(u.Hjg,T({key:e.id},o({row:e})),e.cells.map((function(e){var r,n;return i().createElement(u.nA6,{key:e.id},null!==(n=null===(r=e.value)||void 0===r?void 0:r.content)&&void 0!==n?n:e.value)})),i().createElement(u.nA6,{className:"cds--table-column-menu"},i().createElement(P,{patientUuid:r,programEnrollmentId:null===(t=A[n])||void 0===t?void 0:t.uuid})))})))))})),i().createElement(a.PatientChartPagination,{currentItems:O.length,onPageNumberChange:function(e){var r=e.page;return D(r)},pageNumber:S,pageSize:5,totalItems:null==E?void 0:E.length,dashboardLinkUrl:b,dashboardLinkLabel:g})):i().createElement(a.EmptyState,{displayText:s,headerTitle:p,launchForm:B})}),W),G=(0,t.getSyncLifecycle)((function(e){var r=e.patientUuid,n=(0,c.useTranslation)().t,o=(0,t.useConfig)(),s=o.hideAddProgramButton,p=o.showProgramStatusField,g=(0,t.useLayoutType)(),b="tablet"===g,f=(0,t.isDesktop)(g),v=n("programEnrollments","Program enrollments"),h=n("carePrograms","Care Programs"),y=(0,m.v5)(r),A=y.enrollments,w=y.isLoading,k=y.error,E=y.isValidating,$=y.availablePrograms,_=(0,l.useMemo)((function(){var e=[{key:"display",header:n("activePrograms","Active programs")},{key:"location",header:n("location","Location")},{key:"dateEnrolled",header:n("dateEnrolled","Date enrolled")},{key:"status",header:n("status","Status")}];return p&&e.push({key:"state",header:n("programStatus","Program status")}),e}),[n,p]),C=(0,l.useMemo)((function(){return null==A?void 0:A.map((function(e){var r,a,o=e?(0,m.Vh)(e.states):null;return{id:e.uuid,display:e.display,location:null!==(a=null===(r=e.location)||void 0===r?void 0:r.display)&&void 0!==a?a:"--",dateEnrolled:(0,t.formatDatetime)(new Date(e.dateEnrolled)),status:e.dateCompleted?"".concat(n("completedOn","Completed On")," ").concat((0,t.formatDate)(new Date(e.dateCompleted))):n("active","Active"),state:o?o.state.concept.display:"--"}}))}),[A,n]),j=(0,l.useCallback)((function(){return(0,a.launchPatientWorkspace)("programs-form-workspace")}),[]),O=(0,l.useMemo)((function(){return!(!(null==$?void 0:$.length)||!(null==A?void 0:A.length))&&A.filter((function(e){return!e.dateCompleted})).length===$.length}),[$,A]);return w?i().createElement(u.OOb,{role:"progressbar",compact:f,zebra:!0}):k?i().createElement(a.ErrorState,{error:k,headerTitle:h}):(null==A?void 0:A.length)?i().createElement("div",{className:I.widgetCard},i().createElement(a.CardHeader,{title:h},i().createElement("span",null,E?i().createElement(u.OuH,null):null),s?null:i().createElement(u.$nd,{disabled:O,kind:"ghost",renderIcon:function(e){return i().createElement(t.AddIcon,F({size:16},e))},iconDescription:n("addPrograms","Add programs"),onClick:j},n("add","Add"))),O&&i().createElement(u.jeF,{style:{minWidth:"100%",margin:"0",padding:"0"},lowContrast:!0,subtitle:n("noEligibleEnrollments","There are no more programs left to enroll this patient in"),title:n("fullyEnrolled","Enrolled in all programs")}),i().createElement(u.bQt,{rows:C,headers:_,isSortable:!0,size:b?"lg":"sm",useZebraStyles:!0},(function(e){var n=e.rows,t=e.headers,a=e.getHeaderProps,o=e.getTableProps,l=e.getRowProps;return i().createElement(u.K3K,null,i().createElement(u.XIK,F({"aria-label":"program enrollments"},o()),i().createElement(u.ndF,null,i().createElement(u.Hjg,null,t.map((function(e){var r,n;return i().createElement(u.A0N,F({className:d()(I.productiveHeading01,I.text02)},a({header:e,isSortable:e.isSortable})),null!==(n=null===(r=e.header)||void 0===r?void 0:r.content)&&void 0!==n?n:e.header)})),i().createElement(u.A0N,null))),i().createElement(u.BFY,null,n.map((function(e,n){var t;return i().createElement(u.Hjg,F({key:e.id},l({row:e})),e.cells.map((function(e){var r,n;return i().createElement(u.nA6,{key:e.id},null!==(n=null===(r=e.value)||void 0===r?void 0:r.content)&&void 0!==n?n:e.value)})),i().createElement(u.nA6,{className:"cds--table-column-menu"},i().createElement(P,{patientUuid:r,programEnrollmentId:null===(t=A[n])||void 0===t?void 0:t.uuid})))})))))}))):i().createElement(a.EmptyState,{displayText:v,headerTitle:h,launchForm:j})}),W),X=(0,t.getSyncLifecycle)((0,a.createDashboardLink)((R=function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){U(e,r,n[r])}))}return e}({},{slot:"patient-chart-programs-dashboard-slot",path:"Programs",title:"Programs",icon:"omrs-icon-programs"}),V=null!=(V={moduleName:z})?V:{},Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(V)):function(e){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(V)).forEach((function(e){Object.defineProperty(R,e,Object.getOwnPropertyDescriptor(V,e))})),R)),W),Q=(0,t.getAsyncLifecycle)((function(){return Promise.all([n.e(7038),n.e(67)]).then(n.bind(n,67))}),W),q=(0,t.getAsyncLifecycle)((function(){return n.e(2251).then(n.bind(n,2251))}),W)},7644:(e,r,n)=>{"use strict";n.d(r,{lP:()=>z,a9:()=>H,Vh:()=>R,Gy:()=>W,UA:()=>U,j1:()=>F,v5:()=>M});var t=n(1123),a=n(8254),o=n(9543),l=n(6097);const i=function(e,r,n){for(var t=-1,a=Object(e),o=n(e),l=o.length;l--;){var i=o[++t];if(!1===r(a[i],i,a))break}return e};var s=n(4768);var d=n(1475);const c=(u=function(e,r){return e&&i(e,r,s.A)},function(e,r){if(null==e)return e;if(!(0,d.A)(e))return u(e,r);for(var n=e.length,t=-1,a=Object(e);++t<n&&!1!==r(a[t],t,a););return e});var u;const m=function(e,r){var n=[];return c(e,(function(e,t,a){r(e,t,a)&&n.push(e)})),n};var p=n(5936),g=n(6956);const b=function(e,r){return((0,g.A)(e)?l.A:m)(e,(0,p.A)(r,3))};var f=n(7419),v=n(2135),h=n(7313);var y=/\s/;var A=/^\s+/;const w=function(e){return e?e.slice(0,function(e){for(var r=e.length;r--&&y.test(e.charAt(r)););return r}(e)+1).replace(A,""):e};var k=n(7942),E=n(4089),$=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,C=/^0o[0-7]+$/i,j=parseInt;var P=1/0;const O=function(e){return e?(e=function(e){if("number"==typeof e)return e;if((0,E.A)(e))return NaN;if((0,k.A)(e)){var r="function"==typeof e.valueOf?e.valueOf():e;e=(0,k.A)(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=w(e);var n=_.test(e);return n||C.test(e)?j(e.slice(2),n?2:8):$.test(e)?NaN:+e}(e))===P||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0};var D=n(5133);const x=function(e){return null==e?[]:function(e,r){return(0,D.A)(r,(function(r){return e[r]}))}(e,(0,s.A)(e))};var S=Math.max;const T=function(e,r,n,t){e=(0,d.A)(e)?e:x(e),n=n&&!t?function(e){var r=O(e),n=r%1;return r==r?n?r-n:r:0}(n):0;var a=e.length;return n<0&&(n=S(a+n,0)),function(e){return"string"==typeof e||!(0,g.A)(e)&&(0,h.A)(e)&&"[object String]"==(0,v.A)(e)}(e)?n<=a&&e.indexOf(r,n)>-1:!!a&&(0,f.A)(e,r,n)>-1},B=function(e,r){var n=-1,t=(0,d.A)(e)?Array(e.length):[];return c(e,(function(e,a,o){t[++n]=r(e,a,o)})),t},N=function(e,r){return((0,g.A)(e)?D.A:B)(e,(0,p.A)(r,3))};function I(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var L="custom:(uuid,display,program,dateEnrolled,dateCompleted,location:(uuid,display),states:(startDate,endDate,voided,state:(uuid,concept:(display))))";function F(e){var r,n="".concat(a.restBaseUrl,"/programenrollment?patient=").concat(e,"&v=").concat(L),l=(0,t.Ay)(e?n:null,a.openmrsFetch),i=l.data,s=l.error,d=l.isLoading,c=l.isValidating,u=l.mutate,m=(null==i||null===(r=i.data)||void 0===r?void 0:r.results.length)>0?null==i?void 0:i.data.results.sort((function(e,r){return r.dateEnrolled>e.dateEnrolled?1:-1})):null,p=null==m?void 0:m.filter((function(e){return!e.dateCompleted}));return{data:i?(0,o.A)(m,(function(e){var r;return null==e||null===(r=e.program)||void 0===r?void 0:r.uuid})):null,error:s,isLoading:d,isValidating:c,activeEnrollments:p,mutateEnrollments:u}}function U(e){var r,n,o=(0,t.Ay)("".concat(a.restBaseUrl,"/program?v=custom:(uuid,display,allWorkflows,concept:(uuid,display))"),a.openmrsFetch),l=o.data,i=o.error,s=o.isLoading,d=null!==(n=null==l||null===(r=l.data)||void 0===r?void 0:r.results)&&void 0!==n?n:null;return{data:d,error:i,isLoading:s,eligiblePrograms:b(d,(function(r){return!T(N(e,"program.uuid"),r.uuid)}))}}function z(e,r){if(!e)return null;var n=e.program,t=e.patient,o=e.dateEnrolled,l=e.dateCompleted,i=e.location,s=e.states;return(0,a.openmrsFetch)("".concat(a.restBaseUrl,"/programenrollment"),{method:"POST",headers:{"Content-Type":"application/json"},body:{program:n,patient:t,dateEnrolled:o,dateCompleted:l,location:i,states:s},signal:r.signal})}function W(e,r,n){if(!r&&!r.program)return null;var t=r.dateEnrolled,o=r.dateCompleted,l=r.location,i=r.states;return(0,a.openmrsFetch)("".concat(a.restBaseUrl,"/programenrollment/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:{dateEnrolled:t,dateCompleted:o,location:l,states:i},signal:n.signal})}function H(e){var r=new AbortController;return(0,a.openmrsFetch)("".concat(a.restBaseUrl,"/programenrollment/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"},signal:r.signal})}var M=function(e){var r,n,t=F(e),a=t.data,o=t.error,l=t.isLoading,i=t.isValidating,s=t.activeEnrollments,d=U(a),c=d.data,u=d.eligiblePrograms;return r=function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){I(e,r,n[r])}))}return e}({enrollments:a},{isLoading:l,error:o}),n=null!=(n={isValidating:i,activeEnrollments:s,availablePrograms:c,eligiblePrograms:u})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):function(e){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))})),r},R=function(e){var r=e.filter((function(e){return!e.voided}));return r.find((function(e){return!e.endDate}))||r.sort((function(e,r){return new Date(r.endDate).getTime()-new Date(e.endDate).getTime()}))[0]}},4767:(e,r,n)=>{var t={"./am.json":[1197,1197],"./ar.json":[4132,4132],"./ar_SY.json":[7617,7617],"./bn.json":[7159,7159],"./de.json":[4944,4944],"./en.json":[4300,4300],"./es.json":[3099,3099],"./es_MX.json":[8349,8349],"./fr.json":[4055,4055],"./he.json":[4652,4652],"./hi.json":[6840,6840],"./hi_IN.json":[5442,5442],"./id.json":[2690,2690],"./it.json":[9538,9538],"./km.json":[4335,4335],"./ku.json":[9895,9895],"./ky.json":[8163,8163],"./lg.json":[4618,4618],"./ne.json":[2146,2146],"./pl.json":[1119,1119],"./pt.json":[6679,6679],"./pt_BR.json":[4087,6468],"./qu.json":[5173,5173],"./ro_RO.json":[6022,6022],"./ru_RU.json":[986,986],"./si.json":[6859,6859],"./sw.json":[9913,9913],"./sw_KE.json":[8618,8618],"./tr.json":[5241,5241],"./tr_TR.json":[9900,9900],"./uk.json":[723,723],"./uz.json":[3584,3584],"./uz@Latn.json":[7097,7097],"./uz_UZ.json":[890,890],"./vi.json":[9214,9214],"./zh.json":[5661,5661],"./zh_CN.json":[9879,9879]};function a(e){if(!n.o(t,e))return Promise.resolve().then((()=>{var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}));var r=t[e],a=r[0];return n.e(r[1]).then((()=>n(a)))}a.keys=()=>Object.keys(t),a.id=4767,e.exports=a}}]);