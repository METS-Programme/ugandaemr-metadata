(globalThis.webpackChunk_ugandaemr_esm_laboratory_management_app=globalThis.webpackChunk_ugandaemr_esm_laboratory_management_app||[]).push([[896],{4340:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}:root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__parameter-info-component__productiveHeading01___DQWIc{font-size:var(--cds-heading-01-font-size, 0.875rem);font-weight:var(--cds-heading-01-font-weight, 600);line-height:var(--cds-heading-01-line-height, 1.42857);letter-spacing:var(--cds-heading-01-letter-spacing, 0.16px)}.-esm-laboratory-management__parameter-info-component__productiveHeading02___dzdgF{font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0)}.-esm-laboratory-management__parameter-info-component__productiveHeading03___Tubnt{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-laboratory-management__parameter-info-component__productiveHeading04___pzmwK{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-laboratory-management__parameter-info-component__bodyLong01___XbV52{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-laboratory-management__parameter-info-component__bodyShort01___HY2CD{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-laboratory-management__parameter-info-component__bodyShort02___iu7M3{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-laboratory-management__parameter-info-component__text02___gdQXY{color:#525252}.-esm-laboratory-management__parameter-info-component__label01___kPbGY{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-laboratory-management__parameter-info-component__modal___rjE66{position:fixed;width:100vw;height:100vh;display:grid;background-color:rgba(0,0,0,.5);z-index:9000;justify-items:center;align-items:center}.-esm-laboratory-management__parameter-info-component__expandedRowAdditionInfo___AoHH7{display:flex;row-gap:.5rem;column-gap:1rem;flex-wrap:wrap;flex-grow:.5;flex-basis:min-content;align-content:flex-start;margin-left:2rem}.-esm-laboratory-management__parameter-info-component__expandedRowAdditionInfoTileField___B6RfT{height:min-content;white-space:wrap !important;min-width:7rem}.-esm-laboratory-management__parameter-info-component__expandedRowAdditionInfoTileFieldFillRow___UbyIx{width:fit-content}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/root.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./src/components/batch-job/parameter-info.component.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CAHF,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,mFC81BI,mDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,2DAAA,CD11BJ,mFC01BI,+CAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDt1BJ,mFCs1BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDl1BJ,mFCk1BI,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CD90BJ,0EC80BI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CD10BJ,2EC00BI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDt0BJ,2ECs0BI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CDl0BJ,sEACE,aD5BQ,CC+BV,uEC8zBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CD1zBJ,qEACE,cAAA,CACA,WAAA,CACA,YAAA,CACA,YAAA,CACA,+BAAA,CACA,YAAA,CACA,oBAAA,CACA,kBAAA,CE1CF,uFACI,YAAA,CACA,aAAA,CACA,eAAA,CACA,cAAA,CACA,YAAA,CACA,sBAAA,CACA,wBAAA,CACA,gBAAA,CAGJ,gGACE,kBAAA,CACA,2BAAA,CACA,cAAA,CAGF,uGACE,iBAAA",sourceRoot:""}]),l.locals={productiveHeading01:"-esm-laboratory-management__parameter-info-component__productiveHeading01___DQWIc",productiveHeading02:"-esm-laboratory-management__parameter-info-component__productiveHeading02___dzdgF",productiveHeading03:"-esm-laboratory-management__parameter-info-component__productiveHeading03___Tubnt",productiveHeading04:"-esm-laboratory-management__parameter-info-component__productiveHeading04___pzmwK",bodyLong01:"-esm-laboratory-management__parameter-info-component__bodyLong01___XbV52",bodyShort01:"-esm-laboratory-management__parameter-info-component__bodyShort01___HY2CD",bodyShort02:"-esm-laboratory-management__parameter-info-component__bodyShort02___iu7M3",text02:"-esm-laboratory-management__parameter-info-component__text02___gdQXY",label01:"-esm-laboratory-management__parameter-info-component__label01___kPbGY",modal:"-esm-laboratory-management__parameter-info-component__modal___rjE66",expandedRowAdditionInfo:"-esm-laboratory-management__parameter-info-component__expandedRowAdditionInfo___AoHH7",expandedRowAdditionInfoTileField:"-esm-laboratory-management__parameter-info-component__expandedRowAdditionInfoTileField___B6RfT",expandedRowAdditionInfoTileFieldFillRow:"-esm-laboratory-management__parameter-info-component__expandedRowAdditionInfoTileFieldFillRow___UbyIx"};const i=l},3540:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__care-setting-selector-radio-button-group-component__radioLabel___XeP7A{padding-top:.45rem}.-esm-laboratory-management__care-setting-selector-radio-button-group-component__horizontalRadioButtons___kC75h{padding-top:0;display:flex;flex-direction:row;align-items:center;column-gap:1rem;padding-bottom:0}.-esm-laboratory-management__care-setting-selector-radio-button-group-component__errorText___v1_0Y{color:#da1e28}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/components/care-setting-selector/care-setting-selector-radio-button-group.component.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,oGACI,kBAAA,CAGJ,gHACI,aAAA,CACA,YAAA,CACA,kBAAA,CACA,kBAAA,CACA,eAAA,CACA,gBAAA,CAGJ,mGACI,aDEK",sourceRoot:""}]),l.locals={radioLabel:"-esm-laboratory-management__care-setting-selector-radio-button-group-component__radioLabel___XeP7A",horizontalRadioButtons:"-esm-laboratory-management__care-setting-selector-radio-button-group-component__horizontalRadioButtons___kC75h",errorText:"-esm-laboratory-management__care-setting-selector-radio-button-group-component__errorText___v1_0Y"};const i=l},4928:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__controlled-accession-number-component__generateBtn___EMQvK{margin:0;padding:0;height:2.45rem;width:2.45rem;align-items:center;min-height:0}.-esm-laboratory-management__controlled-accession-number-component__generateContainer___bZlAx{display:flex;align-items:center;justify-content:flex-start;column-gap:0}.-esm-laboratory-management__controlled-accession-number-component__errorText___uG4uW{color:#da1e28;padding:0}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/components/controlled-accession-number/controlled-accession-number.component.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCjDF,wFACI,QAAA,CACA,SAAA,CACA,cAAA,CACA,aAAA,CACA,kBAAA,CACA,YAAA,CAGJ,8FACI,YAAA,CACA,kBAAA,CACA,0BAAA,CACA,YAAA,CAIJ,sFACI,aDJK,CCKL,SAAA",sourceRoot:""}]),l.locals={generateBtn:"-esm-laboratory-management__controlled-accession-number-component__generateBtn___EMQvK",generateContainer:"-esm-laboratory-management__controlled-accession-number-component__generateContainer___bZlAx",errorText:"-esm-laboratory-management__controlled-accession-number-component__errorText___uG4uW"};const i=l},5564:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,".-esm-laboratory-management__controlled-number-input__smallPlaceholderText___ybWrn input[type=number]::placeholder{font-size:.8rem;opacity:.5}.-esm-laboratory-management__controlled-number-input__smallPlaceholderText___ybWrn .cds--number__controls{display:none}.-esm-laboratory-management__controlled-number-input__smallPlaceholderText___ybWrn .cds--number input[type=number]{min-width:0;padding-right:0rem}.-esm-laboratory-management__controlled-number-input__smallPlaceholderText___ybWrn .cds--number input[type=number][data-invalid]{padding-right:0rem}","",{version:3,sources:["webpack://./src/components/controlled-text-input/controlled-number-input.scss"],names:[],mappings:"AACI,mHACI,eAAA,CACA,UAAA,CAGJ,0GACI,YAAA,CAGJ,mHACI,WAAA,CACA,kBAAA,CAGJ,iIACI,kBAAA",sourceRoot:""}]),l.locals={smallPlaceholderText:"-esm-laboratory-management__controlled-number-input__smallPlaceholderText___ybWrn"};const i=l},2608:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}:root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__overlay__productiveHeading01___bTYPD{font-size:var(--cds-heading-01-font-size, 0.875rem);font-weight:var(--cds-heading-01-font-weight, 600);line-height:var(--cds-heading-01-line-height, 1.42857);letter-spacing:var(--cds-heading-01-letter-spacing, 0.16px)}.-esm-laboratory-management__overlay__productiveHeading02___iboRX{font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0)}.-esm-laboratory-management__overlay__productiveHeading03___XoXge{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-laboratory-management__overlay__productiveHeading04___F9SRj{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-laboratory-management__overlay__bodyLong01___e08Ey{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-laboratory-management__overlay__bodyShort01___TNtQk{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-laboratory-management__overlay__bodyShort02___SJwiA{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-laboratory-management__overlay__text02___Lrynp{color:#525252}.-esm-laboratory-management__overlay__label01___yCLg9{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-laboratory-management__overlay__modal___ZL_rL{position:fixed;width:100vw;height:100vh;display:grid;background-color:rgba(0,0,0,.5);z-index:9000;justify-items:center;align-items:center}.-esm-laboratory-management__overlay__desktopOverlay___DRRcP{position:fixed;top:3rem;width:37rem;right:0;bottom:0;border-left:1px solid #a8a8a8;background-color:#f4f4f4;overflow-y:auto;height:calc(100vh - 3rem)}.-esm-laboratory-management__overlay__desktopOverlay___DRRcP::after{height:100%;border-left:1px solid #a8a8a8}.-esm-laboratory-management__overlay__desktopOverlay___DRRcP:has(.elevate-above-grid){z-index:9999}.-esm-laboratory-management__overlay__tabletOverlay___bi9Sa{position:fixed;top:0;bottom:0;left:0;right:0;z-index:9999;background-color:#f4f4f4;overflow-y:scroll;-ms-overflow-style:none;scrollbar-width:none}.-esm-laboratory-management__overlay__tabletOverlay___bi9Sa::-webkit-scrollbar{width:0}.-esm-laboratory-management__overlay__tabletOverlay___bi9Sa>div{margin-top:3rem}.-esm-laboratory-management__overlay__tabletOverlayHeader___crCdl button{background-color:#005d5d;background-color:var(--brand-01)}.-esm-laboratory-management__overlay__tabletOverlayHeader___crCdl .-esm-laboratory-management__overlay__headerContent___Xz3AI{color:#fff}.-esm-laboratory-management__overlay__desktopHeader___FXeL7{display:flex;justify-content:space-between;align-items:center;background-color:#e0e0e0;border-bottom:1px solid #a8a8a8;position:sticky;position:-webkit-sticky;width:100%;z-index:1000;top:0}.-esm-laboratory-management__overlay__headerContent___Xz3AI{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);padding:0 1rem;color:#161616}.-esm-laboratory-management__overlay__closeButton___hn6LM{background-color:#fff;color:#161616;fill:#161616}.omrs-breakpoint-gt-tablet .-esm-laboratory-management__overlay__overlayContent___rBbVD{padding:0 0 0 0;overflow-y:auto}.omrs-breakpoint-lt-desktop .-esm-laboratory-management__overlay__overlayContent___rBbVD{padding:0 0 0 0;overflow-y:auto}.-esm-laboratory-management__overlay__component___y7aMk{height:100%}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/root.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./src/components/overlay/overlay.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CAHF,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,kEC81BI,mDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,2DAAA,CD11BJ,kEC01BI,+CAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDt1BJ,kECs1BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDl1BJ,kECk1BI,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CD90BJ,yDC80BI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CD10BJ,0DC00BI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDt0BJ,0DCs0BI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CDl0BJ,qDACE,aD5BQ,CC+BV,sDC8zBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CD1zBJ,oDACE,cAAA,CACA,WAAA,CACA,YAAA,CACA,YAAA,CACA,+BAAA,CACA,YAAA,CACA,oBAAA,CACA,kBAAA,CE3CF,6DACE,cAAA,CACA,QC4CW,CD3CX,WAAA,CACA,OAAA,CACA,QAAA,CACA,6BAAA,CACA,wBHZM,CGaN,eAAA,CACA,yBAAA,CAGF,oEACE,WAAA,CACA,6BAAA,CAGF,sFACE,YAAA,CAGF,4DACE,cAAA,CACA,KAAA,CACA,QAAA,CACA,MAAA,CACA,OAAA,CACA,YAAA,CACA,wBHjCM,CGkCN,iBAAA,CACA,uBAAA,CACA,oBAAA,CAEA,+EACE,OAAA,CAGF,gEACE,eCQS,CDHX,yEHVA,wBAAA,CACA,gCAAA,CGaA,8HACE,UHpDI,CGwDR,4DACE,YAAA,CACA,6BAAA,CACA,kBAAA,CACA,wBH3DM,CG4DN,+BAAA,CACA,eAAA,CACA,uBAAA,CACA,UAAA,CACA,YAAA,CACA,KAAA,CAGF,4DD4xBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CC1xBF,cAAA,CACA,aHrEM,CGwER,0DACE,qBHtEc,CGuEd,aH1EM,CG2EN,YH3EM,CGgFN,wFACE,eAAA,CACA,eAAA,CAMF,yFACE,eAAA,CACA,eAAA,CAIJ,wDACE,WAAA",sourceRoot:""}]),l.locals={productiveHeading01:"-esm-laboratory-management__overlay__productiveHeading01___bTYPD",productiveHeading02:"-esm-laboratory-management__overlay__productiveHeading02___iboRX",productiveHeading03:"-esm-laboratory-management__overlay__productiveHeading03___XoXge",productiveHeading04:"-esm-laboratory-management__overlay__productiveHeading04___F9SRj",bodyLong01:"-esm-laboratory-management__overlay__bodyLong01___e08Ey",bodyShort01:"-esm-laboratory-management__overlay__bodyShort01___TNtQk",bodyShort02:"-esm-laboratory-management__overlay__bodyShort02___SJwiA",text02:"-esm-laboratory-management__overlay__text02___Lrynp",label01:"-esm-laboratory-management__overlay__label01___yCLg9",modal:"-esm-laboratory-management__overlay__modal___ZL_rL",desktopOverlay:"-esm-laboratory-management__overlay__desktopOverlay___DRRcP",tabletOverlay:"-esm-laboratory-management__overlay__tabletOverlay___bi9Sa",tabletOverlayHeader:"-esm-laboratory-management__overlay__tabletOverlayHeader___crCdl",headerContent:"-esm-laboratory-management__overlay__headerContent___Xz3AI",desktopHeader:"-esm-laboratory-management__overlay__desktopHeader___FXeL7",closeButton:"-esm-laboratory-management__overlay__closeButton___hn6LM",overlayContent:"-esm-laboratory-management__overlay__overlayContent___rBbVD",component:"-esm-laboratory-management__overlay__component___y7aMk"};const i=l},9904:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,".-esm-laboratory-management__sample-reference-display__generateBtn___wD62l{margin:0;padding:0;height:2.45rem;width:2.45rem;align-items:center;min-height:0}.-esm-laboratory-management__sample-reference-display__showPrint___RoUUy{display:flex;align-items:center;justify-content:flex-start;white-space:nowrap !important}","",{version:3,sources:["webpack://./src/components/sample-reference-display.scss"],names:[],mappings:"AAAA,2EACI,QAAA,CACA,SAAA,CACA,cAAA,CACA,aAAA,CACA,kBAAA,CACA,YAAA,CAGJ,yEACI,YAAA,CACA,kBAAA,CACA,0BAAA,CACA,6BAAA",sourceRoot:""}]),l.locals={generateBtn:"-esm-laboratory-management__sample-reference-display__generateBtn___wD62l",showPrint:"-esm-laboratory-management__sample-reference-display__showPrint___RoUUy"};const i=l},3416:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,".-esm-laboratory-management__test-name-tag__tagWithRemarks___inkIk{display:flex;flex-direction:row;column-gap:.5rem;justify-content:flex-start;align-items:center}.-esm-laboratory-management__test-name-tag__tagWithRemarks___inkIk .cds--tag{min-width:fit-content}.-esm-laboratory-management__test-name-tag__tagWithRemarks___inkIk .-esm-laboratory-management__test-name-tag__approvalRemarks___iFhNJ{font-size:95%;margin:.25rem;padding-inline:.5rem;border-left:1px solid #e0e0e0;padding-left:.85rem}","",{version:3,sources:["webpack://./src/components/test-request/test-name-tag.scss"],names:[],mappings:"AAAA,mEACI,YAAA,CACA,kBAAA,CACA,gBAAA,CACA,0BAAA,CACA,kBAAA,CAEA,6EACI,qBAAA,CAGJ,uIACI,aAAA,CACA,aAAA,CACA,oBAAA,CACA,6BAAA,CACA,mBAAA",sourceRoot:""}]),l.locals={tagWithRemarks:"-esm-laboratory-management__test-name-tag__tagWithRemarks___inkIk",approvalRemarks:"-esm-laboratory-management__test-name-tag__approvalRemarks___iFhNJ"};const i=l},7840:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__test-result-info__results___nWVdc{flex-grow:2}.-esm-laboratory-management__test-result-info__checkbox___MuksT{margin:10px;font-size:15px;font-weight:bold}.-esm-laboratory-management__test-result-info__valueWidget___wLbJT{margin-left:10px}.-esm-laboratory-management__test-result-info__section___oZSIL table{font-family:Arial,sans-serif;border-collapse:collapse;width:100%}.-esm-laboratory-management__test-result-info__section___oZSIL td,.-esm-laboratory-management__test-result-info__section___oZSIL th{border:1px solid #000 !important;text-align:left;font-size:12px;padding:8px;width:80px;white-space:nowrap !important}.-esm-laboratory-management__test-result-info__section___oZSIL th{background-color:#f2f2f2}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/components/test-request/test-result-info.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCjDF,+DACI,WAAA,CAEJ,gEACI,WAAA,CACA,cAAA,CACA,gBAAA,CAGJ,mEACI,gBAAA,CAIA,qEACI,4BAAA,CACA,wBAAA,CACA,UAAA,CAGJ,oIAEI,gCAAA,CACA,eAAA,CACA,cAAA,CACA,WAAA,CACA,UAAA,CACA,6BAAA,CAGJ,kEACI,wBAAA",sourceRoot:""}]),l.locals={results:"-esm-laboratory-management__test-result-info__results___nWVdc",checkbox:"-esm-laboratory-management__test-result-info__checkbox___MuksT",valueWidget:"-esm-laboratory-management__test-result-info__valueWidget___wLbJT",section:"-esm-laboratory-management__test-result-info__section___oZSIL"};const i=l},9860:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}:root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__text-request-info-component__productiveHeading01___Hb43o{font-size:var(--cds-heading-01-font-size, 0.875rem);font-weight:var(--cds-heading-01-font-weight, 600);line-height:var(--cds-heading-01-line-height, 1.42857);letter-spacing:var(--cds-heading-01-letter-spacing, 0.16px)}.-esm-laboratory-management__text-request-info-component__productiveHeading02___a39kT{font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0)}.-esm-laboratory-management__text-request-info-component__productiveHeading03___Tyyoh{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-laboratory-management__text-request-info-component__productiveHeading04___UIzL5{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-laboratory-management__text-request-info-component__bodyLong01___FGpcT{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-laboratory-management__text-request-info-component__bodyShort01___fgVDH{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-laboratory-management__text-request-info-component__bodyShort02___ibp2z{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-laboratory-management__text-request-info-component__text02___h4mln{color:#525252}.-esm-laboratory-management__text-request-info-component__label01___kXuJf{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-laboratory-management__text-request-info-component__modal___LYoAM{position:fixed;width:100vw;height:100vh;display:grid;background-color:rgba(0,0,0,.5);z-index:9000;justify-items:center;align-items:center}.-esm-laboratory-management__text-request-info-component__expandedRowAdditionInfo___xHYnA{display:flex;row-gap:.5rem;column-gap:1rem;flex-wrap:wrap;flex-grow:.5;flex-basis:min-content;align-content:flex-start;border-left:1px solid #e0e0e0}.-esm-laboratory-management__text-request-info-component__expandedRowAdditionInfoTileField___y4qVL{height:min-content;white-space:wrap !important;min-width:7rem}.-esm-laboratory-management__text-request-info-component__expandedRowAdditionInfoTileFieldFillRow____cv9G{width:fit-content}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/root.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./src/components/test-request/text-request-info.component.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CAHF,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,sFC81BI,mDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,2DAAA,CD11BJ,sFC01BI,+CAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDt1BJ,sFCs1BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDl1BJ,sFCk1BI,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CD90BJ,6EC80BI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CD10BJ,8EC00BI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDt0BJ,8ECs0BI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CDl0BJ,yEACE,aD5BQ,CC+BV,0EC8zBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CD1zBJ,wEACE,cAAA,CACA,WAAA,CACA,YAAA,CACA,YAAA,CACA,+BAAA,CACA,YAAA,CACA,oBAAA,CACA,kBAAA,CE1CF,0FACI,YAAA,CACA,aAAA,CACA,eAAA,CACA,cAAA,CACA,YAAA,CACA,sBAAA,CACA,wBAAA,CACA,6BAAA,CAGJ,mGACE,kBAAA,CACA,2BAAA,CACA,cAAA,CAGF,0GACE,iBAAA",sourceRoot:""}]),l.locals={productiveHeading01:"-esm-laboratory-management__text-request-info-component__productiveHeading01___Hb43o",productiveHeading02:"-esm-laboratory-management__text-request-info-component__productiveHeading02___a39kT",productiveHeading03:"-esm-laboratory-management__text-request-info-component__productiveHeading03___Tyyoh",productiveHeading04:"-esm-laboratory-management__text-request-info-component__productiveHeading04___UIzL5",bodyLong01:"-esm-laboratory-management__text-request-info-component__bodyLong01___FGpcT",bodyShort01:"-esm-laboratory-management__text-request-info-component__bodyShort01___fgVDH",bodyShort02:"-esm-laboratory-management__text-request-info-component__bodyShort02___ibp2z",text02:"-esm-laboratory-management__text-request-info-component__text02___h4mln",label01:"-esm-laboratory-management__text-request-info-component__label01___kXuJf",modal:"-esm-laboratory-management__text-request-info-component__modal___LYoAM",expandedRowAdditionInfo:"-esm-laboratory-management__text-request-info-component__expandedRowAdditionInfo___xHYnA",expandedRowAdditionInfoTileField:"-esm-laboratory-management__text-request-info-component__expandedRowAdditionInfoTileField___y4qVL",expandedRowAdditionInfoTileFieldFillRow:"-esm-laboratory-management__text-request-info-component__expandedRowAdditionInfoTileFieldFillRow____cv9G"};const i=l},4592:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__location-tests__locationLabRequest___CEV2Z{padding:.5rem;border:1px solid #e0e0e0;background-color:#f4f4f4}.-esm-laboratory-management__location-tests__locationLabRequest___CEV2Z select,.-esm-laboratory-management__location-tests__locationLabRequest___CEV2Z .-esm-laboratory-management__location-tests__selectedTestAltRow___AIkH7{background-color:#fff !important}.-esm-laboratory-management__location-tests__labRequests___J_a8W{margin-top:.5rem}.-esm-laboratory-management__location-tests__labRequests___J_a8W .-esm-laboratory-management__location-tests__labRequestsHeader___uQ1nh{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.-esm-laboratory-management__location-tests__labRequests___J_a8W .-esm-laboratory-management__location-tests__labRequestsHeader___uQ1nh button{min-height:16px;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0}.-esm-laboratory-management__location-tests__selectedTests___uxC5P{display:flex;flex-direction:column;row-gap:0rem}.-esm-laboratory-management__location-tests__selectedTests___uxC5P .-esm-laboratory-management__location-tests__testLocation___wWG6i{display:flex;flex-direction:row;justify-content:space-between;padding-top:.5rem;padding-bottom:.5rem}.-esm-laboratory-management__location-tests__selectedTests___uxC5P .-esm-laboratory-management__location-tests__testLocation___wWG6i button{min-height:16px;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0}.-esm-laboratory-management__location-tests__selectedTest___lf2us:last-child{border-bottom:1px solid #e0e0e0}.-esm-laboratory-management__location-tests__selectedTest___lf2us{display:flex;justify-content:space-between;align-items:center;border-top:1px solid #e0e0e0;padding-top:.5rem;padding-bottom:.35rem;padding-left:.25rem;font-size:.85rem}.-esm-laboratory-management__location-tests__selectedTest___lf2us button{min-height:16px;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0}.-esm-laboratory-management__location-tests__selectedTest___lf2us .-esm-laboratory-management__location-tests__selectedTestName___emjzm{display:flex;justify-content:flex-start;align-items:center}.-esm-laboratory-management__location-tests__section___VELuE{display:flex;flex-direction:column;row-gap:.25rem}.-esm-laboratory-management__location-tests__referOut___EruqZ{display:flex;flex-direction:row;column-gap:0rem;align-items:center;justify-content:flex-end}.-esm-laboratory-management__location-tests__referOut___EruqZ .cds--checkbox-label-text{white-space:nowrap}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/components/tests-selector/location-tests.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,wEACI,aAAA,CACA,wBAAA,CACA,wBDPI,CCSJ,+NACI,gCAAA,CAGR,iEACI,gBAAA,CACA,wIACI,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,kBAAA,CACA,+IACI,eAAA,CACA,YAAA,CACA,eAAA,CACA,aAAA,CACA,gBAAA,CAKZ,mEACI,YAAA,CACA,qBAAA,CACA,YAAA,CAEA,qIACI,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,iBAAA,CACA,oBAAA,CAEA,4IACI,eAAA,CACA,YAAA,CACA,eAAA,CACA,aAAA,CACA,gBAAA,CAKZ,6EACI,+BAAA,CAGJ,kEACI,YAAA,CACA,6BAAA,CACA,kBAAA,CACA,4BAAA,CACA,iBAAA,CACA,qBAAA,CACA,mBAAA,CACA,gBAAA,CAIA,yEACI,eAAA,CACA,YAAA,CACA,eAAA,CACA,aAAA,CACA,gBAAA,CAGJ,wIACI,YAAA,CACA,0BAAA,CACA,kBAAA,CAIR,6DACI,YAAA,CACA,qBAAA,CACA,cAAA,CAGJ,8DACI,YAAA,CACA,kBAAA,CACA,eAAA,CACA,kBAAA,CACA,wBAAA,CACA,wFACI,kBAAA",sourceRoot:""}]),l.locals={locationLabRequest:"-esm-laboratory-management__location-tests__locationLabRequest___CEV2Z",selectedTestAltRow:"-esm-laboratory-management__location-tests__selectedTestAltRow___AIkH7",labRequests:"-esm-laboratory-management__location-tests__labRequests___J_a8W",labRequestsHeader:"-esm-laboratory-management__location-tests__labRequestsHeader___uQ1nh",selectedTests:"-esm-laboratory-management__location-tests__selectedTests___uxC5P",testLocation:"-esm-laboratory-management__location-tests__testLocation___wWG6i",selectedTest:"-esm-laboratory-management__location-tests__selectedTest___lf2us",selectedTestName:"-esm-laboratory-management__location-tests__selectedTestName___emjzm",section:"-esm-laboratory-management__location-tests__section___VELuE",referOut:"-esm-laboratory-management__location-tests__referOut___EruqZ"};const i=l},9332:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__tests-selector__locationLabRequest___Sefi5{padding:.5rem;border:1px solid #e0e0e0;background-color:#f4f4f4;margin:0}.-esm-laboratory-management__tests-selector__locationLabRequest___Sefi5 select,.-esm-laboratory-management__tests-selector__locationLabRequest___Sefi5 .-esm-laboratory-management__tests-selector__selectedTestAltRow___rdyVf{background-color:#fff !important}.-esm-laboratory-management__tests-selector__labRequests___DNGZn{margin-top:.5rem}.-esm-laboratory-management__tests-selector__labRequests___DNGZn .-esm-laboratory-management__tests-selector__labRequestsHeader___kQaiT{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.-esm-laboratory-management__tests-selector__labRequests___DNGZn .-esm-laboratory-management__tests-selector__labRequestsHeader___kQaiT button{min-height:16px;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0}.-esm-laboratory-management__tests-selector__selectedTests___XCYdf{display:flex;flex-direction:column;row-gap:0rem}.-esm-laboratory-management__tests-selector__selectedTests___XCYdf .-esm-laboratory-management__tests-selector__testLocation___YufQQ{display:flex;flex-direction:row;justify-content:space-between;padding-top:.5rem;padding-bottom:.5rem}.-esm-laboratory-management__tests-selector__selectedTests___XCYdf .-esm-laboratory-management__tests-selector__testLocation___YufQQ button{min-height:16px;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0}.-esm-laboratory-management__tests-selector__selectedTest___CYgQN:last-child{border-bottom:1px solid #e0e0e0}.-esm-laboratory-management__tests-selector__selectedTest___CYgQN{display:flex;justify-content:space-between;align-items:center;border-top:1px solid #e0e0e0;padding-top:.5rem;padding-bottom:.35rem;padding-left:.25rem;font-size:.85rem}.-esm-laboratory-management__tests-selector__selectedTest___CYgQN button{min-height:16px;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0}.-esm-laboratory-management__tests-selector__selectedTest___CYgQN .-esm-laboratory-management__tests-selector__selectedTestName___ZDpm5{display:flex;justify-content:flex-start;align-items:center}.-esm-laboratory-management__tests-selector__section____f3po{display:flex;flex-direction:column;row-gap:.25rem}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/components/tests-selector/tests-selector.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CClDF,wEACI,aAAA,CACA,wBAAA,CACA,wBDRI,CCSJ,QAAA,CAEA,+NACI,gCAAA,CAGR,iEACI,gBAAA,CACA,wIACI,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,kBAAA,CACA,+IACI,eAAA,CACA,YAAA,CACA,eAAA,CACA,aAAA,CACA,gBAAA,CAKZ,mEACI,YAAA,CACA,qBAAA,CACA,YAAA,CAEA,qIACI,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,iBAAA,CACA,oBAAA,CAEA,4IACI,eAAA,CACA,YAAA,CACA,eAAA,CACA,aAAA,CACA,gBAAA,CAKZ,6EACI,+BAAA,CAGJ,kEACI,YAAA,CACA,6BAAA,CACA,kBAAA,CACA,4BAAA,CACA,iBAAA,CACA,qBAAA,CACA,mBAAA,CACA,gBAAA,CAIA,yEACI,eAAA,CACA,YAAA,CACA,eAAA,CACA,aAAA,CACA,gBAAA,CAGJ,wIACI,YAAA,CACA,0BAAA,CACA,kBAAA,CAIR,6DACI,YAAA,CACA,qBAAA,CACA,cAAA",sourceRoot:""}]),l.locals={locationLabRequest:"-esm-laboratory-management__tests-selector__locationLabRequest___Sefi5",selectedTestAltRow:"-esm-laboratory-management__tests-selector__selectedTestAltRow___rdyVf",labRequests:"-esm-laboratory-management__tests-selector__labRequests___DNGZn",labRequestsHeader:"-esm-laboratory-management__tests-selector__labRequestsHeader___kQaiT",selectedTests:"-esm-laboratory-management__tests-selector__selectedTests___XCYdf",testLocation:"-esm-laboratory-management__tests-selector__testLocation___YufQQ",selectedTest:"-esm-laboratory-management__tests-selector__selectedTest___CYgQN",selectedTestName:"-esm-laboratory-management__tests-selector__selectedTestName___ZDpm5",section:"-esm-laboratory-management__tests-selector__section____f3po"};const i=l},5740:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,".-esm-laboratory-management__laboratory-dashboard__homePageWrapper___iflqy{display:flex}.-esm-laboratory-management__laboratory-dashboard__dashboardContainer___bRxTQ{display:flex;flex-grow:1;flex-direction:column;margin:0;height:calc(100vh - 3rem);margin-left:16rem;background-color:#f4f4f4}.-esm-laboratory-management__laboratory-dashboard__dashboardContainer___bRxTQ a{width:100%}.-esm-laboratory-management__laboratory-dashboard__dashboardContainerTablet___vGKbH{flex-grow:1}.-esm-laboratory-management__laboratory-dashboard__logoSection___gLGw3{display:flex;justify-content:center}[dir=rtl] .-esm-laboratory-management__laboratory-dashboard__dashboardContainer___bRxTQ{margin-left:0;margin-right:16rem}.-esm-laboratory-management__laboratory-dashboard__headerActions___YUDEh{display:flex;flex-direction:row;align-items:center;justify-content:flex-end;margin-right:1rem;margin-top:-2rem}","",{version:3,sources:["webpack://./src/dashboard/laboratory-dashboard.scss","webpack://./node_modules/@carbon/colors/index.scss"],names:[],mappings:"AAGA,2EACE,YAAA,CAGF,8EACE,YAAA,CACA,WAAA,CACA,qBAAA,CACA,QAAA,CAEA,yBAAA,CACA,iBAAA,CACA,wBC2BQ,CDzBR,gFACE,UAAA,CAIJ,oFACE,WAAA,CAGF,uEACE,YAAA,CACA,sBAAA,CAKA,wFACE,aAAA,CACA,kBAAA,CAIJ,yEACE,YAAA,CACA,kBAAA,CACA,kBAAA,CACA,wBAAA,CACA,iBAAA,CACA,gBAAA",sourceRoot:""}]),l.locals={homePageWrapper:"-esm-laboratory-management__laboratory-dashboard__homePageWrapper___iflqy",dashboardContainer:"-esm-laboratory-management__laboratory-dashboard__dashboardContainer___bRxTQ",dashboardContainerTablet:"-esm-laboratory-management__laboratory-dashboard__dashboardContainerTablet___vGKbH",logoSection:"-esm-laboratory-management__laboratory-dashboard__logoSection___gLGw3",headerActions:"-esm-laboratory-management__laboratory-dashboard__headerActions___YUDEh"};const i=l},1188:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__laboratory-header__header___tDJdQ{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#525252;height:6rem;background-color:#fff;border:1px solid #e0e0e0;border-left:0px;display:flex;justify-content:space-between;margin-bottom:2rem}.-esm-laboratory-management__laboratory-header__left-justified-items___uXGKW{display:flex;flex-direction:row;align-items:center;margin-left:.75rem}.-esm-laboratory-management__laboratory-header__right-justified-items___iaO1a{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#525252;display:flex}.-esm-laboratory-management__laboratory-header__right-justified-items-no-date___TeUvt{margin-right:1.05rem}.-esm-laboratory-management__laboratory-header__page-name___zX6Tj{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-laboratory-management__laboratory-header__page-labels___LNemS{margin-left:1rem}.-esm-laboratory-management__laboratory-header__page-labels___LNemS p:first-of-type{margin-bottom:.25rem}.-esm-laboratory-management__laboratory-header__date-and-location___AbKyx{display:flex;justify-content:flex-end;align-items:center;margin-right:1rem}.-esm-laboratory-management__laboratory-header__value___unwKj{margin-left:.25rem}.-esm-laboratory-management__laboratory-header__middot___h6Lta{margin:0 .5rem}.-esm-laboratory-management__laboratory-header__view___okufL{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}svg.-esm-laboratory-management__laboratory-header__iconOverrides___ueJlI{width:72 !important;height:72 !important;fill:var(--brand-03)}.-esm-laboratory-management__laboratory-header__svgContainer___HhCH2 svg{width:72px;height:72px;fill:var(--brand-03)}.-esm-laboratory-management__laboratory-header__headerButton___pXzee{align-self:flex-end;width:fit-content}.-esm-laboratory-management__laboratory-header__headerActions___eZ3rR{display:flex;justify-content:flex-end;margin-right:1rem}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/header/laboratory-header.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,+DC81BI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CD51BF,aDDQ,CCER,WE2DW,CF1DX,qBDPM,CCQN,wBAAA,CACA,eAAA,CACA,YAAA,CACA,6BAAA,CACA,kBAAA,CAGF,6EACE,YAAA,CACA,kBAAA,CACA,kBAAA,CACA,kBAAA,CAGF,8EC20BI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CDz0BF,aDpBQ,CCqBR,YAAA,CAGF,sFACE,oBAAA,CAGF,kECi0BI,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CD7zBJ,oEACE,gBAAA,CAEA,oFACE,oBAAA,CAIJ,0EACE,YAAA,CACA,wBAAA,CACA,kBAAA,CACA,iBAAA,CAGF,8DACE,kBAAA,CAGF,+DACE,cAAA,CAGF,6DCsyBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CDlyBJ,yEACE,mBAAA,CACA,oBAAA,CACA,oBAAA,CAGF,yEACE,UAAA,CACA,WAAA,CACA,oBAAA,CAGF,qEACE,mBAAA,CACA,iBAAA,CAGF,sEACE,YAAA,CACA,wBAAA,CACA,iBAAA",sourceRoot:""}]),l.locals={header:"-esm-laboratory-management__laboratory-header__header___tDJdQ","left-justified-items":"-esm-laboratory-management__laboratory-header__left-justified-items___uXGKW","right-justified-items":"-esm-laboratory-management__laboratory-header__right-justified-items___iaO1a","right-justified-items-no-date":"-esm-laboratory-management__laboratory-header__right-justified-items-no-date___TeUvt","page-name":"-esm-laboratory-management__laboratory-header__page-name___zX6Tj","page-labels":"-esm-laboratory-management__laboratory-header__page-labels___LNemS","date-and-location":"-esm-laboratory-management__laboratory-header__date-and-location___AbKyx",value:"-esm-laboratory-management__laboratory-header__value___unwKj",middot:"-esm-laboratory-management__laboratory-header__middot___h6Lta",view:"-esm-laboratory-management__laboratory-header__view___okufL",iconOverrides:"-esm-laboratory-management__laboratory-header__iconOverrides___ueJlI",svgContainer:"-esm-laboratory-management__laboratory-header__svgContainer___HhCH2",headerButton:"-esm-laboratory-management__laboratory-header__headerButton___pXzee",headerActions:"-esm-laboratory-management__laboratory-header__headerActions___eZ3rR"};const i=l},7584:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__approval-config-form-component__modalBody___WnyGC{overflow-y:visible}.-esm-laboratory-management__approval-config-form-component__modalBody___WnyGC .cds--text-input,.-esm-laboratory-management__approval-config-form-component__modalBody___WnyGC .cds--list-box input[role=combobox],.-esm-laboratory-management__approval-config-form-component__modalBody___WnyGC .cds--list-box input[type=text],.-esm-laboratory-management__approval-config-form-component__modalBody___WnyGC .cds--select-input,.-esm-laboratory-management__approval-config-form-component__modalBody___WnyGC .cds--text-area,.-esm-laboratory-management__approval-config-form-component__modalBody___WnyGC .cds--number > div.cds--number__input-wrapper > input[type=number]{background-color:#fff}.-esm-laboratory-management__approval-config-form-component__section___EgAwB{display:flex;flex-direction:column;row-gap:.75rem}.-esm-laboratory-management__approval-config-form-component__errorText___AvSMj{color:#da1e28}.-esm-laboratory-management__approval-config-form-component__approvalLevelOptions___CsKEO{display:flex;flex-direction:row;column-gap:1rem;justify-content:space-between}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/lab-config/approval-config/approval-config-form.component.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,+EACI,kBAAA,CACA,qpBAEI,qBDPA,CCWR,6EACI,YAAA,CACA,qBAAA,CACA,cAAA,CAGJ,+EACI,aDCK,CCET,0FACI,YAAA,CACA,kBAAA,CACA,eAAA,CACA,6BAAA",sourceRoot:""}]),l.locals={modalBody:"-esm-laboratory-management__approval-config-form-component__modalBody___WnyGC",section:"-esm-laboratory-management__approval-config-form-component__section___EgAwB",errorText:"-esm-laboratory-management__approval-config-form-component__errorText___AvSMj",approvalLevelOptions:"-esm-laboratory-management__approval-config-form-component__approvalLevelOptions___CsKEO"};const i=l},6120:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}:root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__approval-config-list__productiveHeading01___PBHBR{font-size:var(--cds-heading-01-font-size, 0.875rem);font-weight:var(--cds-heading-01-font-weight, 600);line-height:var(--cds-heading-01-line-height, 1.42857);letter-spacing:var(--cds-heading-01-letter-spacing, 0.16px)}.-esm-laboratory-management__approval-config-list__productiveHeading02___RQ6KZ{font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0)}.-esm-laboratory-management__approval-config-list__productiveHeading03___wYe9R{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-laboratory-management__approval-config-list__productiveHeading04___x4CmP{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-laboratory-management__approval-config-list__bodyLong01___aRaL8{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-laboratory-management__approval-config-list__bodyShort01___aDlSz{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-laboratory-management__approval-config-list__bodyShort02___c1arD{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-laboratory-management__approval-config-list__text02___gw1OM{color:#525252}.-esm-laboratory-management__approval-config-list__label01___LyCVs{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-laboratory-management__approval-config-list__modal___XLXpF{position:fixed;width:100vw;height:100vh;display:grid;background-color:rgba(0,0,0,.5);z-index:9000;justify-items:center;align-items:center}.-esm-laboratory-management__approval-config-list__headerBtnContainer___hSczE{background-color:#fff;padding:1rem;text-align:right}.-esm-laboratory-management__approval-config-list__tileContainer___npEaR{background-color:#fff;border-top:1px solid #e0e0e0;padding:5rem 0}.-esm-laboratory-management__approval-config-list__tile___QiOAr{margin:auto;width:fit-content}.-esm-laboratory-management__approval-config-list__tileContent___OM4fu{display:flex;flex-direction:column;align-items:center}.-esm-laboratory-management__approval-config-list__content___mh6m6{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252;margin-bottom:.5rem}.-esm-laboratory-management__approval-config-list__helper___KM56b{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#525252}.-esm-laboratory-management__approval-config-list__separator___eN40_{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#525252;width:80%;margin:1.5rem auto;overflow:hidden;text-align:center}.-esm-laboratory-management__approval-config-list__separator___eN40_::before,.-esm-laboratory-management__approval-config-list__separator___eN40_::after{background-color:#a8a8a8;content:"";display:inline-block;height:1px;position:relative;vertical-align:middle;width:50%}.-esm-laboratory-management__approval-config-list__separator___eN40_::before{right:.5rem;margin-left:-50%}.-esm-laboratory-management__approval-config-list__separator___eN40_::after{left:.5rem;margin-right:-50%}.-esm-laboratory-management__approval-config-list__toolbarContent___devUF{display:flex;align-items:center}.-esm-laboratory-management__approval-config-list__filterContainer___sSSNb{display:flex;align-items:center}.-esm-laboratory-management__approval-config-list__dateAlign___Em67D{padding-top:8px;height:100%}.-esm-laboratory-management__approval-config-list__filtersAlign___fGwKS{padding-bottom:8px}.-esm-laboratory-management__approval-config-list__filtersAlign___fGwKS .cds--list-box__menu{min-width:15rem;z-index:1}.-esm-laboratory-management__approval-config-list__tableContainer___ooAGJ{background-color:#f4f4f4;margin:0;padding:0}.-esm-laboratory-management__approval-config-list__tableContainer___ooAGJ .cds--data-table-content{overflow-x:unset}.-esm-laboratory-management__approval-config-list__tableContainer___ooAGJ a{text-decoration:none}.-esm-laboratory-management__approval-config-list__tableContainer___ooAGJ th{color:#525252}.-esm-laboratory-management__approval-config-list__tableContainer___ooAGJ .cds--data-table{background-color:#e0e0e0}.-esm-laboratory-management__approval-config-list__tableContainer___ooAGJ .-esm-laboratory-management__approval-config-list__toolbarContent___devUF{height:2rem;margin-bottom:.25rem}.-esm-laboratory-management__approval-config-list__tableContainer___ooAGJ td{white-space:normal}.-esm-laboratory-management__approval-config-list__approvalConfigName___H49Yc{padding-left:0;padding-right:0}.-esm-laboratory-management__approval-config-list__approvalLevel___o_Y35{display:flex;flex-direction:column;row-gap:.25rem}.-esm-laboratory-management__approval-config-list__approvalCrossOut___dNNiO{text-decoration:underline;text-underline-offset:-30%;text-decoration-skip-ink:none}',"",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/root.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./src/lab-config/approval-config/approval-config-list.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CAHF,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,+EC81BI,mDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,2DAAA,CD11BJ,+EC01BI,+CAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDt1BJ,+ECs1BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDl1BJ,+ECk1BI,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CD90BJ,sEC80BI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CD10BJ,uEC00BI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDt0BJ,uECs0BI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CDl0BJ,kEACE,aD5BQ,CC+BV,mEC8zBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CD1zBJ,iEACE,cAAA,CACA,WAAA,CACA,YAAA,CACA,YAAA,CACA,+BAAA,CACA,YAAA,CACA,oBAAA,CACA,kBAAA,CE3CF,8EACI,qBHCY,CAAA,YIwBH,CDvBT,gBAAA,CAGF,yEACE,qBHXI,CGYJ,4BAAA,CACA,cAAA,CAGF,gEACE,WAAA,CACA,iBAAA,CAGF,uEACE,YAAA,CACA,qBAAA,CACA,kBAAA,CAEF,mEDu0BE,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CCr0BA,aHxBM,CGyBN,mBAAA,CAGF,kEDi0BE,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CC/zBA,aH9BM,CGiCR,qED4zBE,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CC1zBA,aHnCM,CGoCN,SAAA,CACA,kBAAA,CACA,eAAA,CACA,iBAAA,CAEA,yJAEE,wBH1CI,CG2CJ,UAAA,CACA,oBAAA,CACA,UAAA,CACA,iBAAA,CACA,qBAAA,CACA,SAAA,CAGF,6EACE,WAAA,CACA,gBAAA,CAGF,4EACE,UAAA,CACA,iBAAA,CAIJ,0EACE,YAAA,CACA,kBAAA,CAGF,2EACE,YAAA,CACA,kBAAA,CAEF,qEACE,eAAA,CACA,WAAA,CAEF,wEACE,kBAAA,CAEA,6FACE,eAAA,CACA,SAAA,CAON,0EACI,wBH9FI,CG+FJ,QAAA,CACA,SAAA,CAEA,mGACE,gBAAA,CAGF,4EACE,oBAAA,CAGF,6EACE,aHtGI,CGyGN,2FACE,wBH7GE,CGgHJ,oJACE,WC1EO,CD2EP,oBCpGO,CDuGT,6EACE,kBAAA,CAIJ,8EACE,cAAA,CACA,eAAA,CAGF,yEACE,YAAA,CACA,qBAAA,CACA,cAAA,CAGF,4EAGE,yBAAA,CACA,0BAAA,CACA,6BAAA",sourceRoot:""}]),l.locals={productiveHeading01:"-esm-laboratory-management__approval-config-list__productiveHeading01___PBHBR",productiveHeading02:"-esm-laboratory-management__approval-config-list__productiveHeading02___RQ6KZ",productiveHeading03:"-esm-laboratory-management__approval-config-list__productiveHeading03___wYe9R",productiveHeading04:"-esm-laboratory-management__approval-config-list__productiveHeading04___x4CmP",bodyLong01:"-esm-laboratory-management__approval-config-list__bodyLong01___aRaL8",bodyShort01:"-esm-laboratory-management__approval-config-list__bodyShort01___aDlSz",bodyShort02:"-esm-laboratory-management__approval-config-list__bodyShort02___c1arD",text02:"-esm-laboratory-management__approval-config-list__text02___gw1OM",label01:"-esm-laboratory-management__approval-config-list__label01___LyCVs",modal:"-esm-laboratory-management__approval-config-list__modal___XLXpF",headerBtnContainer:"-esm-laboratory-management__approval-config-list__headerBtnContainer___hSczE",tileContainer:"-esm-laboratory-management__approval-config-list__tileContainer___npEaR",tile:"-esm-laboratory-management__approval-config-list__tile___QiOAr",tileContent:"-esm-laboratory-management__approval-config-list__tileContent___OM4fu",content:"-esm-laboratory-management__approval-config-list__content___mh6m6",helper:"-esm-laboratory-management__approval-config-list__helper___KM56b",separator:"-esm-laboratory-management__approval-config-list__separator___eN40_",toolbarContent:"-esm-laboratory-management__approval-config-list__toolbarContent___devUF",filterContainer:"-esm-laboratory-management__approval-config-list__filterContainer___sSSNb",dateAlign:"-esm-laboratory-management__approval-config-list__dateAlign___Em67D",filtersAlign:"-esm-laboratory-management__approval-config-list__filtersAlign___fGwKS",tableContainer:"-esm-laboratory-management__approval-config-list__tableContainer___ooAGJ",approvalConfigName:"-esm-laboratory-management__approval-config-list__approvalConfigName___H49Yc",approvalLevel:"-esm-laboratory-management__approval-config-list__approvalLevel___o_Y35",approvalCrossOut:"-esm-laboratory-management__approval-config-list__approvalCrossOut___dNNiO"};const i=l},1060:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__approval-flow-form-component__modalBody___KHTwY{overflow-y:visible}.-esm-laboratory-management__approval-flow-form-component__modalBody___KHTwY .cds--text-input,.-esm-laboratory-management__approval-flow-form-component__modalBody___KHTwY .cds--list-box input[role=combobox],.-esm-laboratory-management__approval-flow-form-component__modalBody___KHTwY .cds--list-box input[type=text],.-esm-laboratory-management__approval-flow-form-component__modalBody___KHTwY .cds--select-input,.-esm-laboratory-management__approval-flow-form-component__modalBody___KHTwY .cds--text-area,.-esm-laboratory-management__approval-flow-form-component__modalBody___KHTwY .cds--number > div.cds--number__input-wrapper > input[type=number]{background-color:#fff}.-esm-laboratory-management__approval-flow-form-component__section___lxteg{display:flex;flex-direction:column;row-gap:.75rem}.-esm-laboratory-management__approval-flow-form-component__approvalLevelOptions___fqkJf{display:flex;flex-direction:row;column-gap:1rem;justify-content:space-between}.-esm-laboratory-management__approval-flow-form-component__errorText___PkYNJ{color:#da1e28}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/lab-config/approval-flow/approval-flow-form.component.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,6EACI,kBAAA,CACA,yoBAEI,qBDPA,CCWR,2EACI,YAAA,CACA,qBAAA,CACA,cAAA,CAGJ,wFACI,YAAA,CACA,kBAAA,CACA,eAAA,CACA,6BAAA,CAGJ,6EACI,aDNK",sourceRoot:""}]),l.locals={modalBody:"-esm-laboratory-management__approval-flow-form-component__modalBody___KHTwY",section:"-esm-laboratory-management__approval-flow-form-component__section___lxteg",approvalLevelOptions:"-esm-laboratory-management__approval-flow-form-component__approvalLevelOptions___fqkJf",errorText:"-esm-laboratory-management__approval-flow-form-component__errorText___PkYNJ"};const i=l},472:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}:root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__approval-flow-list__productiveHeading01___XNavm{font-size:var(--cds-heading-01-font-size, 0.875rem);font-weight:var(--cds-heading-01-font-weight, 600);line-height:var(--cds-heading-01-line-height, 1.42857);letter-spacing:var(--cds-heading-01-letter-spacing, 0.16px)}.-esm-laboratory-management__approval-flow-list__productiveHeading02___QL4RY{font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0)}.-esm-laboratory-management__approval-flow-list__productiveHeading03___sXAnT{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-laboratory-management__approval-flow-list__productiveHeading04___RCm1E{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-laboratory-management__approval-flow-list__bodyLong01___KxkeU{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-laboratory-management__approval-flow-list__bodyShort01___zNClP{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-laboratory-management__approval-flow-list__bodyShort02___f0lBM{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-laboratory-management__approval-flow-list__text02___nzjwy{color:#525252}.-esm-laboratory-management__approval-flow-list__label01___zmHth{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-laboratory-management__approval-flow-list__modal___diOd0{position:fixed;width:100vw;height:100vh;display:grid;background-color:rgba(0,0,0,.5);z-index:9000;justify-items:center;align-items:center}.-esm-laboratory-management__approval-flow-list__headerBtnContainer___QnD_P{background-color:#fff;padding:1rem;text-align:right}.-esm-laboratory-management__approval-flow-list__tileContainer___v4e20{background-color:#fff;border-top:1px solid #e0e0e0;padding:5rem 0}.-esm-laboratory-management__approval-flow-list__tile___Hu7r6{margin:auto;width:fit-content}.-esm-laboratory-management__approval-flow-list__tileContent___zhdN5{display:flex;flex-direction:column;align-items:center}.-esm-laboratory-management__approval-flow-list__content___fHRbg{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252;margin-bottom:.5rem}.-esm-laboratory-management__approval-flow-list__helper___zX2Rs{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#525252}.-esm-laboratory-management__approval-flow-list__separator___o8HNt{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#525252;width:80%;margin:1.5rem auto;overflow:hidden;text-align:center}.-esm-laboratory-management__approval-flow-list__separator___o8HNt::before,.-esm-laboratory-management__approval-flow-list__separator___o8HNt::after{background-color:#a8a8a8;content:"";display:inline-block;height:1px;position:relative;vertical-align:middle;width:50%}.-esm-laboratory-management__approval-flow-list__separator___o8HNt::before{right:.5rem;margin-left:-50%}.-esm-laboratory-management__approval-flow-list__separator___o8HNt::after{left:.5rem;margin-right:-50%}.-esm-laboratory-management__approval-flow-list__toolbarContent___ECBHQ{display:flex;align-items:center}.-esm-laboratory-management__approval-flow-list__filterContainer___S003a{display:flex;align-items:center}.-esm-laboratory-management__approval-flow-list__dateAlign___vO03D{padding-top:8px;height:100%}.-esm-laboratory-management__approval-flow-list__filtersAlign___pi9HF{padding-bottom:8px}.-esm-laboratory-management__approval-flow-list__filtersAlign___pi9HF .cds--list-box__menu{min-width:15rem;z-index:1}.-esm-laboratory-management__approval-flow-list__tableContainer___zt4L7{background-color:#f4f4f4;margin:0;padding:0}.-esm-laboratory-management__approval-flow-list__tableContainer___zt4L7 .cds--data-table-content{overflow-x:unset}.-esm-laboratory-management__approval-flow-list__tableContainer___zt4L7 a{text-decoration:none}.-esm-laboratory-management__approval-flow-list__tableContainer___zt4L7 th{color:#525252}.-esm-laboratory-management__approval-flow-list__tableContainer___zt4L7 .cds--data-table{background-color:#e0e0e0}.-esm-laboratory-management__approval-flow-list__tableContainer___zt4L7 .-esm-laboratory-management__approval-flow-list__toolbarContent___ECBHQ{height:2rem;margin-bottom:.25rem}.-esm-laboratory-management__approval-flow-list__tableContainer___zt4L7 td{white-space:normal}.-esm-laboratory-management__approval-flow-list__approvalFlowName___AEIBY{padding-left:0;padding-right:0}.-esm-laboratory-management__approval-flow-list__approvalLevel___CiYRC{display:flex;flex-direction:column;row-gap:.25rem}.-esm-laboratory-management__approval-flow-list__approvalCrossOut____qZbn{text-decoration:underline;text-underline-offset:-30%;text-decoration-skip-ink:none}',"",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/root.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./src/lab-config/approval-flow/approval-flow-list.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CAHF,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,6EC81BI,mDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,2DAAA,CD11BJ,6EC01BI,+CAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDt1BJ,6ECs1BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDl1BJ,6ECk1BI,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CD90BJ,oEC80BI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CD10BJ,qEC00BI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDt0BJ,qECs0BI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CDl0BJ,gEACE,aD5BQ,CC+BV,iEC8zBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CD1zBJ,+DACE,cAAA,CACA,WAAA,CACA,YAAA,CACA,YAAA,CACA,+BAAA,CACA,YAAA,CACA,oBAAA,CACA,kBAAA,CE3CF,4EACI,qBHCY,CAAA,YIwBH,CDvBT,gBAAA,CAGF,uEACE,qBHXI,CGYJ,4BAAA,CACA,cAAA,CAGF,8DACE,WAAA,CACA,iBAAA,CAGF,qEACE,YAAA,CACA,qBAAA,CACA,kBAAA,CAEF,iEDu0BE,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CCr0BA,aHxBM,CGyBN,mBAAA,CAGF,gEDi0BE,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CC/zBA,aH9BM,CGiCR,mED4zBE,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CC1zBA,aHnCM,CGoCN,SAAA,CACA,kBAAA,CACA,eAAA,CACA,iBAAA,CAEA,qJAEE,wBH1CI,CG2CJ,UAAA,CACA,oBAAA,CACA,UAAA,CACA,iBAAA,CACA,qBAAA,CACA,SAAA,CAGF,2EACE,WAAA,CACA,gBAAA,CAGF,0EACE,UAAA,CACA,iBAAA,CAIJ,wEACE,YAAA,CACA,kBAAA,CAGF,yEACE,YAAA,CACA,kBAAA,CAEF,mEACE,eAAA,CACA,WAAA,CAEF,sEACE,kBAAA,CAEA,2FACE,eAAA,CACA,SAAA,CAON,wEACI,wBH9FI,CG+FJ,QAAA,CACA,SAAA,CAEA,iGACE,gBAAA,CAGF,0EACE,oBAAA,CAGF,2EACE,aHtGI,CGyGN,yFACE,wBH7GE,CGgHJ,gJACE,WC1EO,CD2EP,oBCpGO,CDsGT,2EACE,kBAAA,CAIJ,0EACE,cAAA,CACA,eAAA,CAGF,uEACE,YAAA,CACA,qBAAA,CACA,cAAA,CAGF,0EAGE,yBAAA,CACA,0BAAA,CACA,6BAAA",sourceRoot:""}]),l.locals={productiveHeading01:"-esm-laboratory-management__approval-flow-list__productiveHeading01___XNavm",productiveHeading02:"-esm-laboratory-management__approval-flow-list__productiveHeading02___QL4RY",productiveHeading03:"-esm-laboratory-management__approval-flow-list__productiveHeading03___sXAnT",productiveHeading04:"-esm-laboratory-management__approval-flow-list__productiveHeading04___RCm1E",bodyLong01:"-esm-laboratory-management__approval-flow-list__bodyLong01___KxkeU",bodyShort01:"-esm-laboratory-management__approval-flow-list__bodyShort01___zNClP",bodyShort02:"-esm-laboratory-management__approval-flow-list__bodyShort02___f0lBM",text02:"-esm-laboratory-management__approval-flow-list__text02___nzjwy",label01:"-esm-laboratory-management__approval-flow-list__label01___zmHth",modal:"-esm-laboratory-management__approval-flow-list__modal___diOd0",headerBtnContainer:"-esm-laboratory-management__approval-flow-list__headerBtnContainer___QnD_P",tileContainer:"-esm-laboratory-management__approval-flow-list__tileContainer___v4e20",tile:"-esm-laboratory-management__approval-flow-list__tile___Hu7r6",tileContent:"-esm-laboratory-management__approval-flow-list__tileContent___zhdN5",content:"-esm-laboratory-management__approval-flow-list__content___fHRbg",helper:"-esm-laboratory-management__approval-flow-list__helper___zX2Rs",separator:"-esm-laboratory-management__approval-flow-list__separator___o8HNt",toolbarContent:"-esm-laboratory-management__approval-flow-list__toolbarContent___ECBHQ",filterContainer:"-esm-laboratory-management__approval-flow-list__filterContainer___S003a",dateAlign:"-esm-laboratory-management__approval-flow-list__dateAlign___vO03D",filtersAlign:"-esm-laboratory-management__approval-flow-list__filtersAlign___pi9HF",tableContainer:"-esm-laboratory-management__approval-flow-list__tableContainer___zt4L7",approvalFlowName:"-esm-laboratory-management__approval-flow-list__approvalFlowName___AEIBY",approvalLevel:"-esm-laboratory-management__approval-flow-list__approvalLevel___CiYRC",approvalCrossOut:"-esm-laboratory-management__approval-flow-list__approvalCrossOut____qZbn"};const i=l},9588:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__config-component__tabs___ePgLj{grid-column:"span 2"}.-esm-laboratory-management__config-component__tablist___swE3y{padding:0 1rem}.-esm-laboratory-management__config-component__tab___PRnL3{min-width:8.875rem}.-esm-laboratory-management__config-component__tab___PRnL3:active,.-esm-laboratory-management__config-component__tab___PRnL3:focus{outline:2px solid var(--brand-03) !important}.-esm-laboratory-management__config-component__tab___PRnL3[aria-selected=true]{box-shadow:inset 0 2px 0 0 var(--brand-03) !important}.-esm-laboratory-management__config-component__tabPanel___JJz50{padding-top:0}.-esm-laboratory-management__config-component__hiddenTabsContent___z6avl,.-esm-laboratory-management__config-component__tabs___ePgLj .-esm-laboratory-management__config-component__hiddenTabsContent___z6avl{display:none}.-esm-laboratory-management__config-component__listsTableContainer___Q9YVe{padding:1rem;background-color:#f4f4f4;height:calc(100vh - 12rem)}',"",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/lab-config/config.component.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CClDF,4DACI,oBAAA,CAGF,+DACE,cAAA,CAGF,2DACE,kBAAA,CAEA,mIAEE,4CAAA,CAGF,+EACE,qDAAA,CAIJ,gEACE,aAAA,CAGF,8MAEE,YAAA,CAGF,2EACE,YCLS,CDMT,wBDrCI,CCsCJ,0BAAA",sourceRoot:""}]),l.locals={tabs:"-esm-laboratory-management__config-component__tabs___ePgLj",tablist:"-esm-laboratory-management__config-component__tablist___swE3y",tab:"-esm-laboratory-management__config-component__tab___PRnL3",tabPanel:"-esm-laboratory-management__config-component__tabPanel___JJz50",hiddenTabsContent:"-esm-laboratory-management__config-component__hiddenTabsContent___z6avl",listsTableContainer:"-esm-laboratory-management__config-component__listsTableContainer___Q9YVe"};const i=l},6432:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}:root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__diagnostic-center-list__productiveHeading01___WAY_N{font-size:var(--cds-heading-01-font-size, 0.875rem);font-weight:var(--cds-heading-01-font-weight, 600);line-height:var(--cds-heading-01-line-height, 1.42857);letter-spacing:var(--cds-heading-01-letter-spacing, 0.16px)}.-esm-laboratory-management__diagnostic-center-list__productiveHeading02___iX9Mj{font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0)}.-esm-laboratory-management__diagnostic-center-list__productiveHeading03___F45FV{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-laboratory-management__diagnostic-center-list__productiveHeading04___VB_od{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-laboratory-management__diagnostic-center-list__bodyLong01___IS2M7{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-laboratory-management__diagnostic-center-list__bodyShort01___ZsemK{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-laboratory-management__diagnostic-center-list__bodyShort02___mt03q{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-laboratory-management__diagnostic-center-list__text02___QVMYk{color:#525252}.-esm-laboratory-management__diagnostic-center-list__label01___qLmsj{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-laboratory-management__diagnostic-center-list__modal___EHWd2{position:fixed;width:100vw;height:100vh;display:grid;background-color:rgba(0,0,0,.5);z-index:9000;justify-items:center;align-items:center}.-esm-laboratory-management__diagnostic-center-list__headerBtnContainer___YILWB{background-color:#fff;padding:1rem;text-align:right}.-esm-laboratory-management__diagnostic-center-list__tileContainer___lN1rV{background-color:#fff;border-top:1px solid #e0e0e0;padding:5rem 0}.-esm-laboratory-management__diagnostic-center-list__tile___JQ_xq{margin:auto;width:fit-content}.-esm-laboratory-management__diagnostic-center-list__tileContent___Sf28p{display:flex;flex-direction:column;align-items:center}.-esm-laboratory-management__diagnostic-center-list__content___rY8hC{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252;margin-bottom:.5rem}.-esm-laboratory-management__diagnostic-center-list__helper___u8FKK{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#525252}.-esm-laboratory-management__diagnostic-center-list__separator___YXuuU{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#525252;width:80%;margin:1.5rem auto;overflow:hidden;text-align:center}.-esm-laboratory-management__diagnostic-center-list__separator___YXuuU::before,.-esm-laboratory-management__diagnostic-center-list__separator___YXuuU::after{background-color:#a8a8a8;content:"";display:inline-block;height:1px;position:relative;vertical-align:middle;width:50%}.-esm-laboratory-management__diagnostic-center-list__separator___YXuuU::before{right:.5rem;margin-left:-50%}.-esm-laboratory-management__diagnostic-center-list__separator___YXuuU::after{left:.5rem;margin-right:-50%}.-esm-laboratory-management__diagnostic-center-list__toolbarContent___kvMov{display:flex;align-items:center}.-esm-laboratory-management__diagnostic-center-list__filterContainer___RNIVk{display:flex;align-items:center}.-esm-laboratory-management__diagnostic-center-list__dateAlign___VE_yb{padding-top:8px;height:100%}.-esm-laboratory-management__diagnostic-center-list__filtersAlign___bS337{padding-bottom:8px}.-esm-laboratory-management__diagnostic-center-list__filtersAlign___bS337 .cds--list-box__menu{min-width:15rem;z-index:1}.-esm-laboratory-management__diagnostic-center-list__tableContainer___z8dBl{background-color:#f4f4f4;margin:0;padding:0}.-esm-laboratory-management__diagnostic-center-list__tableContainer___z8dBl .cds--data-table-content{overflow-x:unset}.-esm-laboratory-management__diagnostic-center-list__tableContainer___z8dBl a{text-decoration:none}.-esm-laboratory-management__diagnostic-center-list__tableContainer___z8dBl th{color:#525252}.-esm-laboratory-management__diagnostic-center-list__tableContainer___z8dBl .cds--data-table{background-color:#e0e0e0}.-esm-laboratory-management__diagnostic-center-list__tableContainer___z8dBl .-esm-laboratory-management__diagnostic-center-list__toolbarContent___kvMov{height:2rem;margin-bottom:.25rem}.-esm-laboratory-management__diagnostic-center-list__tableContainer___z8dBl td{white-space:normal}.-esm-laboratory-management__diagnostic-center-list__rowActions___Ywaln{display:flex;align-items:center}.-esm-laboratory-management__diagnostic-center-list__clearGhostButtonPadding___WsBG8{white-space:nowrap !important}.-esm-laboratory-management__diagnostic-center-list__clearGhostButtonPadding___WsBG8 button{padding:0;margin:0;padding-inline-end:0;padding-inline-start:0;min-width:0;min-height:0}',"",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/root.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./src/lab-config/diagnostic-centers/diagnostic-center-list.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CAHF,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,iFC81BI,mDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,2DAAA,CD11BJ,iFC01BI,+CAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDt1BJ,iFCs1BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDl1BJ,iFCk1BI,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CD90BJ,wEC80BI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CD10BJ,yEC00BI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDt0BJ,yECs0BI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CDl0BJ,oEACE,aD5BQ,CC+BV,qEC8zBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CD1zBJ,mEACE,cAAA,CACA,WAAA,CACA,YAAA,CACA,YAAA,CACA,+BAAA,CACA,YAAA,CACA,oBAAA,CACA,kBAAA,CE3CF,gFACI,qBHCY,CAAA,YIwBH,CDvBT,gBAAA,CAGF,2EACE,qBHXI,CGYJ,4BAAA,CACA,cAAA,CAGF,kEACE,WAAA,CACA,iBAAA,CAGF,yEACE,YAAA,CACA,qBAAA,CACA,kBAAA,CAEF,qEDu0BE,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CCr0BA,aHxBM,CGyBN,mBAAA,CAGF,oEDi0BE,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CC/zBA,aH9BM,CGiCR,uED4zBE,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CC1zBA,aHnCM,CGoCN,SAAA,CACA,kBAAA,CACA,eAAA,CACA,iBAAA,CAEA,6JAEE,wBH1CI,CG2CJ,UAAA,CACA,oBAAA,CACA,UAAA,CACA,iBAAA,CACA,qBAAA,CACA,SAAA,CAGF,+EACE,WAAA,CACA,gBAAA,CAGF,8EACE,UAAA,CACA,iBAAA,CAIJ,4EACE,YAAA,CACA,kBAAA,CAGF,6EACE,YAAA,CACA,kBAAA,CAEF,uEACE,eAAA,CACA,WAAA,CAEF,0EACE,kBAAA,CAEA,+FACE,eAAA,CACA,SAAA,CAON,4EACI,wBH9FI,CG+FJ,QAAA,CACA,SAAA,CAEA,qGACE,gBAAA,CAGF,8EACE,oBAAA,CAGF,+EACE,aHtGI,CGyGN,6FACE,wBH7GE,CGgHJ,wJACE,WC1EO,CD2EP,oBCpGO,CDsGT,+EACE,kBAAA,CAIJ,wEACE,YAAA,CACA,kBAAA,CAGF,qFACE,6BAAA,CACA,4FACA,SAAA,CACA,QAAA,CACA,oBAAA,CACA,sBAAA,CACA,WAAA,CACA,YAAA",sourceRoot:""}]),l.locals={productiveHeading01:"-esm-laboratory-management__diagnostic-center-list__productiveHeading01___WAY_N",productiveHeading02:"-esm-laboratory-management__diagnostic-center-list__productiveHeading02___iX9Mj",productiveHeading03:"-esm-laboratory-management__diagnostic-center-list__productiveHeading03___F45FV",productiveHeading04:"-esm-laboratory-management__diagnostic-center-list__productiveHeading04___VB_od",bodyLong01:"-esm-laboratory-management__diagnostic-center-list__bodyLong01___IS2M7",bodyShort01:"-esm-laboratory-management__diagnostic-center-list__bodyShort01___ZsemK",bodyShort02:"-esm-laboratory-management__diagnostic-center-list__bodyShort02___mt03q",text02:"-esm-laboratory-management__diagnostic-center-list__text02___QVMYk",label01:"-esm-laboratory-management__diagnostic-center-list__label01___qLmsj",modal:"-esm-laboratory-management__diagnostic-center-list__modal___EHWd2",headerBtnContainer:"-esm-laboratory-management__diagnostic-center-list__headerBtnContainer___YILWB",tileContainer:"-esm-laboratory-management__diagnostic-center-list__tileContainer___lN1rV",tile:"-esm-laboratory-management__diagnostic-center-list__tile___JQ_xq",tileContent:"-esm-laboratory-management__diagnostic-center-list__tileContent___Sf28p",content:"-esm-laboratory-management__diagnostic-center-list__content___rY8hC",helper:"-esm-laboratory-management__diagnostic-center-list__helper___u8FKK",separator:"-esm-laboratory-management__diagnostic-center-list__separator___YXuuU",toolbarContent:"-esm-laboratory-management__diagnostic-center-list__toolbarContent___kvMov",filterContainer:"-esm-laboratory-management__diagnostic-center-list__filterContainer___RNIVk",dateAlign:"-esm-laboratory-management__diagnostic-center-list__dateAlign___VE_yb",filtersAlign:"-esm-laboratory-management__diagnostic-center-list__filtersAlign___bS337",tableContainer:"-esm-laboratory-management__diagnostic-center-list__tableContainer___z8dBl",rowActions:"-esm-laboratory-management__diagnostic-center-list__rowActions___Ywaln",clearGhostButtonPadding:"-esm-laboratory-management__diagnostic-center-list__clearGhostButtonPadding___WsBG8"};const i=l},7016:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,".-esm-laboratory-management__filter-referrer-location__spacing___weMP3{margin:0 16px}.-esm-laboratory-management__filter-referrer-location__select___TWBRR{width:15rem}","",{version:3,sources:["webpack://./src/lab-config/referrel-locations/filter-referrer-location.scss"],names:[],mappings:"AAAA,uEACI,aAAA,CAGF,sEACE,WAAA",sourceRoot:""}]),l.locals={spacing:"-esm-laboratory-management__filter-referrer-location__spacing___weMP3",select:"-esm-laboratory-management__filter-referrer-location__select___TWBRR"};const i=l},5964:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__referrer-location-form-component__modalBody___CDcHk{overflow-y:visible}.-esm-laboratory-management__referrer-location-form-component__modalBody___CDcHk .cds--text-input,.-esm-laboratory-management__referrer-location-form-component__modalBody___CDcHk .cds--list-box input[role=combobox],.-esm-laboratory-management__referrer-location-form-component__modalBody___CDcHk .cds--list-box input[type=text],.-esm-laboratory-management__referrer-location-form-component__modalBody___CDcHk .cds--select-input,.-esm-laboratory-management__referrer-location-form-component__modalBody___CDcHk .cds--text-area,.-esm-laboratory-management__referrer-location-form-component__modalBody___CDcHk .cds--number > div.cds--number__input-wrapper > input[type=number]{background-color:#fff}.-esm-laboratory-management__referrer-location-form-component__section___J72JK{display:flex;flex-direction:column;row-gap:.75rem}.-esm-laboratory-management__referrer-location-form-component__errorText___YRIik{color:#da1e28}.-esm-laboratory-management__referrer-location-form-component__patientSearch___dwfPd div[data-extension-slot-name] form button.cds--search-close{height:2rem;padding:0}.-esm-laboratory-management__referrer-location-form-component__patientSearch___dwfPd div[data-extension-slot-name] form button.cds--btn--primary{height:2rem;min-height:2rem;padding-top:.35rem;padding:.35rem}.-esm-laboratory-management__referrer-location-form-component__patientSearch___dwfPd div[data-extension-slot-name] form input.cds--search-input{height:1rem;padding:0 .5rem 0 3rem;min-height:2rem}.-esm-laboratory-management__referrer-location-form-component__patientSearch___dwfPd div[data-extension-slot-name] form+div button{height:4rem}.-esm-laboratory-management__referrer-location-form-component__patientSearch___dwfPd div[data-extension-slot-name] form+div button button{height:1rem}.-esm-laboratory-management__referrer-location-form-component__referOptions___rDfUA{display:flex;justify-content:flex-start;align-items:center;column-gap:3rem;flex-direction:row}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/lab-config/referrel-locations/referrer-location-form.component.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,iFACI,kBAAA,CACA,iqBAEI,qBDPA,CCWR,+EACI,YAAA,CACA,qBAAA,CACA,cAAA,CAGJ,iFACI,aDCK,CCKG,iJACI,WAAA,CACA,SAAA,CAGJ,iJACI,WAAA,CACA,eAAA,CACA,kBAAA,CAEA,cAAA,CAGJ,gJACI,WAAA,CACA,sBAAA,CACA,eAAA,CAIJ,mIACI,WAAA,CACA,0IACI,WAAA,CAOpB,oFACI,YAAA,CACA,0BAAA,CACA,kBAAA,CACA,eAAA,CACA,kBAAA",sourceRoot:""}]),l.locals={modalBody:"-esm-laboratory-management__referrer-location-form-component__modalBody___CDcHk",section:"-esm-laboratory-management__referrer-location-form-component__section___J72JK",errorText:"-esm-laboratory-management__referrer-location-form-component__errorText___YRIik",patientSearch:"-esm-laboratory-management__referrer-location-form-component__patientSearch___dwfPd",referOptions:"-esm-laboratory-management__referrer-location-form-component__referOptions___rDfUA"};const i=l},4344:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}:root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__referrer-location-list__productiveHeading01___bsceA{font-size:var(--cds-heading-01-font-size, 0.875rem);font-weight:var(--cds-heading-01-font-weight, 600);line-height:var(--cds-heading-01-line-height, 1.42857);letter-spacing:var(--cds-heading-01-letter-spacing, 0.16px)}.-esm-laboratory-management__referrer-location-list__productiveHeading02___GExFt{font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0)}.-esm-laboratory-management__referrer-location-list__productiveHeading03___VtdAN{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-laboratory-management__referrer-location-list__productiveHeading04___uGgii{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-laboratory-management__referrer-location-list__bodyLong01___bsOUx{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-laboratory-management__referrer-location-list__bodyShort01___dVItc{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-laboratory-management__referrer-location-list__bodyShort02____i204{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-laboratory-management__referrer-location-list__text02___VIt19{color:#525252}.-esm-laboratory-management__referrer-location-list__label01___fNYyS{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-laboratory-management__referrer-location-list__modal___hp_po{position:fixed;width:100vw;height:100vh;display:grid;background-color:rgba(0,0,0,.5);z-index:9000;justify-items:center;align-items:center}.-esm-laboratory-management__referrer-location-list__headerBtnContainer___fZRa9{background-color:#fff;padding:1rem;text-align:right}.-esm-laboratory-management__referrer-location-list__tileContainer___NqrI4{background-color:#fff;border-top:1px solid #e0e0e0;padding:5rem 0}.-esm-laboratory-management__referrer-location-list__tile___VWcml{margin:auto;width:fit-content}.-esm-laboratory-management__referrer-location-list__tileContent___yLAuQ{display:flex;flex-direction:column;align-items:center}.-esm-laboratory-management__referrer-location-list__content___d3B4i{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252;margin-bottom:.5rem}.-esm-laboratory-management__referrer-location-list__helper___RtCFj{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#525252}.-esm-laboratory-management__referrer-location-list__separator___YjMuS{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#525252;width:80%;margin:1.5rem auto;overflow:hidden;text-align:center}.-esm-laboratory-management__referrer-location-list__separator___YjMuS::before,.-esm-laboratory-management__referrer-location-list__separator___YjMuS::after{background-color:#a8a8a8;content:"";display:inline-block;height:1px;position:relative;vertical-align:middle;width:50%}.-esm-laboratory-management__referrer-location-list__separator___YjMuS::before{right:.5rem;margin-left:-50%}.-esm-laboratory-management__referrer-location-list__separator___YjMuS::after{left:.5rem;margin-right:-50%}.-esm-laboratory-management__referrer-location-list__toolbarContent___g6TH7{display:flex;align-items:center}.-esm-laboratory-management__referrer-location-list__filterContainer___F8mjL{display:flex;align-items:center}.-esm-laboratory-management__referrer-location-list__dateAlign___aSpea{padding-top:8px;height:100%}.-esm-laboratory-management__referrer-location-list__filtersAlign___Lp4b5{padding-bottom:8px}.-esm-laboratory-management__referrer-location-list__filtersAlign___Lp4b5 .cds--list-box__menu{min-width:15rem;z-index:1}.-esm-laboratory-management__referrer-location-list__tableContainer___OJo1o{background-color:#f4f4f4;margin:0;padding:0}.-esm-laboratory-management__referrer-location-list__tableContainer___OJo1o .cds--data-table-content{overflow-x:unset}.-esm-laboratory-management__referrer-location-list__tableContainer___OJo1o a{text-decoration:none}.-esm-laboratory-management__referrer-location-list__tableContainer___OJo1o th{color:#525252}.-esm-laboratory-management__referrer-location-list__tableContainer___OJo1o .cds--data-table{background-color:#e0e0e0}.-esm-laboratory-management__referrer-location-list__tableContainer___OJo1o .-esm-laboratory-management__referrer-location-list__toolbarContent___g6TH7{height:2rem;margin-bottom:.25rem}.-esm-laboratory-management__referrer-location-list__tableContainer___OJo1o td{white-space:normal}.-esm-laboratory-management__referrer-location-list__search___mgyfZ{width:50%}.-esm-laboratory-management__referrer-location-list__testName___GdAt4{padding-left:0;padding-right:0;white-space:normal}',"",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/root.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./src/lab-config/referrel-locations/referrer-location-list.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CAHF,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,iFC81BI,mDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,2DAAA,CD11BJ,iFC01BI,+CAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDt1BJ,iFCs1BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDl1BJ,iFCk1BI,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CD90BJ,wEC80BI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CD10BJ,yEC00BI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDt0BJ,yECs0BI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CDl0BJ,oEACE,aD5BQ,CC+BV,qEC8zBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CD1zBJ,mEACE,cAAA,CACA,WAAA,CACA,YAAA,CACA,YAAA,CACA,+BAAA,CACA,YAAA,CACA,oBAAA,CACA,kBAAA,CE1CF,gFACE,qBAAA,CACA,YCuBW,CDtBX,gBAAA,CAGF,2EACE,qBHZM,CGaN,4BAAA,CACA,cAAA,CAGF,kEACE,WAAA,CACA,iBAAA,CAGF,yEACE,YAAA,CACA,qBAAA,CACA,kBAAA,CAEF,qEDs0BI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CCp0BF,aHzBQ,CG0BR,mBAAA,CAGF,oEDg0BI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CC9zBF,aH/BQ,CGkCV,uED2zBI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CCzzBF,aHpCQ,CGqCR,SAAA,CACA,kBAAA,CACA,eAAA,CACA,iBAAA,CAEA,6JAEE,wBH3CM,CG4CN,UAAA,CACA,oBAAA,CACA,UAAA,CACA,iBAAA,CACA,qBAAA,CACA,SAAA,CAGF,+EACE,WAAA,CACA,gBAAA,CAGF,8EACE,UAAA,CACA,iBAAA,CAIJ,4EACE,YAAA,CACA,kBAAA,CAGF,6EACE,YAAA,CACA,kBAAA,CAEF,uEACE,eAAA,CACA,WAAA,CAEF,0EACE,kBAAA,CAEA,+FACE,eAAA,CACA,SAAA,CAOJ,4EACE,wBH/FM,CGgGN,QAAA,CACA,SAAA,CAEA,qGACE,gBAAA,CAGF,8EACE,oBAAA,CAGF,+EACE,aHvGM,CG0GR,6FACE,wBH9GI,CGiHN,wJACE,WC3ES,CD4ET,oBCrGS,CDwGX,+EACE,kBAAA,CAIJ,oEACE,SAAA,CAGF,sEACE,cAAA,CACA,eAAA,CACA,kBAAA",sourceRoot:""}]),l.locals={productiveHeading01:"-esm-laboratory-management__referrer-location-list__productiveHeading01___bsceA",productiveHeading02:"-esm-laboratory-management__referrer-location-list__productiveHeading02___GExFt",productiveHeading03:"-esm-laboratory-management__referrer-location-list__productiveHeading03___VtdAN",productiveHeading04:"-esm-laboratory-management__referrer-location-list__productiveHeading04___uGgii",bodyLong01:"-esm-laboratory-management__referrer-location-list__bodyLong01___bsOUx",bodyShort01:"-esm-laboratory-management__referrer-location-list__bodyShort01___dVItc",bodyShort02:"-esm-laboratory-management__referrer-location-list__bodyShort02____i204",text02:"-esm-laboratory-management__referrer-location-list__text02___VIt19",label01:"-esm-laboratory-management__referrer-location-list__label01___fNYyS",modal:"-esm-laboratory-management__referrer-location-list__modal___hp_po",headerBtnContainer:"-esm-laboratory-management__referrer-location-list__headerBtnContainer___fZRa9",tileContainer:"-esm-laboratory-management__referrer-location-list__tileContainer___NqrI4",tile:"-esm-laboratory-management__referrer-location-list__tile___VWcml",tileContent:"-esm-laboratory-management__referrer-location-list__tileContent___yLAuQ",content:"-esm-laboratory-management__referrer-location-list__content___d3B4i",helper:"-esm-laboratory-management__referrer-location-list__helper___RtCFj",separator:"-esm-laboratory-management__referrer-location-list__separator___YjMuS",toolbarContent:"-esm-laboratory-management__referrer-location-list__toolbarContent___g6TH7",filterContainer:"-esm-laboratory-management__referrer-location-list__filterContainer___F8mjL",dateAlign:"-esm-laboratory-management__referrer-location-list__dateAlign___aSpea",filtersAlign:"-esm-laboratory-management__referrer-location-list__filtersAlign___Lp4b5",tableContainer:"-esm-laboratory-management__referrer-location-list__tableContainer___OJo1o",search:"-esm-laboratory-management__referrer-location-list__search___mgyfZ",testName:"-esm-laboratory-management__referrer-location-list__testName___GdAt4"};const i=l},4728:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__storage-form-component__modalBody___apm2a{overflow-y:visible}.-esm-laboratory-management__storage-form-component__modalBody___apm2a .cds--text-input,.-esm-laboratory-management__storage-form-component__modalBody___apm2a .cds--list-box input[role=combobox],.-esm-laboratory-management__storage-form-component__modalBody___apm2a .cds--list-box input[type=text],.-esm-laboratory-management__storage-form-component__modalBody___apm2a .cds--select-input,.-esm-laboratory-management__storage-form-component__modalBody___apm2a .cds--text-area,.-esm-laboratory-management__storage-form-component__modalBody___apm2a .cds--number > div.cds--number__input-wrapper > input[type=number]{background-color:#fff}.-esm-laboratory-management__storage-form-component__section___axOG4{display:flex;flex-direction:column;row-gap:.75rem}.-esm-laboratory-management__storage-form-component__storageLevelOptions___RkrXM{display:flex;flex-direction:row;column-gap:1rem;justify-content:space-between}.-esm-laboratory-management__storage-form-component__errorText___Jod_x{color:#da1e28}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/lab-config/storage/storage-form.component.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,uEACI,kBAAA,CACA,qmBAGI,qBDRA,CCYR,qEACI,YAAA,CACA,qBAAA,CACA,cAAA,CAGJ,iFACI,YAAA,CACA,kBAAA,CACA,eAAA,CACA,6BAAA,CAGJ,uEACI,aDPK",sourceRoot:""}]),l.locals={modalBody:"-esm-laboratory-management__storage-form-component__modalBody___apm2a",section:"-esm-laboratory-management__storage-form-component__section___axOG4",storageLevelOptions:"-esm-laboratory-management__storage-form-component__storageLevelOptions___RkrXM",errorText:"-esm-laboratory-management__storage-form-component__errorText___Jod_x"};const i=l},6168:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,".-esm-laboratory-management__filter-test-config__spacing___rViZS{margin:0 16px}","",{version:3,sources:["webpack://./src/lab-config/tests/filter-test-config.scss"],names:[],mappings:"AAAA,iEACI,aAAA",sourceRoot:""}]),l.locals={spacing:"-esm-laboratory-management__filter-test-config__spacing___rViZS"};const i=l},1683:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__test-config-form-component__modalBody___sEoiv{overflow-y:visible}.-esm-laboratory-management__test-config-form-component__modalBody___sEoiv .cds--text-input,.-esm-laboratory-management__test-config-form-component__modalBody___sEoiv .cds--list-box input[role=combobox],.-esm-laboratory-management__test-config-form-component__modalBody___sEoiv .cds--list-box input[type=text],.-esm-laboratory-management__test-config-form-component__modalBody___sEoiv .cds--select-input,.-esm-laboratory-management__test-config-form-component__modalBody___sEoiv .cds--text-area,.-esm-laboratory-management__test-config-form-component__modalBody___sEoiv .cds--number > div.cds--number__input-wrapper > input[type=number]{background-color:#fff}.-esm-laboratory-management__test-config-form-component__section___rY_0L{display:flex;flex-direction:column;row-gap:.75rem}.-esm-laboratory-management__test-config-form-component__errorText___Mvzmc{color:#da1e28}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/lab-config/tests/test-config-form.component.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,2EACI,kBAAA,CACA,6nBAEI,qBDPA,CCWR,yEACI,YAAA,CACA,qBAAA,CACA,cAAA,CAGJ,2EACI,aDCK",sourceRoot:""}]),l.locals={modalBody:"-esm-laboratory-management__test-config-form-component__modalBody___sEoiv",section:"-esm-laboratory-management__test-config-form-component__section___rY_0L",errorText:"-esm-laboratory-management__test-config-form-component__errorText___Mvzmc"};const i=l},8624:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}:root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__test-config-list__productiveHeading01___k69N7{font-size:var(--cds-heading-01-font-size, 0.875rem);font-weight:var(--cds-heading-01-font-weight, 600);line-height:var(--cds-heading-01-line-height, 1.42857);letter-spacing:var(--cds-heading-01-letter-spacing, 0.16px)}.-esm-laboratory-management__test-config-list__productiveHeading02___PgPKO{font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0)}.-esm-laboratory-management__test-config-list__productiveHeading03___dbNBz{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-laboratory-management__test-config-list__productiveHeading04___qD4z8{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-laboratory-management__test-config-list__bodyLong01___DXeZK{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-laboratory-management__test-config-list__bodyShort01___zbOLN{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-laboratory-management__test-config-list__bodyShort02___ctYBT{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-laboratory-management__test-config-list__text02___XKzYX{color:#525252}.-esm-laboratory-management__test-config-list__label01___lrOKc{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-laboratory-management__test-config-list__modal___abeKC{position:fixed;width:100vw;height:100vh;display:grid;background-color:rgba(0,0,0,.5);z-index:9000;justify-items:center;align-items:center}.-esm-laboratory-management__test-config-list__headerBtnContainer___SL5hg{background-color:#fff;padding:1rem;text-align:right}.-esm-laboratory-management__test-config-list__tileContainer___naKbC{background-color:#fff;border-top:1px solid #e0e0e0;padding:5rem 0}.-esm-laboratory-management__test-config-list__tile____tWLM{margin:auto;width:fit-content}.-esm-laboratory-management__test-config-list__tileContent___RiJFG{display:flex;flex-direction:column;align-items:center}.-esm-laboratory-management__test-config-list__content___Qhy5H{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252;margin-bottom:.5rem}.-esm-laboratory-management__test-config-list__helper___4K517{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#525252}.-esm-laboratory-management__test-config-list__separator___DTGPe{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#525252;width:80%;margin:1.5rem auto;overflow:hidden;text-align:center}.-esm-laboratory-management__test-config-list__separator___DTGPe::before,.-esm-laboratory-management__test-config-list__separator___DTGPe::after{background-color:#a8a8a8;content:"";display:inline-block;height:1px;position:relative;vertical-align:middle;width:50%}.-esm-laboratory-management__test-config-list__separator___DTGPe::before{right:.5rem;margin-left:-50%}.-esm-laboratory-management__test-config-list__separator___DTGPe::after{left:.5rem;margin-right:-50%}.-esm-laboratory-management__test-config-list__toolbarContent___ti4Yh{display:flex;align-items:center}.-esm-laboratory-management__test-config-list__filterContainer___yXjy2{display:flex;align-items:center}.-esm-laboratory-management__test-config-list__dateAlign___H3_5T{padding-top:8px;height:100%}.-esm-laboratory-management__test-config-list__filtersAlign___ToirU{padding-bottom:8px}.-esm-laboratory-management__test-config-list__filtersAlign___ToirU .cds--list-box__menu{min-width:15rem;z-index:1}.-esm-laboratory-management__test-config-list__tableContainer___OcdDl{background-color:#f4f4f4;margin:0;padding:0}.-esm-laboratory-management__test-config-list__tableContainer___OcdDl .cds--data-table-content{overflow-x:unset}.-esm-laboratory-management__test-config-list__tableContainer___OcdDl a{text-decoration:none}.-esm-laboratory-management__test-config-list__tableContainer___OcdDl th{color:#525252}.-esm-laboratory-management__test-config-list__tableContainer___OcdDl .cds--data-table{background-color:#e0e0e0}.-esm-laboratory-management__test-config-list__tableContainer___OcdDl .-esm-laboratory-management__test-config-list__toolbarContent___ti4Yh{height:2rem;margin-bottom:.25rem}.-esm-laboratory-management__test-config-list__tableContainer___OcdDl td{white-space:normal}.-esm-laboratory-management__test-config-list__testName___AB5FN{padding-left:0;padding-right:0;white-space:normal}.-esm-laboratory-management__test-config-list__errorText___Bu7ID{color:#da1e28}',"",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/root.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./src/lab-config/tests/test-config-list.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CAHF,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,2EC81BI,mDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,2DAAA,CD11BJ,2EC01BI,+CAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDt1BJ,2ECs1BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDl1BJ,2ECk1BI,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CD90BJ,kEC80BI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CD10BJ,mEC00BI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDt0BJ,mECs0BI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CDl0BJ,8DACE,aD5BQ,CC+BV,+DC8zBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CD1zBJ,6DACE,cAAA,CACA,WAAA,CACA,YAAA,CACA,YAAA,CACA,+BAAA,CACA,YAAA,CACA,oBAAA,CACA,kBAAA,CE3CF,0EACI,qBHCY,CAAA,YIwBH,CDvBT,gBAAA,CAGF,qEACE,qBHXI,CGYJ,4BAAA,CACA,cAAA,CAGF,4DACE,WAAA,CACA,iBAAA,CAGF,mEACE,YAAA,CACA,qBAAA,CACA,kBAAA,CAEF,+DDu0BE,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CCr0BA,aHxBM,CGyBN,mBAAA,CAGF,8DDi0BE,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CC/zBA,aH9BM,CGiCR,iED4zBE,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CC1zBA,aHnCM,CGoCN,SAAA,CACA,kBAAA,CACA,eAAA,CACA,iBAAA,CAEA,iJAEE,wBH1CI,CG2CJ,UAAA,CACA,oBAAA,CACA,UAAA,CACA,iBAAA,CACA,qBAAA,CACA,SAAA,CAGF,yEACE,WAAA,CACA,gBAAA,CAGF,wEACE,UAAA,CACA,iBAAA,CAIJ,sEACE,YAAA,CACA,kBAAA,CAGF,uEACE,YAAA,CACA,kBAAA,CAEF,iEACE,eAAA,CACA,WAAA,CAEF,oEACE,kBAAA,CAEA,yFACE,eAAA,CACA,SAAA,CAON,sEACI,wBH9FI,CG+FJ,QAAA,CACA,SAAA,CAEA,+FACE,gBAAA,CAGF,wEACE,oBAAA,CAGF,yEACE,aHtGI,CGyGN,uFACE,wBH7GE,CGgHJ,4IACE,WC1EO,CD2EP,oBCpGO,CDuGT,yEACE,kBAAA,CAIJ,gEACE,cAAA,CACA,eAAA,CACA,kBAAA,CAGF,iEACE,aH/GK",sourceRoot:""}]),l.locals={productiveHeading01:"-esm-laboratory-management__test-config-list__productiveHeading01___k69N7",productiveHeading02:"-esm-laboratory-management__test-config-list__productiveHeading02___PgPKO",productiveHeading03:"-esm-laboratory-management__test-config-list__productiveHeading03___dbNBz",productiveHeading04:"-esm-laboratory-management__test-config-list__productiveHeading04___qD4z8",bodyLong01:"-esm-laboratory-management__test-config-list__bodyLong01___DXeZK",bodyShort01:"-esm-laboratory-management__test-config-list__bodyShort01___zbOLN",bodyShort02:"-esm-laboratory-management__test-config-list__bodyShort02___ctYBT",text02:"-esm-laboratory-management__test-config-list__text02___XKzYX",label01:"-esm-laboratory-management__test-config-list__label01___lrOKc",modal:"-esm-laboratory-management__test-config-list__modal___abeKC",headerBtnContainer:"-esm-laboratory-management__test-config-list__headerBtnContainer___SL5hg",tileContainer:"-esm-laboratory-management__test-config-list__tileContainer___naKbC",tile:"-esm-laboratory-management__test-config-list__tile____tWLM",tileContent:"-esm-laboratory-management__test-config-list__tileContent___RiJFG",content:"-esm-laboratory-management__test-config-list__content___Qhy5H",helper:"-esm-laboratory-management__test-config-list__helper___4K517",separator:"-esm-laboratory-management__test-config-list__separator___DTGPe",toolbarContent:"-esm-laboratory-management__test-config-list__toolbarContent___ti4Yh",filterContainer:"-esm-laboratory-management__test-config-list__filterContainer___yXjy2",dateAlign:"-esm-laboratory-management__test-config-list__dateAlign___H3_5T",filtersAlign:"-esm-laboratory-management__test-config-list__filtersAlign___ToirU",tableContainer:"-esm-laboratory-management__test-config-list__tableContainer___OcdDl",testName:"-esm-laboratory-management__test-config-list__testName___AB5FN",errorText:"-esm-laboratory-management__test-config-list__errorText___Bu7ID"};const i=l},7668:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,".-esm-laboratory-management__add-lab-request-action-button-component__headerButton___wT6II{align-self:flex-end;width:fit-content}","",{version:3,sources:["webpack://./src/lab-request/add-lab-request-action-button.component.scss"],names:[],mappings:"AACA,2FACI,mBAAA,CACA,iBAAA",sourceRoot:""}]),l.locals={headerButton:"-esm-laboratory-management__add-lab-request-action-button-component__headerButton___wT6II"};const i=l},3044:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}:root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__lab-referral-request-samples-component__productiveHeading01___ZnuRi{font-size:var(--cds-heading-01-font-size, 0.875rem);font-weight:var(--cds-heading-01-font-weight, 600);line-height:var(--cds-heading-01-line-height, 1.42857);letter-spacing:var(--cds-heading-01-letter-spacing, 0.16px)}.-esm-laboratory-management__lab-referral-request-samples-component__productiveHeading02___gIcW_{font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0)}.-esm-laboratory-management__lab-referral-request-samples-component__productiveHeading03___GQwt0{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-laboratory-management__lab-referral-request-samples-component__productiveHeading04___JifJ6{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-laboratory-management__lab-referral-request-samples-component__bodyLong01___zi9vd{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-laboratory-management__lab-referral-request-samples-component__bodyShort01___FWyFi{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-laboratory-management__lab-referral-request-samples-component__bodyShort02___Qx44q{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-laboratory-management__lab-referral-request-samples-component__text02___JVEgd{color:#525252}.-esm-laboratory-management__lab-referral-request-samples-component__label01___kztxr{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-laboratory-management__lab-referral-request-samples-component__modal___oUq8a{position:fixed;width:100vw;height:100vh;display:grid;background-color:rgba(0,0,0,.5);z-index:9000;justify-items:center;align-items:center}.-esm-laboratory-management__lab-referral-request-samples-component__tableContainer___KUyey{background-color:#f4f4f4;margin:0;padding:0}.-esm-laboratory-management__lab-referral-request-samples-component__tableContainer___KUyey .cds--data-table-content{overflow-x:unset}.-esm-laboratory-management__lab-referral-request-samples-component__tableContainer___KUyey a{text-decoration:none}.-esm-laboratory-management__lab-referral-request-samples-component__tableContainer___KUyey th{color:#525252}.-esm-laboratory-management__lab-referral-request-samples-component__tableContainer___KUyey .cds--data-table{background-color:#e0e0e0}.-esm-laboratory-management__lab-referral-request-samples-component__tableContainer___KUyey .-esm-laboratory-management__lab-referral-request-samples-component__toolbarContent___szm_G{height:2rem;margin-bottom:.25rem}.-esm-laboratory-management__lab-referral-request-samples-component__tableContainer___KUyey td{white-space:normal}.-esm-laboratory-management__lab-referral-request-samples-component__samples___rkqUv{display:flex;gap:1rem;padding-top:1rem;padding-left:1rem;padding-right:1rem;flex-wrap:wrap}.-esm-laboratory-management__lab-referral-request-samples-component__sample___tXLZm{width:20rem;display:flex;flex-direction:column;row-gap:.5rem;border:1px solid #e0e0e0;padding:.5rem;align-self:flex-start;max-height:40rem;overflow-y:auto;background-color:#f4f4f4}.-esm-laboratory-management__lab-referral-request-samples-component__sample___tXLZm .cds--text-input__readonly-icon{display:none}.-esm-laboratory-management__lab-referral-request-samples-component__AltRow___a0K6j{background-color:#f4f4f4}.-esm-laboratory-management__lab-referral-request-samples-component__sampleRemove___F548F{text-align:center}.-esm-laboratory-management__lab-referral-request-samples-component__sampleRemove___F548F button{padding:0;margin:0;min-height:0;min-width:0}.-esm-laboratory-management__lab-referral-request-samples-component__errorText___FE2YP{color:#da1e28;padding:.7rem 0 0 1rem}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/root.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./src/lab-request/lab-referral-request-samples.component.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CAHF,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,iGC81BI,mDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,2DAAA,CD11BJ,iGC01BI,+CAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDt1BJ,iGCs1BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDl1BJ,iGCk1BI,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CD90BJ,wFC80BI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CD10BJ,yFC00BI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDt0BJ,yFCs0BI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CDl0BJ,oFACE,aD5BQ,CC+BV,qFC8zBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CD1zBJ,mFACE,cAAA,CACA,WAAA,CACA,YAAA,CACA,YAAA,CACA,+BAAA,CACA,YAAA,CACA,oBAAA,CACA,kBAAA,CE3CF,4FACI,wBHNI,CGOJ,QAAA,CACA,SAAA,CAEA,qHACE,gBAAA,CAGF,8FACE,oBAAA,CAGF,+FACE,aHdI,CGiBN,6GACE,wBHrBE,CGwBJ,wLACE,WCcO,CDbP,oBCZO,CDcT,+FACE,kBAAA,CAIN,qFACE,YAAA,CACA,QAAA,CACA,gBAAA,CACA,iBAAA,CACA,kBAAA,CACA,cAAA,CAEA,oFACE,WAAA,CACA,YAAA,CACA,qBAAA,CACA,aAAA,CACA,wBAAA,CACA,aAAA,CAIA,qBAAA,CACA,gBAAA,CACA,eAAA,CACA,wBHrCsB,CG+BtB,oHACE,YAAA,CAQJ,oFACE,wBHzCsB,CG4CxB,0FACE,iBAAA,CACA,iGACA,SAAA,CACA,QAAA,CACA,YAAA,CACA,WAAA,CAIF,uFACE,aHtDK,CGuDL,sBAAA",sourceRoot:""}]),l.locals={productiveHeading01:"-esm-laboratory-management__lab-referral-request-samples-component__productiveHeading01___ZnuRi",productiveHeading02:"-esm-laboratory-management__lab-referral-request-samples-component__productiveHeading02___gIcW_",productiveHeading03:"-esm-laboratory-management__lab-referral-request-samples-component__productiveHeading03___GQwt0",productiveHeading04:"-esm-laboratory-management__lab-referral-request-samples-component__productiveHeading04___JifJ6",bodyLong01:"-esm-laboratory-management__lab-referral-request-samples-component__bodyLong01___zi9vd",bodyShort01:"-esm-laboratory-management__lab-referral-request-samples-component__bodyShort01___FWyFi",bodyShort02:"-esm-laboratory-management__lab-referral-request-samples-component__bodyShort02___Qx44q",text02:"-esm-laboratory-management__lab-referral-request-samples-component__text02___JVEgd",label01:"-esm-laboratory-management__lab-referral-request-samples-component__label01___kztxr",modal:"-esm-laboratory-management__lab-referral-request-samples-component__modal___oUq8a",tableContainer:"-esm-laboratory-management__lab-referral-request-samples-component__tableContainer___KUyey",toolbarContent:"-esm-laboratory-management__lab-referral-request-samples-component__toolbarContent___szm_G",samples:"-esm-laboratory-management__lab-referral-request-samples-component__samples___rkqUv",sample:"-esm-laboratory-management__lab-referral-request-samples-component__sample___tXLZm",AltRow:"-esm-laboratory-management__lab-referral-request-samples-component__AltRow___a0K6j",sampleRemove:"-esm-laboratory-management__lab-referral-request-samples-component__sampleRemove___F548F",errorText:"-esm-laboratory-management__lab-referral-request-samples-component__errorText___FE2YP"};const i=l},486:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__lab-referral-request-component__referralInfo___RFj8O{max-width:25rem}.-esm-laboratory-management__lab-referral-request-component__locationLabRequest___YsBBc{padding:.5rem;border:1px solid #e0e0e0;background-color:#f4f4f4}.-esm-laboratory-management__lab-referral-request-component__locationLabRequest___YsBBc select,.-esm-laboratory-management__lab-referral-request-component__locationLabRequest___YsBBc .-esm-laboratory-management__lab-referral-request-component__selectedTestAltRow___WSPv8{background-color:#fff !important}.-esm-laboratory-management__lab-referral-request-component__labRequests___CRDcm{margin-top:.5rem}.-esm-laboratory-management__lab-referral-request-component__labRequests___CRDcm .-esm-laboratory-management__lab-referral-request-component__labRequestsHeader___R65bp{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.-esm-laboratory-management__lab-referral-request-component__labRequests___CRDcm .-esm-laboratory-management__lab-referral-request-component__labRequestsHeader___R65bp button{min-height:16px;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0}.-esm-laboratory-management__lab-referral-request-component__selectedTests___IJkGd{display:flex;flex-direction:column;row-gap:0rem}.-esm-laboratory-management__lab-referral-request-component__selectedTests___IJkGd .-esm-laboratory-management__lab-referral-request-component__testLocation___yIy22{display:flex;flex-direction:row;justify-content:space-between;padding-top:.5rem;padding-bottom:.5rem}.-esm-laboratory-management__lab-referral-request-component__selectedTests___IJkGd .-esm-laboratory-management__lab-referral-request-component__testLocation___yIy22 button{min-height:16px;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0}.-esm-laboratory-management__lab-referral-request-component__selectedTest___yuD4f:last-child{border-bottom:1px solid #e0e0e0}.-esm-laboratory-management__lab-referral-request-component__selectedTest___yuD4f{display:flex;justify-content:space-between;align-items:center;border-top:1px solid #e0e0e0;padding-top:.5rem;padding-bottom:.35rem;padding-left:.25rem;font-size:.85rem}.-esm-laboratory-management__lab-referral-request-component__selectedTest___yuD4f button{min-height:16px;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0}.-esm-laboratory-management__lab-referral-request-component__selectedTest___yuD4f .-esm-laboratory-management__lab-referral-request-component__selectedTestName___a4a15{display:flex;justify-content:flex-start;align-items:center}.-esm-laboratory-management__lab-referral-request-component__section___Q3y9I{display:flex;flex-direction:column;row-gap:.25rem}.-esm-laboratory-management__lab-referral-request-component__formWrapper___GXtEw{display:flex;flex-direction:column;justify-content:space-between;height:100%}.-esm-laboratory-management__lab-referral-request-component__form___Njwdm{background-color:#f4f4f4;display:flex;flex-direction:column;justify-content:space-between;flex-basis:65%;flex-grow:1;flex-shrink:1;overflow-y:visible}.-esm-laboratory-management__lab-referral-request-component__modalBody___C_FRC{overflow-y:visible;padding-top:1rem;margin-bottom:.85rem;flex-grow:1;display:flex;flex-direction:column;justify-content:flex-start}.-esm-laboratory-management__lab-referral-request-component__modalBody___C_FRC .cds--text-input,.-esm-laboratory-management__lab-referral-request-component__modalBody___C_FRC .cds--list-box input[role=combobox],.-esm-laboratory-management__lab-referral-request-component__modalBody___C_FRC .cds--list-box input[type=text],.-esm-laboratory-management__lab-referral-request-component__modalBody___C_FRC .cds--select-input,.-esm-laboratory-management__lab-referral-request-component__modalBody___C_FRC .cds--text-area,.-esm-laboratory-management__lab-referral-request-component__modalBody___C_FRC .cds--number > div.cds--number__input-wrapper > input[type=number]{background-color:#fff}.-esm-laboratory-management__lab-referral-request-component__radioLabel___jH7SA{padding-top:.45rem}.-esm-laboratory-management__lab-referral-request-component__modalFooter___FN9QM{padding-left:1rem;padding-right:1rem}.-esm-laboratory-management__lab-referral-request-component__multiSelectedCombo___KDVms .cds--list-box{background-color:#fff}.-esm-laboratory-management__lab-referral-request-component__borderBottom___qL6UR{border-bottom:.063rem solid #e0e0e0}.-esm-laboratory-management__lab-referral-request-component__horizontalRadioButtons___tGJpP{padding-top:.5rem;display:flex;flex-direction:row;align-items:center;column-gap:1rem;padding-bottom:.5rem}.-esm-laboratory-management__lab-referral-request-component__clear-margin-padding-bottom___FV2ho{margin-bottom:0;padding-bottom:0}.-esm-laboratory-management__lab-referral-request-component__inputWhite___ytO92 input,.-esm-laboratory-management__lab-referral-request-component__inputWhite___ytO92 textarea{background-color:#fff}.-esm-laboratory-management__lab-referral-request-component__errorText___h8T5b{color:#da1e28}.-esm-laboratory-management__lab-referral-request-component__tabs___dU477{grid-column:"span 2"}.-esm-laboratory-management__lab-referral-request-component__tablist___Clx6C{padding:0 1rem}.-esm-laboratory-management__lab-referral-request-component__tab___NR72F{min-width:8.875rem}.-esm-laboratory-management__lab-referral-request-component__tab___NR72F:active,.-esm-laboratory-management__lab-referral-request-component__tab___NR72F:focus{outline:2px solid var(--brand-03) !important}.-esm-laboratory-management__lab-referral-request-component__tab___NR72F[aria-selected=true]{box-shadow:inset 0 2px 0 0 var(--brand-03) !important}.-esm-laboratory-management__lab-referral-request-component__tabPanel___JDVC3{padding-top:0}.-esm-laboratory-management__lab-referral-request-component__hiddenTabsContent___EziZi,.-esm-laboratory-management__lab-referral-request-component__tabs___dU477 .-esm-laboratory-management__lab-referral-request-component__hiddenTabsContent___EziZi{display:none}.-esm-laboratory-management__lab-referral-request-component__listsTableContainer___F_KfV{padding:1rem;background-color:#f4f4f4;height:calc(100vh - 12rem)}',"",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/lab-request/lab-referral-request.component.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,kFACI,eAAA,CAGJ,wFACI,aAAA,CACA,wBAAA,CACA,wBDXI,CCaJ,+QACI,gCAAA,CAGR,iFACI,gBAAA,CACA,wKACI,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,kBAAA,CACA,+KACI,eAAA,CACA,YAAA,CACA,eAAA,CACA,aAAA,CACA,gBAAA,CAKZ,mFACI,YAAA,CACA,qBAAA,CACA,YAAA,CAEA,qKACI,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,iBAAA,CACA,oBAAA,CAEA,4KACI,eAAA,CACA,YAAA,CACA,eAAA,CACA,aAAA,CACA,gBAAA,CAKZ,6FACI,+BAAA,CAGJ,kFACI,YAAA,CACA,6BAAA,CACA,kBAAA,CACA,4BAAA,CACA,iBAAA,CACA,qBAAA,CACA,mBAAA,CACA,gBAAA,CAIA,yFACI,eAAA,CACA,YAAA,CACA,eAAA,CACA,aAAA,CACA,gBAAA,CAGJ,wKACI,YAAA,CACA,0BAAA,CACA,kBAAA,CAIR,6EACI,YAAA,CACA,qBAAA,CACA,cAAA,CAGJ,iFACI,YAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CAIJ,0EACI,wBDtGI,CCuGJ,YAAA,CACA,qBAAA,CACA,6BAAA,CACA,cAAA,CACA,WAAA,CACA,aAAA,CACA,kBAAA,CAGJ,+EACI,kBAAA,CACA,gBAAA,CACA,oBAAA,CACA,WAAA,CACA,YAAA,CACA,qBAAA,CACA,0BAAA,CAEA,qpBAEI,qBD1HA,CC8HR,gFACI,kBAAA,CAGJ,iFACI,iBAAA,CACA,kBAAA,CAIA,uGACI,qBDzIA,CC6IR,kFACI,mCAAA,CAGJ,4FACI,iBAAA,CACA,YAAA,CACA,kBAAA,CACA,kBAAA,CACA,eAAA,CACA,oBAAA,CAGJ,iGACI,eAAA,CACA,gBAAA,CAIA,+KACI,qBDjKA,CCqKR,+EACI,aDnJK,CCsJT,0EACI,oBAAA,CAGF,6EACE,cAAA,CAGF,yEACE,kBAAA,CAEA,+JAEE,4CAAA,CAGF,6FACE,qDAAA,CAIJ,8EACE,aAAA,CAGF,wPAEE,YAAA,CAGF,yFACE,YC1KS,CD2KT,wBD1MI,CC2MJ,0BAAA",sourceRoot:""}]),l.locals={referralInfo:"-esm-laboratory-management__lab-referral-request-component__referralInfo___RFj8O",locationLabRequest:"-esm-laboratory-management__lab-referral-request-component__locationLabRequest___YsBBc",selectedTestAltRow:"-esm-laboratory-management__lab-referral-request-component__selectedTestAltRow___WSPv8",labRequests:"-esm-laboratory-management__lab-referral-request-component__labRequests___CRDcm",labRequestsHeader:"-esm-laboratory-management__lab-referral-request-component__labRequestsHeader___R65bp",selectedTests:"-esm-laboratory-management__lab-referral-request-component__selectedTests___IJkGd",testLocation:"-esm-laboratory-management__lab-referral-request-component__testLocation___yIy22",selectedTest:"-esm-laboratory-management__lab-referral-request-component__selectedTest___yuD4f",selectedTestName:"-esm-laboratory-management__lab-referral-request-component__selectedTestName___a4a15",section:"-esm-laboratory-management__lab-referral-request-component__section___Q3y9I",formWrapper:"-esm-laboratory-management__lab-referral-request-component__formWrapper___GXtEw",form:"-esm-laboratory-management__lab-referral-request-component__form___Njwdm",modalBody:"-esm-laboratory-management__lab-referral-request-component__modalBody___C_FRC",radioLabel:"-esm-laboratory-management__lab-referral-request-component__radioLabel___jH7SA",modalFooter:"-esm-laboratory-management__lab-referral-request-component__modalFooter___FN9QM",multiSelectedCombo:"-esm-laboratory-management__lab-referral-request-component__multiSelectedCombo___KDVms",borderBottom:"-esm-laboratory-management__lab-referral-request-component__borderBottom___qL6UR",horizontalRadioButtons:"-esm-laboratory-management__lab-referral-request-component__horizontalRadioButtons___tGJpP","clear-margin-padding-bottom":"-esm-laboratory-management__lab-referral-request-component__clear-margin-padding-bottom___FV2ho",inputWhite:"-esm-laboratory-management__lab-referral-request-component__inputWhite___ytO92",errorText:"-esm-laboratory-management__lab-referral-request-component__errorText___h8T5b",tabs:"-esm-laboratory-management__lab-referral-request-component__tabs___dU477",tablist:"-esm-laboratory-management__lab-referral-request-component__tablist___Clx6C",tab:"-esm-laboratory-management__lab-referral-request-component__tab___NR72F",tabPanel:"-esm-laboratory-management__lab-referral-request-component__tabPanel___JDVC3",hiddenTabsContent:"-esm-laboratory-management__lab-referral-request-component__hiddenTabsContent___EziZi",listsTableContainer:"-esm-laboratory-management__lab-referral-request-component__listsTableContainer___F_KfV"};const i=l},9752:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,".cds--modal-container:has(.fullScreenModal){width:100%;height:100vh}.-esm-laboratory-management__lab-request-test-selection-dialog-component__modalWrapper___FTGQg{display:flex;flex-direction:column;justify-content:space-between;height:100%;overflow-y:auto;padding-top:0;margin-top:0}.-esm-laboratory-management__lab-request-test-selection-dialog-component__modalBody___sxna0{overflow-y:auto;flex-grow:1;display:flex;flex-direction:column;justify-content:flex-start}.-esm-laboratory-management__lab-request-test-selection-dialog-component__modalBody___sxna0 section{padding-top:0;margin-top:0}.-esm-laboratory-management__lab-request-test-selection-dialog-component__section___JnQ14{display:flex;flex-wrap:wrap;align-items:stretch}.-esm-laboratory-management__lab-request-test-selection-dialog-component__testGroup___Ba8xR{width:fit-content;white-space:wrap}","",{version:3,sources:["webpack://./src/lab-request/lab-request-test-selection-dialog.component.scss"],names:[],mappings:"AAAA,4CACI,UAAA,CACA,YAAA,CAGJ,+FACI,YAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CACA,eAAA,CACA,aAAA,CACA,YAAA,CAGJ,4FACI,eAAA,CACA,WAAA,CACA,YAAA,CACA,qBAAA,CACA,0BAAA,CAEA,oGACI,aAAA,CACA,YAAA,CAIR,0FACI,YAAA,CACA,cAAA,CACA,mBAAA,CAGJ,4FACI,iBAAA,CACA,gBAAA",sourceRoot:""}]),l.locals={modalWrapper:"-esm-laboratory-management__lab-request-test-selection-dialog-component__modalWrapper___FTGQg",modalBody:"-esm-laboratory-management__lab-request-test-selection-dialog-component__modalBody___sxna0",section:"-esm-laboratory-management__lab-request-test-selection-dialog-component__section___JnQ14",testGroup:"-esm-laboratory-management__lab-request-test-selection-dialog-component__testGroup___Ba8xR"};const i=l},4540:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__lab-request-component__locationLabRequest___FqFLI{padding:.5rem;border:1px solid #e0e0e0;background-color:#f4f4f4}.-esm-laboratory-management__lab-request-component__locationLabRequest___FqFLI select,.-esm-laboratory-management__lab-request-component__locationLabRequest___FqFLI .-esm-laboratory-management__lab-request-component__selectedTestAltRow___AjFQB{background-color:#fff !important}.-esm-laboratory-management__lab-request-component__labRequests___fEhBL{margin-top:.5rem}.-esm-laboratory-management__lab-request-component__labRequests___fEhBL .-esm-laboratory-management__lab-request-component__labRequestsHeader___so3Ox{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.-esm-laboratory-management__lab-request-component__labRequests___fEhBL .-esm-laboratory-management__lab-request-component__labRequestsHeader___so3Ox button{min-height:16px;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0}.-esm-laboratory-management__lab-request-component__selectedTests___b1QtJ{display:flex;flex-direction:column;row-gap:0rem}.-esm-laboratory-management__lab-request-component__selectedTests___b1QtJ .-esm-laboratory-management__lab-request-component__testLocation___iggze{display:flex;flex-direction:row;justify-content:space-between;padding-top:.5rem;padding-bottom:.5rem}.-esm-laboratory-management__lab-request-component__selectedTests___b1QtJ .-esm-laboratory-management__lab-request-component__testLocation___iggze button{min-height:16px;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0}.-esm-laboratory-management__lab-request-component__selectedTest___IJOJe:last-child{border-bottom:1px solid #e0e0e0}.-esm-laboratory-management__lab-request-component__selectedTest___IJOJe{display:flex;justify-content:space-between;align-items:center;border-top:1px solid #e0e0e0;padding-top:.5rem;padding-bottom:.35rem;padding-left:.25rem;font-size:.85rem}.-esm-laboratory-management__lab-request-component__selectedTest___IJOJe button{min-height:16px;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0}.-esm-laboratory-management__lab-request-component__selectedTest___IJOJe .-esm-laboratory-management__lab-request-component__selectedTestName___LYD4x{display:flex;justify-content:flex-start;align-items:center}.-esm-laboratory-management__lab-request-component__section___dkkwU{display:flex;flex-direction:column;row-gap:.25rem}.-esm-laboratory-management__lab-request-component__formWrapper___VPlTl{display:flex;flex-direction:column;justify-content:space-between;height:100%}.-esm-laboratory-management__lab-request-component__form___aEx7P{background-color:#f4f4f4;display:flex;flex-direction:column;justify-content:space-between;flex-basis:65%;flex-grow:1;flex-shrink:1;overflow-y:auto}.-esm-laboratory-management__lab-request-component__modalBody___ilPcl{overflow-y:auto;padding-left:1rem;padding-right:1rem;padding-top:.5rem;margin-bottom:.85rem;min-height:30rem;flex-grow:1;display:flex;flex-direction:column;justify-content:flex-start}.-esm-laboratory-management__lab-request-component__modalBody___ilPcl .cds--text-input,.-esm-laboratory-management__lab-request-component__modalBody___ilPcl .cds--list-box input[role=combobox],.-esm-laboratory-management__lab-request-component__modalBody___ilPcl .cds--list-box input[type=text],.-esm-laboratory-management__lab-request-component__modalBody___ilPcl .cds--select-input,.-esm-laboratory-management__lab-request-component__modalBody___ilPcl .cds--text-area,.-esm-laboratory-management__lab-request-component__modalBody___ilPcl .cds--number > div.cds--number__input-wrapper > input[type=number]{background-color:#fff}.-esm-laboratory-management__lab-request-component__radioLabel___CC2Mr{padding-top:.45rem}.-esm-laboratory-management__lab-request-component__modalFooter___P0DvV{padding-left:1rem;padding-right:1rem}.-esm-laboratory-management__lab-request-component__multiSelectedCombo___BuW9N .cds--list-box{background-color:#fff}.-esm-laboratory-management__lab-request-component__borderBottom___HqlIV{border-bottom:.063rem solid #e0e0e0}.-esm-laboratory-management__lab-request-component__horizontalRadioButtons___lbtBS{padding-top:.5rem;display:flex;flex-direction:row;align-items:center;column-gap:1rem;padding-bottom:.5rem}.-esm-laboratory-management__lab-request-component__clear-margin-padding-bottom___xkATh{margin-bottom:0;padding-bottom:0}.-esm-laboratory-management__lab-request-component__inputWhite___iQVxg input,.-esm-laboratory-management__lab-request-component__inputWhite___iQVxg textarea{background-color:#fff}.-esm-laboratory-management__lab-request-component__errorText___VQUhi{color:#da1e28}.-esm-laboratory-management__lab-request-component__patientSearch___hOTfF div[data-extension-slot-name] form button.cds--search-close{height:2rem;padding:0}.-esm-laboratory-management__lab-request-component__patientSearch___hOTfF div[data-extension-slot-name] form button.cds--btn--primary{height:2rem;min-height:2rem;padding-top:.35rem;padding:.35rem}.-esm-laboratory-management__lab-request-component__patientSearch___hOTfF div[data-extension-slot-name] form input.cds--search-input{height:1rem;padding:0 .5rem 0 3rem;min-height:2rem}.-esm-laboratory-management__lab-request-component__patientSearch___hOTfF div[data-extension-slot-name] form+div button{height:4rem}.-esm-laboratory-management__lab-request-component__patientSearch___hOTfF div[data-extension-slot-name] form+div button button{height:1rem}.-esm-laboratory-management__lab-request-component__referOut___AwD4N{display:flex;flex-direction:row;column-gap:0rem;align-items:center;justify-content:flex-end}.-esm-laboratory-management__lab-request-component__referOut___AwD4N .cds--checkbox-label-text{white-space:nowrap}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/lab-request/lab-request.component.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,+EACI,aAAA,CACA,wBAAA,CACA,wBDPI,CCSJ,oPACI,gCAAA,CAGR,wEACI,gBAAA,CACA,sJACI,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,kBAAA,CACA,6JACI,eAAA,CACA,YAAA,CACA,eAAA,CACA,aAAA,CACA,gBAAA,CAKZ,0EACI,YAAA,CACA,qBAAA,CACA,YAAA,CAEA,mJACI,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,iBAAA,CACA,oBAAA,CAEA,0JACI,eAAA,CACA,YAAA,CACA,eAAA,CACA,aAAA,CACA,gBAAA,CAKZ,oFACI,+BAAA,CAGJ,yEACI,YAAA,CACA,6BAAA,CACA,kBAAA,CACA,4BAAA,CACA,iBAAA,CACA,qBAAA,CACA,mBAAA,CACA,gBAAA,CAIA,gFACI,eAAA,CACA,YAAA,CACA,eAAA,CACA,aAAA,CACA,gBAAA,CAGJ,sJACI,YAAA,CACA,0BAAA,CACA,kBAAA,CAIR,oEACI,YAAA,CACA,qBAAA,CACA,cAAA,CAGJ,wEACI,YAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CAGJ,iEACI,wBDjGI,CCkGJ,YAAA,CACA,qBAAA,CACA,6BAAA,CACA,cAAA,CACA,WAAA,CACA,aAAA,CACA,eAAA,CAGJ,sEACI,eAAA,CACA,iBAAA,CACA,kBAAA,CACA,iBAAA,CACA,oBAAA,CACA,gBAAA,CACA,WAAA,CACA,YAAA,CACA,qBAAA,CACA,0BAAA,CAEA,+lBAEI,qBDxHA,CC4HR,uEACI,kBAAA,CAGJ,wEACI,iBAAA,CACA,kBAAA,CAIA,8FACI,qBDvIA,CC2IR,yEACI,mCAAA,CAGJ,mFACI,iBAAA,CACA,YAAA,CACA,kBAAA,CACA,kBAAA,CACA,eAAA,CACA,oBAAA,CAGJ,wFACI,eAAA,CACA,gBAAA,CAIA,6JACI,qBD/JA,CCoKR,sEACI,aDlJK,CC4JG,sIACI,WAAA,CACA,SAAA,CAGJ,sIACI,WAAA,CACA,eAAA,CACA,kBAAA,CAEA,cAAA,CAGJ,qIACI,WAAA,CACA,sBAAA,CACA,eAAA,CAIJ,wHACI,WAAA,CACA,+HACI,WAAA,CAWpB,qEACI,YAAA,CACA,kBAAA,CACA,eAAA,CACA,kBAAA,CACA,wBAAA,CACA,+FACI,kBAAA",sourceRoot:""}]),l.locals={locationLabRequest:"-esm-laboratory-management__lab-request-component__locationLabRequest___FqFLI",selectedTestAltRow:"-esm-laboratory-management__lab-request-component__selectedTestAltRow___AjFQB",labRequests:"-esm-laboratory-management__lab-request-component__labRequests___fEhBL",labRequestsHeader:"-esm-laboratory-management__lab-request-component__labRequestsHeader___so3Ox",selectedTests:"-esm-laboratory-management__lab-request-component__selectedTests___b1QtJ",testLocation:"-esm-laboratory-management__lab-request-component__testLocation___iggze",selectedTest:"-esm-laboratory-management__lab-request-component__selectedTest___IJOJe",selectedTestName:"-esm-laboratory-management__lab-request-component__selectedTestName___LYD4x",section:"-esm-laboratory-management__lab-request-component__section___dkkwU",formWrapper:"-esm-laboratory-management__lab-request-component__formWrapper___VPlTl",form:"-esm-laboratory-management__lab-request-component__form___aEx7P",modalBody:"-esm-laboratory-management__lab-request-component__modalBody___ilPcl",radioLabel:"-esm-laboratory-management__lab-request-component__radioLabel___CC2Mr",modalFooter:"-esm-laboratory-management__lab-request-component__modalFooter___P0DvV",multiSelectedCombo:"-esm-laboratory-management__lab-request-component__multiSelectedCombo___BuW9N",borderBottom:"-esm-laboratory-management__lab-request-component__borderBottom___HqlIV",horizontalRadioButtons:"-esm-laboratory-management__lab-request-component__horizontalRadioButtons___lbtBS","clear-margin-padding-bottom":"-esm-laboratory-management__lab-request-component__clear-margin-padding-bottom___xkATh",inputWhite:"-esm-laboratory-management__lab-request-component__inputWhite___iQVxg",errorText:"-esm-laboratory-management__lab-request-component__errorText___VQUhi",patientSearch:"-esm-laboratory-management__lab-request-component__patientSearch___hOTfF",referOut:"-esm-laboratory-management__lab-request-component__referOut___AwD4N"};const i=l},7080:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__storage-action-dialog__section___HihFJ,.-esm-laboratory-management__storage-action-dialog__approvalItems___UhO3u{margin:.5rem}.-esm-laboratory-management__storage-action-dialog__sectionTitle___BQLkt{margin-bottom:.75rem}.-esm-laboratory-management__storage-action-dialog__modalBody___R92G0{padding-bottom:1rem;z-index:1000}.-esm-laboratory-management__storage-action-dialog__modalBody___R92G0 .cds--text-input,.-esm-laboratory-management__storage-action-dialog__modalBody___R92G0 .cds--list-box input[role=combobox],.-esm-laboratory-management__storage-action-dialog__modalBody___R92G0 .cds--list-box input[type=text],.-esm-laboratory-management__storage-action-dialog__modalBody___R92G0 .cds--select-input,.-esm-laboratory-management__storage-action-dialog__modalBody___R92G0 .cds--text-area,.-esm-laboratory-management__storage-action-dialog__modalBody___R92G0 .cds--number > div.cds--number__input-wrapper > input[type=number],.-esm-laboratory-management__storage-action-dialog__modalBody___R92G0 .cds--date-picker__input{background-color:#fff}.-esm-laboratory-management__storage-action-dialog__modalBody___R92G0 .cds--text-input__readonly-icon{display:none}.-esm-laboratory-management__storage-action-dialog__approvalItems___UhO3u{display:flex;row-gap:.5rem;column-gap:1rem;flex-wrap:wrap;align-content:flex-start;max-height:20rem;overflow-y:auto}.-esm-laboratory-management__storage-action-dialog__approvalItems___UhO3u>div{height:min-content;white-space:wrap !important;width:fit-content}.-esm-laboratory-management__storage-action-dialog__approvalItems___UhO3u>div p{font-size:var(--cds-heading-01-font-size, 0.875rem);font-weight:var(--cds-heading-01-font-weight, 600);line-height:var(--cds-heading-01-line-height, 1.42857);letter-spacing:var(--cds-heading-01-letter-spacing, 0.16px)}.-esm-laboratory-management__storage-action-dialog__section___HihFJ{margin:.5rem}.-esm-laboratory-management__storage-action-dialog__sectionRow___WI5bE{margin:.5rem;display:flex;flex-direction:row;column-gap:1rem;align-items:center;justify-content:space-between;align-content:stretch}.-esm-laboratory-management__storage-action-dialog__sectionRow___WI5bE .-esm-laboratory-management__storage-action-dialog__sectionField___b0nh3{flex-grow:1}.-esm-laboratory-management__storage-action-dialog__sectionRow___WI5bE .-esm-laboratory-management__storage-action-dialog__sectionField___b0nh3 .cds--text-input__readonly-icon{display:none}.-esm-laboratory-management__storage-action-dialog__sectionRow___WI5bE .-esm-laboratory-management__storage-action-dialog__numericInput___VyXcv{width:5rem}.-esm-laboratory-management__storage-action-dialog__sectionTitle___BQLkt{width:10rem}.-esm-laboratory-management__storage-action-dialog__storageSelected___h65XF{width:80%}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/lab-samples/dialog/storage-action-dialog.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,8IACE,YCgBW,CDbb,yEACE,oBCiBW,CDdb,sEACE,mBCkBW,CDTX,YAAA,CARA,8rBAGE,qBDhBI,CCkBN,sGACE,YAAA,CAKJ,0EACE,YAAA,CACA,aAAA,CACA,eAAA,CACA,cAAA,CACA,wBAAA,CACA,gBAAA,CACA,eAAA,CAIF,8EACE,kBAAA,CACA,2BAAA,CACA,iBAAA,CAEA,gFEyzBE,mDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,2DAAA,CFnzBJ,oEACE,YC3BW,CD8Bb,uEACI,YC/BS,CDgCT,YAAA,CACA,kBAAA,CACA,eAAA,CACA,kBAAA,CACA,6BAAA,CACA,qBAAA,CAEA,gJACE,WAAA,CACA,gLACE,YAAA,CAIJ,gJACE,UAAA,CAIN,yEACE,WAAA,CAGF,4EACE,SAAA",sourceRoot:""}]),l.locals={section:"-esm-laboratory-management__storage-action-dialog__section___HihFJ",approvalItems:"-esm-laboratory-management__storage-action-dialog__approvalItems___UhO3u",sectionTitle:"-esm-laboratory-management__storage-action-dialog__sectionTitle___BQLkt",modalBody:"-esm-laboratory-management__storage-action-dialog__modalBody___R92G0",sectionRow:"-esm-laboratory-management__storage-action-dialog__sectionRow___WI5bE",sectionField:"-esm-laboratory-management__storage-action-dialog__sectionField___b0nh3",numericInput:"-esm-laboratory-management__storage-action-dialog__numericInput___VyXcv",storageSelected:"-esm-laboratory-management__storage-action-dialog__storageSelected___h65XF"};const i=l},2012:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}:root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__laboratory-active-test-order-results__productiveHeading01___sQjEH{font-size:var(--cds-heading-01-font-size, 0.875rem);font-weight:var(--cds-heading-01-font-weight, 600);line-height:var(--cds-heading-01-line-height, 1.42857);letter-spacing:var(--cds-heading-01-letter-spacing, 0.16px)}.-esm-laboratory-management__laboratory-active-test-order-results__productiveHeading02___x9o8B{font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0)}.-esm-laboratory-management__laboratory-active-test-order-results__productiveHeading03___YFEe0{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-laboratory-management__laboratory-active-test-order-results__productiveHeading04___zfbSL{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-laboratory-management__laboratory-active-test-order-results__bodyLong01___kGHtf{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-laboratory-management__laboratory-active-test-order-results__bodyShort01___J9oic{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-laboratory-management__laboratory-active-test-order-results__bodyShort02___IOJ6n{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-laboratory-management__laboratory-active-test-order-results__text02___GF_TT{color:#525252}.-esm-laboratory-management__laboratory-active-test-order-results__label01___WudlT{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-laboratory-management__laboratory-active-test-order-results__modal___ih_YF{position:fixed;width:100vw;height:100vh;display:grid;background-color:rgba(0,0,0,.5);z-index:9000;justify-items:center;align-items:center}.-esm-laboratory-management__laboratory-active-test-order-results__widgetCard___gqhz_{border:1px solid #e0e0e0;border-bottom:none}.-esm-laboratory-management__laboratory-active-test-order-results__widgetCard___gqhz_ .-esm-laboratory-management__laboratory-active-test-order-results__expandedActiveVisitRow___iGLTY table tbody td{padding-left:1rem !important}.-esm-laboratory-management__laboratory-active-test-order-results__widgetCard___gqhz_ .-esm-laboratory-management__laboratory-active-test-order-results__status___G3gXZ{white-space:nowrap}.-esm-laboratory-management__laboratory-active-test-order-results__widgetCard___gqhz_ .-esm-laboratory-management__laboratory-active-test-order-results__status___G3gXZ a{text-decoration:none}.-esm-laboratory-management__laboratory-active-test-order-results__widgetCard___gqhz_ .-esm-laboratory-management__laboratory-active-test-order-results__status___G3gXZ strong{font-size:90%}.-esm-laboratory-management__laboratory-active-test-order-results__widgetCard___gqhz_ section.cds--table-toolbar{margin-left:0;margin-right:0}.cds--data-table-content{overflow-x:unset}.-esm-laboratory-management__laboratory-active-test-order-results__headerBtnContainer___axiwq{background-color:#fff;padding:1rem;text-align:right}.-esm-laboratory-management__laboratory-active-test-order-results__tileContainer___u_86s{background-color:#fff;border-top:1px solid #e0e0e0;padding:5rem 0}.-esm-laboratory-management__laboratory-active-test-order-results__tile___qhFIW{margin:auto;width:fit-content}.-esm-laboratory-management__laboratory-active-test-order-results__tileContent___SFQQU{display:flex;flex-direction:column;align-items:center}.-esm-laboratory-management__laboratory-active-test-order-results__content___ylifs{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252;margin-bottom:.5rem}.-esm-laboratory-management__laboratory-active-test-order-results__helper___xxM8s{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#525252}.-esm-laboratory-management__laboratory-active-test-order-results__container___F5Wtu{background-color:#f4f4f4}.-esm-laboratory-management__laboratory-active-test-order-results__separator___k5y7T{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#525252;width:80%;margin:1.5rem auto;overflow:hidden;text-align:center}.-esm-laboratory-management__laboratory-active-test-order-results__separator___k5y7T::before,.-esm-laboratory-management__laboratory-active-test-order-results__separator___k5y7T::after{background-color:#a8a8a8;content:"";display:inline-block;height:1px;position:relative;vertical-align:middle;width:50%}.-esm-laboratory-management__laboratory-active-test-order-results__separator___k5y7T::before{right:.5rem;margin-left:-50%}.-esm-laboratory-management__laboratory-active-test-order-results__separator___k5y7T::after{left:.5rem;margin-right:-50%}',"",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/root.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./src/patient-chart/laboratory-active-test-order/laboratory-active-test-order-results.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CAHF,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,+FC81BI,mDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,2DAAA,CD11BJ,+FC01BI,+CAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDt1BJ,+FCs1BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDl1BJ,+FCk1BI,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CD90BJ,sFC80BI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CD10BJ,uFC00BI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDt0BJ,uFCs0BI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CDl0BJ,kFACE,aD5BQ,CC+BV,mFC8zBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CD1zBJ,iFACE,cAAA,CACA,WAAA,CACA,YAAA,CACA,YAAA,CACA,+BAAA,CACA,YAAA,CACA,oBAAA,CACA,kBAAA,CEzCF,sFACI,wBAAA,CACA,kBAAA,CAEA,uMACE,4BAAA,CAGF,wKACE,kBAAA,CACA,0KAAA,oBAAA,CACA,+KACE,aAAA,CAIJ,iHACE,aAAA,CACA,cAAA,CAIN,yBACE,gBAAA,CAGF,8FACE,qBH3Bc,CG4Bd,YCJW,CDKX,gBAAA,CAGF,yFACE,qBHvCM,CGwCN,4BAAA,CACA,cAAA,CAGF,gFACE,WAAA,CACA,iBAAA,CAGF,uFACE,YAAA,CACA,qBAAA,CACA,kBAAA,CAGF,mFD0yBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CCxyBF,aHrDQ,CGsDR,mBAAA,CAGF,kFDoyBI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CClyBF,aH3DQ,CG8DV,qFACE,wBHpEM,CGuER,qFD2xBI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CCzxBF,aHpEQ,CGqER,SAAA,CACA,kBAAA,CACA,eAAA,CACA,iBAAA,CAEA,yLAEE,wBH3EM,CG4EN,UAAA,CACA,oBAAA,CACA,UAAA,CACA,iBAAA,CACA,qBAAA,CACA,SAAA,CAGF,6FACE,WAAA,CACA,gBAAA,CAGF,4FACE,UAAA,CACA,iBAAA",sourceRoot:""}]),l.locals={productiveHeading01:"-esm-laboratory-management__laboratory-active-test-order-results__productiveHeading01___sQjEH",productiveHeading02:"-esm-laboratory-management__laboratory-active-test-order-results__productiveHeading02___x9o8B",productiveHeading03:"-esm-laboratory-management__laboratory-active-test-order-results__productiveHeading03___YFEe0",productiveHeading04:"-esm-laboratory-management__laboratory-active-test-order-results__productiveHeading04___zfbSL",bodyLong01:"-esm-laboratory-management__laboratory-active-test-order-results__bodyLong01___kGHtf",bodyShort01:"-esm-laboratory-management__laboratory-active-test-order-results__bodyShort01___J9oic",bodyShort02:"-esm-laboratory-management__laboratory-active-test-order-results__bodyShort02___IOJ6n",text02:"-esm-laboratory-management__laboratory-active-test-order-results__text02___GF_TT",label01:"-esm-laboratory-management__laboratory-active-test-order-results__label01___WudlT",modal:"-esm-laboratory-management__laboratory-active-test-order-results__modal___ih_YF",widgetCard:"-esm-laboratory-management__laboratory-active-test-order-results__widgetCard___gqhz_",expandedActiveVisitRow:"-esm-laboratory-management__laboratory-active-test-order-results__expandedActiveVisitRow___iGLTY",status:"-esm-laboratory-management__laboratory-active-test-order-results__status___G3gXZ",headerBtnContainer:"-esm-laboratory-management__laboratory-active-test-order-results__headerBtnContainer___axiwq",tileContainer:"-esm-laboratory-management__laboratory-active-test-order-results__tileContainer___u_86s",tile:"-esm-laboratory-management__laboratory-active-test-order-results__tile___qhFIW",tileContent:"-esm-laboratory-management__laboratory-active-test-order-results__tileContent___SFQQU",content:"-esm-laboratory-management__laboratory-active-test-order-results__content___ylifs",helper:"-esm-laboratory-management__laboratory-active-test-order-results__helper___xxM8s",container:"-esm-laboratory-management__laboratory-active-test-order-results__container___F5Wtu",separator:"-esm-laboratory-management__laboratory-active-test-order-results__separator___k5y7T"};const i=l},4384:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}:root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__laboratory-order-referals__productiveHeading01___plqke{font-size:var(--cds-heading-01-font-size, 0.875rem);font-weight:var(--cds-heading-01-font-weight, 600);line-height:var(--cds-heading-01-line-height, 1.42857);letter-spacing:var(--cds-heading-01-letter-spacing, 0.16px)}.-esm-laboratory-management__laboratory-order-referals__productiveHeading02___IcCly{font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0)}.-esm-laboratory-management__laboratory-order-referals__productiveHeading03___rCw4U{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-laboratory-management__laboratory-order-referals__productiveHeading04___QDKfX{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-laboratory-management__laboratory-order-referals__bodyLong01___Nx6PD{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-laboratory-management__laboratory-order-referals__bodyShort01___RVQLy{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-laboratory-management__laboratory-order-referals__bodyShort02___Dhs8W{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-laboratory-management__laboratory-order-referals__text02___ICXmL{color:#525252}.-esm-laboratory-management__laboratory-order-referals__label01___CjVL0{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-laboratory-management__laboratory-order-referals__modal___TIxTa{position:fixed;width:100vw;height:100vh;display:grid;background-color:rgba(0,0,0,.5);z-index:9000;justify-items:center;align-items:center}.-esm-laboratory-management__laboratory-order-referals__widgetCard____N9WP{border:1px solid #e0e0e0;border-bottom:none}.-esm-laboratory-management__laboratory-order-referals__widgetCard____N9WP .-esm-laboratory-management__laboratory-order-referals__expandedActiveVisitRow___jn5lI table tbody td{padding-left:1rem !important}.-esm-laboratory-management__laboratory-order-referals__widgetCard____N9WP .-esm-laboratory-management__laboratory-order-referals__status___YZIPv{white-space:nowrap}.-esm-laboratory-management__laboratory-order-referals__widgetCard____N9WP .-esm-laboratory-management__laboratory-order-referals__status___YZIPv a{text-decoration:none}.-esm-laboratory-management__laboratory-order-referals__widgetCard____N9WP .-esm-laboratory-management__laboratory-order-referals__status___YZIPv strong{font-size:90%}.-esm-laboratory-management__laboratory-order-referals__widgetCard____N9WP section.cds--table-toolbar{margin-left:0;margin-right:0}.cds--data-table-content{overflow-x:unset}.-esm-laboratory-management__laboratory-order-referals__headerBtnContainer___tIyhI{background-color:#fff;padding:1rem;text-align:right}.-esm-laboratory-management__laboratory-order-referals__tileContainer___LogZW{background-color:#fff;border-top:1px solid #e0e0e0;padding:5rem 0}.-esm-laboratory-management__laboratory-order-referals__tile___oGcDP{margin:auto;width:fit-content}.-esm-laboratory-management__laboratory-order-referals__tileContent____56sN{display:flex;flex-direction:column;align-items:center}.-esm-laboratory-management__laboratory-order-referals__content___jBKE3{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252;margin-bottom:.5rem}.-esm-laboratory-management__laboratory-order-referals__helper___kQiHY{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#525252}.-esm-laboratory-management__laboratory-order-referals__container___GscdX{background-color:#f4f4f4}.-esm-laboratory-management__laboratory-order-referals__separator___v_Fvu{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#525252;width:80%;margin:1.5rem auto;overflow:hidden;text-align:center}.-esm-laboratory-management__laboratory-order-referals__separator___v_Fvu::before,.-esm-laboratory-management__laboratory-order-referals__separator___v_Fvu::after{background-color:#a8a8a8;content:"";display:inline-block;height:1px;position:relative;vertical-align:middle;width:50%}.-esm-laboratory-management__laboratory-order-referals__separator___v_Fvu::before{right:.5rem;margin-left:-50%}.-esm-laboratory-management__laboratory-order-referals__separator___v_Fvu::after{left:.5rem;margin-right:-50%}',"",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/root.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./src/patient-chart/laboratory-order-referals/laboratory-order-referals.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CAHF,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,oFC81BI,mDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,2DAAA,CD11BJ,oFC01BI,+CAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDt1BJ,oFCs1BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDl1BJ,oFCk1BI,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CD90BJ,2EC80BI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CD10BJ,4EC00BI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDt0BJ,4ECs0BI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CDl0BJ,uEACE,aD5BQ,CC+BV,wEC8zBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CD1zBJ,sEACE,cAAA,CACA,WAAA,CACA,YAAA,CACA,YAAA,CACA,+BAAA,CACA,YAAA,CACA,oBAAA,CACA,kBAAA,CEzCF,2EACI,wBAAA,CACA,kBAAA,CAEA,iLACI,4BAAA,CAGJ,kJACE,kBAAA,CACA,oJAAA,oBAAA,CACA,yJACE,aAAA,CAIJ,sGACE,aAAA,CACA,cAAA,CAIN,yBACI,gBAAA,CAGJ,mFACI,qBH3BY,CG4BZ,YCJS,CDKT,gBAAA,CAGJ,8EACI,qBHvCI,CGwCJ,4BAAA,CACA,cAAA,CAGJ,qEACI,WAAA,CACA,iBAAA,CAGJ,4EACI,YAAA,CACA,qBAAA,CACA,kBAAA,CAGJ,wED0yBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CCxyBA,aHrDM,CGsDN,mBAAA,CAGJ,uEDoyBI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CClyBA,aH3DM,CG8DV,0EACI,wBHpEI,CGuER,0ED2xBI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CCzxBA,aHpEM,CGqEN,SAAA,CACA,kBAAA,CACA,eAAA,CACA,iBAAA,CAEA,mKAEI,wBH3EE,CG4EF,UAAA,CACA,oBAAA,CACA,UAAA,CACA,iBAAA,CACA,qBAAA,CACA,SAAA,CAGJ,kFACI,WAAA,CACA,gBAAA,CAGJ,iFACI,UAAA,CACA,iBAAA",sourceRoot:""}]),l.locals={productiveHeading01:"-esm-laboratory-management__laboratory-order-referals__productiveHeading01___plqke",productiveHeading02:"-esm-laboratory-management__laboratory-order-referals__productiveHeading02___IcCly",productiveHeading03:"-esm-laboratory-management__laboratory-order-referals__productiveHeading03___rCw4U",productiveHeading04:"-esm-laboratory-management__laboratory-order-referals__productiveHeading04___QDKfX",bodyLong01:"-esm-laboratory-management__laboratory-order-referals__bodyLong01___Nx6PD",bodyShort01:"-esm-laboratory-management__laboratory-order-referals__bodyShort01___RVQLy",bodyShort02:"-esm-laboratory-management__laboratory-order-referals__bodyShort02___Dhs8W",text02:"-esm-laboratory-management__laboratory-order-referals__text02___ICXmL",label01:"-esm-laboratory-management__laboratory-order-referals__label01___CjVL0",modal:"-esm-laboratory-management__laboratory-order-referals__modal___TIxTa",widgetCard:"-esm-laboratory-management__laboratory-order-referals__widgetCard____N9WP",expandedActiveVisitRow:"-esm-laboratory-management__laboratory-order-referals__expandedActiveVisitRow___jn5lI",status:"-esm-laboratory-management__laboratory-order-referals__status___YZIPv",headerBtnContainer:"-esm-laboratory-management__laboratory-order-referals__headerBtnContainer___tIyhI",tileContainer:"-esm-laboratory-management__laboratory-order-referals__tileContainer___LogZW",tile:"-esm-laboratory-management__laboratory-order-referals__tile___oGcDP",tileContent:"-esm-laboratory-management__laboratory-order-referals__tileContent____56sN",content:"-esm-laboratory-management__laboratory-order-referals__content___jBKE3",helper:"-esm-laboratory-management__laboratory-order-referals__helper___kQiHY",container:"-esm-laboratory-management__laboratory-order-referals__container___GscdX",separator:"-esm-laboratory-management__laboratory-order-referals__separator___v_Fvu"};const i=l},3804:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}:root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__laboratory-past-test-order-results__productiveHeading01___zLDOZ{font-size:var(--cds-heading-01-font-size, 0.875rem);font-weight:var(--cds-heading-01-font-weight, 600);line-height:var(--cds-heading-01-line-height, 1.42857);letter-spacing:var(--cds-heading-01-letter-spacing, 0.16px)}.-esm-laboratory-management__laboratory-past-test-order-results__productiveHeading02___EN_rZ{font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0)}.-esm-laboratory-management__laboratory-past-test-order-results__productiveHeading03___KCJfv{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-laboratory-management__laboratory-past-test-order-results__productiveHeading04___Hkqmp{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-laboratory-management__laboratory-past-test-order-results__bodyLong01___PlUUX{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-laboratory-management__laboratory-past-test-order-results__bodyShort01___c1EY7{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-laboratory-management__laboratory-past-test-order-results__bodyShort02___YTU7l{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-laboratory-management__laboratory-past-test-order-results__text02___uNBBO{color:#525252}.-esm-laboratory-management__laboratory-past-test-order-results__label01___K3WuX{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-laboratory-management__laboratory-past-test-order-results__modal___FWyUq{position:fixed;width:100vw;height:100vh;display:grid;background-color:rgba(0,0,0,.5);z-index:9000;justify-items:center;align-items:center}.-esm-laboratory-management__laboratory-past-test-order-results__widgetCard___z0p8W{border:1px solid #e0e0e0;border-bottom:none}.-esm-laboratory-management__laboratory-past-test-order-results__widgetCard___z0p8W .-esm-laboratory-management__laboratory-past-test-order-results__expandedActiveVisitRow___dw87Y table tbody td{padding-left:1rem !important}.-esm-laboratory-management__laboratory-past-test-order-results__widgetCard___z0p8W .-esm-laboratory-management__laboratory-past-test-order-results__status___kL9Ih{white-space:nowrap}.-esm-laboratory-management__laboratory-past-test-order-results__widgetCard___z0p8W .-esm-laboratory-management__laboratory-past-test-order-results__status___kL9Ih a{text-decoration:none}.-esm-laboratory-management__laboratory-past-test-order-results__widgetCard___z0p8W .-esm-laboratory-management__laboratory-past-test-order-results__status___kL9Ih strong{font-size:90%}.-esm-laboratory-management__laboratory-past-test-order-results__widgetCard___z0p8W section.cds--table-toolbar{margin-left:0;margin-right:0}.cds--data-table-content{overflow-x:unset}.-esm-laboratory-management__laboratory-past-test-order-results__headerBtnContainer___m3QNV{background-color:#fff;padding:1rem;text-align:right}.-esm-laboratory-management__laboratory-past-test-order-results__tileContainer___kP3o8{background-color:#fff;border-top:1px solid #e0e0e0;padding:5rem 0}.-esm-laboratory-management__laboratory-past-test-order-results__tile___9wfu4{margin:auto;width:fit-content}.-esm-laboratory-management__laboratory-past-test-order-results__tileContent___WUZaU{display:flex;flex-direction:column;align-items:center}.-esm-laboratory-management__laboratory-past-test-order-results__content___HJNZB{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252;margin-bottom:.5rem}.-esm-laboratory-management__laboratory-past-test-order-results__helper___E7XFl{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#525252}.-esm-laboratory-management__laboratory-past-test-order-results__container___PnzMO{background-color:#f4f4f4}.-esm-laboratory-management__laboratory-past-test-order-results__separator___kjrJP{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#525252;width:80%;margin:1.5rem auto;overflow:hidden;text-align:center}.-esm-laboratory-management__laboratory-past-test-order-results__separator___kjrJP::before,.-esm-laboratory-management__laboratory-past-test-order-results__separator___kjrJP::after{background-color:#a8a8a8;content:"";display:inline-block;height:1px;position:relative;vertical-align:middle;width:50%}.-esm-laboratory-management__laboratory-past-test-order-results__separator___kjrJP::before{right:.5rem;margin-left:-50%}.-esm-laboratory-management__laboratory-past-test-order-results__separator___kjrJP::after{left:.5rem;margin-right:-50%}',"",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/root.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./src/patient-chart/laboratory-past-test/laboratory-past-test-order-results.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CAHF,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,6FC81BI,mDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,2DAAA,CD11BJ,6FC01BI,+CAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDt1BJ,6FCs1BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDl1BJ,6FCk1BI,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CD90BJ,oFC80BI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CD10BJ,qFC00BI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDt0BJ,qFCs0BI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CDl0BJ,gFACE,aD5BQ,CC+BV,iFC8zBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CD1zBJ,+EACE,cAAA,CACA,WAAA,CACA,YAAA,CACA,YAAA,CACA,+BAAA,CACA,YAAA,CACA,oBAAA,CACA,kBAAA,CE3CF,oFACI,wBAAA,CACA,kBAAA,CACA,mMACI,4BAAA,CAGJ,oKACI,kBAAA,CACA,sKAAA,oBAAA,CACA,2KACE,aAAA,CAIN,+GACE,aAAA,CACA,cAAA,CAIN,yBACI,gBAAA,CAGJ,4FACI,qBHxBY,CGyBZ,YCDS,CDET,gBAAA,CAGJ,uFACI,qBHpCI,CGqCJ,4BAAA,CACA,cAAA,CAGJ,8EACI,WAAA,CACA,iBAAA,CAGJ,qFACI,YAAA,CACA,qBAAA,CACA,kBAAA,CAGJ,iFD6yBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CC3yBA,aHlDM,CGmDN,mBAAA,CAGJ,gFDuyBI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CCryBA,aHxDM,CG2DV,mFACI,wBHjEI,CGoER,mFD8xBI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CC5xBA,aHjEM,CGkEN,SAAA,CACA,kBAAA,CACA,eAAA,CACA,iBAAA,CACA,qLAEI,wBHvEE,CGwEF,UAAA,CACA,oBAAA,CACA,UAAA,CACA,iBAAA,CACA,qBAAA,CACA,SAAA,CAEJ,2FACI,WAAA,CACA,gBAAA,CAEJ,0FACI,UAAA,CACA,iBAAA",sourceRoot:""}]),l.locals={productiveHeading01:"-esm-laboratory-management__laboratory-past-test-order-results__productiveHeading01___zLDOZ",productiveHeading02:"-esm-laboratory-management__laboratory-past-test-order-results__productiveHeading02___EN_rZ",productiveHeading03:"-esm-laboratory-management__laboratory-past-test-order-results__productiveHeading03___KCJfv",productiveHeading04:"-esm-laboratory-management__laboratory-past-test-order-results__productiveHeading04___Hkqmp",bodyLong01:"-esm-laboratory-management__laboratory-past-test-order-results__bodyLong01___PlUUX",bodyShort01:"-esm-laboratory-management__laboratory-past-test-order-results__bodyShort01___c1EY7",bodyShort02:"-esm-laboratory-management__laboratory-past-test-order-results__bodyShort02___YTU7l",text02:"-esm-laboratory-management__laboratory-past-test-order-results__text02___uNBBO",label01:"-esm-laboratory-management__laboratory-past-test-order-results__label01___K3WuX",modal:"-esm-laboratory-management__laboratory-past-test-order-results__modal___FWyUq",widgetCard:"-esm-laboratory-management__laboratory-past-test-order-results__widgetCard___z0p8W",expandedActiveVisitRow:"-esm-laboratory-management__laboratory-past-test-order-results__expandedActiveVisitRow___dw87Y",status:"-esm-laboratory-management__laboratory-past-test-order-results__status___kL9Ih",headerBtnContainer:"-esm-laboratory-management__laboratory-past-test-order-results__headerBtnContainer___m3QNV",tileContainer:"-esm-laboratory-management__laboratory-past-test-order-results__tileContainer___kP3o8",tile:"-esm-laboratory-management__laboratory-past-test-order-results__tile___9wfu4",tileContent:"-esm-laboratory-management__laboratory-past-test-order-results__tileContent___WUZaU",content:"-esm-laboratory-management__laboratory-past-test-order-results__content___HJNZB",helper:"-esm-laboratory-management__laboratory-past-test-order-results__helper___E7XFl",container:"-esm-laboratory-management__laboratory-past-test-order-results__container___PnzMO",separator:"-esm-laboratory-management__laboratory-past-test-order-results__separator___kjrJP"};const i=l},8900:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__laboratory-order-tabs__container___VqDgE{background-color:#f4f4f4}.-esm-laboratory-management__laboratory-order-tabs__tabList___y2ETi{padding-left:2rem}.-esm-laboratory-management__laboratory-order-tabs__tabWidth___fUjIm{width:150px}.-esm-laboratory-management__laboratory-order-tabs__panelContainer___atU5H{margin:10px}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/patient-chart/laboratory-tabs/laboratory-order-tabs.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,sEACI,wBDLI,CCQR,oEACI,iBAAA,CAGJ,qEACI,WAAA,CAGJ,2EACI,WAAA",sourceRoot:""}]),l.locals={container:"-esm-laboratory-management__laboratory-order-tabs__container___VqDgE",tabList:"-esm-laboratory-management__laboratory-order-tabs__tabList___y2ETi",tabWidth:"-esm-laboratory-management__laboratory-order-tabs__tabWidth___fUjIm",panelContainer:"-esm-laboratory-management__laboratory-order-tabs__panelContainer___atU5H"};const i=l},4616:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}:root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__results-summary__productiveHeading01___ZorZd{font-size:var(--cds-heading-01-font-size, 0.875rem);font-weight:var(--cds-heading-01-font-weight, 600);line-height:var(--cds-heading-01-line-height, 1.42857);letter-spacing:var(--cds-heading-01-letter-spacing, 0.16px)}.-esm-laboratory-management__results-summary__productiveHeading02___kHZna{font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0)}.-esm-laboratory-management__results-summary__productiveHeading03___dx5Lf{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-laboratory-management__results-summary__productiveHeading04___RIDl5{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-laboratory-management__results-summary__bodyLong01___furko{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-laboratory-management__results-summary__bodyShort01___ASzsB{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-laboratory-management__results-summary__bodyShort02___KXIbl{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-laboratory-management__results-summary__text02___z9ljN{color:#525252}.-esm-laboratory-management__results-summary__label01___q8pOG{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-laboratory-management__results-summary__modal___KjJ3i{position:fixed;width:100vw;height:100vh;display:grid;background-color:rgba(0,0,0,.5);z-index:9000;justify-items:center;align-items:center}.-esm-laboratory-management__results-summary__section___PW4XJ{margin:5px}.-esm-laboratory-management__results-summary__tileContainer___NWTOa{background-color:#fff;border-top:1px solid #e0e0e0;padding:5rem 0}.-esm-laboratory-management__results-summary__tile___V07r1{margin:auto;width:fit-content}.-esm-laboratory-management__results-summary__tileContent___ZWJEn{display:flex;flex-direction:column;align-items:center}.-esm-laboratory-management__results-summary__content___oLAHv{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252;margin-bottom:.5rem}.-esm-laboratory-management__results-summary__helper___DBtNw{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#525252}.-esm-laboratory-management__results-summary__separator___JtSrn{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#525252;width:80%;margin:1.5rem auto;overflow:hidden;text-align:center}.-esm-laboratory-management__results-summary__separator___JtSrn::before,.-esm-laboratory-management__results-summary__separator___JtSrn::after{background-color:#a8a8a8;content:"";display:inline-block;height:1px;position:relative;vertical-align:middle;width:50%}.-esm-laboratory-management__results-summary__separator___JtSrn::before{right:.5rem;margin-left:-50%}.-esm-laboratory-management__results-summary__separator___JtSrn::after{left:.5rem;margin-right:-50%}td{white-space:wrap}.-esm-laboratory-management__results-summary__criticallyLow___mss_D td:nth-child(2),.-esm-laboratory-management__results-summary__criticallyHigh___byrbW td:nth-child(2),.-esm-laboratory-management__results-summary__low___Ij2yJ td:nth-child(2),.-esm-laboratory-management__results-summary__high___oJkEN td:nth-child(2){font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px)}.-esm-laboratory-management__results-summary__criticallyLow___mss_D,.-esm-laboratory-management__results-summary__criticallyHigh___byrbW{border:2px solid #da1e28 !important}.-esm-laboratory-management__results-summary__low___Ij2yJ,.-esm-laboratory-management__results-summary__high___oJkEN{border:1.5px solid #000 !important}.-esm-laboratory-management__results-summary__criticallyLow___mss_D td:nth-child(2)::after{content:" ↓↓"}.-esm-laboratory-management__results-summary__criticallyHigh___byrbW td:nth-child(2)::after{content:" ↑↑"}.-esm-laboratory-management__results-summary__low___Ij2yJ td:nth-child(2)::after{content:" ↓"}.-esm-laboratory-management__results-summary__high___oJkEN td:nth-child(2)::after{content:" ↑"}.-esm-laboratory-management__results-summary__off-scale-low___sWIh3 td:nth-child(2)::after{content:" ↓↓↓"}.-esm-laboratory-management__results-summary__off-scale-high___NGHm1 td:nth-child(2)::after{content:" ↑↑↑"}.-esm-laboratory-management__results-summary__offScaleHigh___jNSEg,.-esm-laboratory-management__results-summary__offScaleLow___TscSq,.-esm-laboratory-management__results-summary__criticallyHigh___byrbW,.-esm-laboratory-management__results-summary__criticallyLow___mss_D,.-esm-laboratory-management__results-summary__high___oJkEN,.-esm-laboratory-management__results-summary__low___Ij2yJ{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px)}.-esm-laboratory-management__results-summary__criticallyLow___mss_D::after{content:" ↓↓"}.-esm-laboratory-management__results-summary__criticallyHigh___byrbW::after{content:" ↑↑"}.-esm-laboratory-management__results-summary__low___Ij2yJ::after{content:" ↓"}.-esm-laboratory-management__results-summary__high___oJkEN::after{content:" ↑"}.-esm-laboratory-management__results-summary__cds--data-table--zebra____V2tA tbody tr[data-parent-row]:nth-child(4n+1) td{background-color:#fff;border-bottom:1px solid #e0e0e0;border-top:1px solid #e0e0e0;padding:0 16px}.-esm-laboratory-management__results-summary__testResultRemarks___zT8ub{font-size:85%}',"",{version:3,sources:["webpack://./src/patient-chart/results-summary/results-summary.scss","webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/root.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAAA,MCoDA,mBACE,CAAA,mBACA,CAAA,mBACA,CAAA,MAHF,mBACE,CAAA,mBACA,CAAA,mBACA,CAAA,0ECnDF,mDC81BI,CAAA,kDAAA,CAAA,sDAAA,CAAA,2DAAA,CAAA,0ED11BJ,+CC01BI,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,0EDt1BJ,kDCs1BI,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,0EDl1BJ,kDCk1BI,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CAAA,iED90BJ,gDC80BI,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CAAA,kED10BJ,wDC00BI,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CAAA,kEDt0BJ,oDCs0BI,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CAAA,6DDl0BJ,aD3BU,CAAA,8DC+BV,gDC8zBI,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CAAA,4DD1zBJ,cACE,CAAA,WACA,CAAA,YACA,CAAA,YACA,CAAA,+BACA,CAAA,YACA,CAAA,oBACA,CAAA,kBACA,CAAA,8DF1CF,UACE,CAAA,oEAGF,qBCTQ,CAAA,4BDWN,CAAA,cACA,CAAA,2DAGF,WACE,CAAA,iBACA,CAAA,kEAGF,YACE,CAAA,qBACA,CAAA,kBACA,CAAA,8DAGF,uDGu0BI,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CAAA,aF71BM,CAAA,mBDyBR,CAAA,6DAGF,wDGi0BI,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CAAA,aF71BM,CAAA,gEDiCV,oDG4zBI,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CAAA,aF71BM,CAAA,SDoCR,CAAA,kBACA,CAAA,eACA,CAAA,iBACA,CAAA,+IAEA,wBCxCQ,CAAA,UD2CN,CAAA,oBACA,CAAA,UACA,CAAA,iBACA,CAAA,qBACA,CAAA,SACA,CAAA,wEAGF,WACE,CAAA,gBACA,CAAA,uEAGF,UACE,CAAA,iBACA,CAAA,GAKJ,gBACE,CAAA,8TAIA,2DGwxBE,CAAA,0DAAA,CAAA,8DAAA,CAAA,mEAAA,CAAA,yIHnxBJ,mCACE,CAAA,qHAGF,kCACE,CAAA,2FAIA,aACE,CAAA,4FAKF,aACE,CAAA,iFAKF,YACE,CAAA,kFAKF,YACE,CAAA,2FAKF,cACE,CAAA,4FAKF,cACE,CAAA,mYAIJ,2DGuuBI,CAAA,0DAAA,CAAA,8DAAA,CAAA,mEAAA,CAAA,2EH9tBJ,aACE,CAAA,4EAGF,aACE,CAAA,iEAGF,YACE,CAAA,kEAGF,YACE,CAAA,0HAGF,qBACE,CAAA,+BACA,CAAA,4BACA,CAAA,cACA,CAAA,wEAGF,aACE",sourceRoot:""}]),l.locals={productiveHeading01:"-esm-laboratory-management__results-summary__productiveHeading01___ZorZd",productiveHeading02:"-esm-laboratory-management__results-summary__productiveHeading02___kHZna",productiveHeading03:"-esm-laboratory-management__results-summary__productiveHeading03___dx5Lf",productiveHeading04:"-esm-laboratory-management__results-summary__productiveHeading04___RIDl5",bodyLong01:"-esm-laboratory-management__results-summary__bodyLong01___furko",bodyShort01:"-esm-laboratory-management__results-summary__bodyShort01___ASzsB",bodyShort02:"-esm-laboratory-management__results-summary__bodyShort02___KXIbl",text02:"-esm-laboratory-management__results-summary__text02___z9ljN",label01:"-esm-laboratory-management__results-summary__label01___q8pOG",modal:"-esm-laboratory-management__results-summary__modal___KjJ3i",section:"-esm-laboratory-management__results-summary__section___PW4XJ",tileContainer:"-esm-laboratory-management__results-summary__tileContainer___NWTOa",tile:"-esm-laboratory-management__results-summary__tile___V07r1",tileContent:"-esm-laboratory-management__results-summary__tileContent___ZWJEn",content:"-esm-laboratory-management__results-summary__content___oLAHv",helper:"-esm-laboratory-management__results-summary__helper___DBtNw",separator:"-esm-laboratory-management__results-summary__separator___JtSrn",criticallyLow:"-esm-laboratory-management__results-summary__criticallyLow___mss_D",criticallyHigh:"-esm-laboratory-management__results-summary__criticallyHigh___byrbW",low:"-esm-laboratory-management__results-summary__low___Ij2yJ",high:"-esm-laboratory-management__results-summary__high___oJkEN","off-scale-low":"-esm-laboratory-management__results-summary__off-scale-low___sWIh3","off-scale-high":"-esm-laboratory-management__results-summary__off-scale-high___NGHm1",offScaleHigh:"-esm-laboratory-management__results-summary__offScaleHigh___jNSEg",offScaleLow:"-esm-laboratory-management__results-summary__offScaleLow___TscSq","cds--data-table--zebra":"-esm-laboratory-management__results-summary__cds--data-table--zebra____V2tA",testResultRemarks:"-esm-laboratory-management__results-summary__testResultRemarks___zT8ub"};const i=l},4676:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__create-lab-report__reportContainer___cDglc{min-height:15rem;display:flex;flex-direction:column;row-gap:1rem;padding:1rem}.-esm-laboratory-management__create-lab-report__reportButton___jjUnw{padding:1rem}.-esm-laboratory-management__create-lab-report__sectionTitle___cl2Xu{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252;margin-bottom:.75rem}.-esm-laboratory-management__create-lab-report__subTitle___D3W_G{font-size:14px;margin-bottom:.75rem}.-esm-laboratory-management__create-lab-report__modalBody___adw0L{padding-bottom:1rem}.-esm-laboratory-management__create-lab-report__errorDiv___X_U6V{color:red}.-esm-laboratory-management__create-lab-report__testOutComesField___NWSg7{display:grid;grid-template-columns:auto auto}.-esm-laboratory-management__create-lab-report__testOutComesField___NWSg7 input.cds--text-input{background-color:#f4f4f4 !important}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/reports/generate-report/create-lab-report.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,wEACE,gBAAA,CACA,YAAA,CACA,qBAAA,CACA,YAAA,CACA,YAAA,CAEF,qEACE,YAAA,CAGF,qECm1BI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CDj1BF,aDZQ,CCaR,oBEQW,CFLb,iEACE,cAAA,CACA,oBEGW,CAAA,kEFCX,mBEIW,CAAA,iEFCX,SAAA,CAGF,0EACE,YAAA,CACA,+BAAA,CAEA,gGACE,mCAAA",sourceRoot:""}]),l.locals={reportContainer:"-esm-laboratory-management__create-lab-report__reportContainer___cDglc",reportButton:"-esm-laboratory-management__create-lab-report__reportButton___jjUnw",sectionTitle:"-esm-laboratory-management__create-lab-report__sectionTitle___cl2Xu",subTitle:"-esm-laboratory-management__create-lab-report__subTitle___D3W_G",modalBody:"-esm-laboratory-management__create-lab-report__modalBody___adw0L",errorDiv:"-esm-laboratory-management__create-lab-report__errorDiv___X_U6V",testOutComesField:"-esm-laboratory-management__create-lab-report__testOutComesField___NWSg7"};const i=l},3420:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,".-esm-laboratory-management__lab-reports__queued-inline-loading___hd_H_ .cds--loading__svg{stroke:#faad14}.-esm-laboratory-management__lab-reports__queued-inline-loading___hd_H_ .cds--loading__svg .cds--loading__stroke{stroke:#faad14}.-esm-laboratory-management__lab-reports__field-label___nIeAV{font-size:90%;font-weight:bold}.-esm-laboratory-management__lab-reports__field-value___l89fG{display:inline-block;padding-left:.5rem}","",{version:3,sources:["webpack://./src/reports/report-list/lab-reports.scss"],names:[],mappings:"AACE,2FACE,cAAA,CACA,iHACE,cAAA,CAKN,8DACE,aAAA,CACA,gBAAA,CAGF,8DACE,oBAAA,CACA,kBAAA",sourceRoot:""}]),l.locals={"queued-inline-loading":"-esm-laboratory-management__lab-reports__queued-inline-loading___hd_H_","field-label":"-esm-laboratory-management__lab-reports__field-label___nIeAV","field-value":"-esm-laboratory-management__lab-reports__field-value___l89fG"};const i=l},6200:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__attach-results-component__modalBody___up1iT{overflow-y:visible}.-esm-laboratory-management__attach-results-component__modalBody___up1iT .cds--text-input,.-esm-laboratory-management__attach-results-component__modalBody___up1iT .cds--list-box input[role=combobox],.-esm-laboratory-management__attach-results-component__modalBody___up1iT .cds--list-box input[type=text],.-esm-laboratory-management__attach-results-component__modalBody___up1iT .cds--select-input,.-esm-laboratory-management__attach-results-component__modalBody___up1iT .cds--text-area,.-esm-laboratory-management__attach-results-component__modalBody___up1iT .cds--number > div.cds--number__input-wrapper > input[type=number]{background-color:#fff}.-esm-laboratory-management__attach-results-component__section___zNq3N{display:flex;flex-direction:column;row-gap:.75rem}.-esm-laboratory-management__attach-results-component__errorText___oFBeR{color:#da1e28}.-esm-laboratory-management__attach-results-component__testResultFileItems___vLuqZ,.-esm-laboratory-management__attach-results-component__testResultFileUpload___SqaLL{display:flex;row-gap:.5rem;column-gap:1rem;flex-wrap:wrap;align-content:flex-start;max-height:20rem;overflow-y:auto}.-esm-laboratory-management__attach-results-component__testResultFileItems___vLuqZ>div{height:min-content;white-space:wrap !important;width:fit-content}.-esm-laboratory-management__attach-results-component__testResultFileItems___vLuqZ>div p{font-size:var(--cds-heading-01-font-size, 0.875rem);font-weight:var(--cds-heading-01-font-weight, 600);line-height:var(--cds-heading-01-line-height, 1.42857);letter-spacing:var(--cds-heading-01-letter-spacing, 0.16px)}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/results/attach-results.component.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,yEACI,kBAAA,CACA,inBAEI,qBDPA,CCWR,uEACI,YAAA,CACA,qBAAA,CACA,cAAA,CAGJ,yEACI,aDCK,CCET,uKACI,YAAA,CACA,aAAA,CACA,eAAA,CACA,cAAA,CACA,wBAAA,CACA,gBAAA,CACA,eAAA,CAGF,uFACE,kBAAA,CACA,2BAAA,CACA,iBAAA,CAEA,yFC6zBA,mDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,2DAAA",sourceRoot:""}]),l.locals={modalBody:"-esm-laboratory-management__attach-results-component__modalBody___up1iT",section:"-esm-laboratory-management__attach-results-component__section___zNq3N",errorText:"-esm-laboratory-management__attach-results-component__errorText___oFBeR",testResultFileItems:"-esm-laboratory-management__attach-results-component__testResultFileItems___vLuqZ",testResultFileUpload:"-esm-laboratory-management__attach-results-component__testResultFileUpload___SqaLL"};const i=l},7516:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}section{margin:.5rem}.-esm-laboratory-management__result-form__sectionTitle___Kem7I{margin-bottom:.75rem}.-esm-laboratory-management__result-form__modalBody___JDt0A{margin-bottom:.5rem}.-esm-laboratory-management__result-form__textInput___QPWJO{margin:5px}.-esm-laboratory-management__result-form__errorDiv___aMvT8{color:red}.-esm-laboratory-management__result-form__testImportFieldSection___F0tNX{padding-bottom:.5rem;margin-bottom:.5rem;padding-left:0rem;padding-right:.5rem}.-esm-laboratory-management__result-form__testImportFieldSection___F0tNX .-esm-laboratory-management__result-form__mainTestField___XabNG .cds--label{border-bottom:double 2px #000;font-weight:bold}.-esm-laboratory-management__result-form__testImportFieldSection___F0tNX:last-child{border-bottom:0;padding-bottom:0rem;margin-bottom:0rem;padding-left:0rem}.-esm-laboratory-management__result-form__codedImportConfigValues___CIOMK{display:grid;grid-template-columns:auto auto auto auto}.-esm-laboratory-management__result-form__codedImportConfigValues___CIOMK .-esm-laboratory-management__result-form__textInput___QPWJO{margin-top:0}.-esm-laboratory-management__result-form__codedImportConfigValues___CIOMK .-esm-laboratory-management__result-form__codedImportConfigValuesSection___Utg3f{grid-column:1/-1}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/results/result-form.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CClDF,QACE,YCeW,CDZb,+DACE,oBCgBW,CDbb,4DACE,mBAAA,CAGF,4DACE,UAAA,CAGF,2DACE,SAAA,CAGF,yEACE,oBAAA,CACA,mBAAA,CACA,iBAAA,CACA,mBAAA,CAGE,qJACE,6BAAA,CACA,gBAAA,CAKN,oFACE,eAAA,CACA,mBAAA,CACA,kBAAA,CACA,iBAAA,CAGF,0EACE,YAAA,CACA,yCAAA,CACA,sIACE,YAAA,CAGF,2JACE,gBAAA",sourceRoot:""}]),l.locals={sectionTitle:"-esm-laboratory-management__result-form__sectionTitle___Kem7I",modalBody:"-esm-laboratory-management__result-form__modalBody___JDt0A",textInput:"-esm-laboratory-management__result-form__textInput___QPWJO",errorDiv:"-esm-laboratory-management__result-form__errorDiv___aMvT8",testImportFieldSection:"-esm-laboratory-management__result-form__testImportFieldSection___F0tNX",mainTestField:"-esm-laboratory-management__result-form__mainTestField___XabNG",codedImportConfigValues:"-esm-laboratory-management__result-form__codedImportConfigValues___CIOMK",codedImportConfigValuesSection:"-esm-laboratory-management__result-form__codedImportConfigValuesSection___Utg3f"};const i=l},2568:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__laboratory-summary-tiles__cardContainer___yVN6B{background-color:#fff;display:flex;padding:0 1rem 1.7rem .5rem}.-esm-laboratory-management__laboratory-summary-tiles__cardContainer___yVN6B>div:nth-child(1),.-esm-laboratory-management__laboratory-summary-tiles__cardContainer___yVN6B>div:nth-child(2),.-esm-laboratory-management__laboratory-summary-tiles__cardContainer___yVN6B>div:nth-child(3),.-esm-laboratory-management__laboratory-summary-tiles__cardContainer___yVN6B>div:nth-child(4),.-esm-laboratory-management__laboratory-summary-tiles__cardContainer___yVN6B>div:nth-child(5){width:20%}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/summary-tiles/laboratory-summary-tiles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,6EACE,qBDJM,CCKN,YAAA,CACA,2BAAA,CAGF,sdAME,SAAA",sourceRoot:""}]),l.locals={cardContainer:"-esm-laboratory-management__laboratory-summary-tiles__cardContainer___yVN6B"};const i=l},1432:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__summary-tile__tileContainer___JKHkB{border:.0625rem solid #e0e0e0;flex-grow:1;height:7.875rem;padding:0 1rem;margin:.5rem .5rem}.-esm-laboratory-management__summary-tile__tileHeader___FylYy{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.-esm-laboratory-management__summary-tile__headerLabel___TV02F{font-size:var(--cds-heading-01-font-size, 0.875rem);font-weight:var(--cds-heading-01-font-weight, 600);line-height:var(--cds-heading-01-line-height, 1.42857);letter-spacing:var(--cds-heading-01-letter-spacing, 0.16px);color:#525252}.-esm-laboratory-management__summary-tile__totalsLabel___hnFfk{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);color:#525252}.-esm-laboratory-management__summary-tile__totalsValue___gAQVF{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0);color:#161616}.-esm-laboratory-management__summary-tile__headerLabelContainer___iIwh_{display:flex;align-items:center;height:2rem}.-esm-laboratory-management__summary-tile__arrowIcon___sGB56{fill:var(--cds-link-primary, #0f62fe) !important}.-esm-laboratory-management__summary-tile__kpis___wpnxs{display:flex;flex-direction:row;justify-content:space-between}.-esm-laboratory-management__summary-tile__kpis___wpnxs>div{text-align:left}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/summary-tiles/summary-tile.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,iEACE,6BAAA,CACA,WAAA,CACA,eAAA,CACA,cAAA,CACA,kBAAA,CAGF,8DACE,YAAA,CACA,6BAAA,CACA,kBAAA,CACA,mBCKW,CDFb,+DE+0BI,mDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,2DAAA,CF70BF,aDhBQ,CCmBV,+DE00BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CFx0BF,aDrBQ,CCwBV,+DEq0BI,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CFn0BF,aD3BM,CC8BR,wEACE,YAAA,CACA,kBAAA,CACA,WCIW,CDDb,6DACE,gDAAA,CAGF,wDACE,YAAA,CACA,kBAAA,CACA,6BAAA,CAIF,4DACE,eAAA",sourceRoot:""}]),l.locals={tileContainer:"-esm-laboratory-management__summary-tile__tileContainer___JKHkB",tileHeader:"-esm-laboratory-management__summary-tile__tileHeader___FylYy",headerLabel:"-esm-laboratory-management__summary-tile__headerLabel___TV02F",totalsLabel:"-esm-laboratory-management__summary-tile__totalsLabel___hnFfk",totalsValue:"-esm-laboratory-management__summary-tile__totalsValue___gAQVF",headerLabelContainer:"-esm-laboratory-management__summary-tile__headerLabelContainer___iIwh_",arrowIcon:"-esm-laboratory-management__summary-tile__arrowIcon___sGB56",kpis:"-esm-laboratory-management__summary-tile__kpis___wpnxs"};const i=l},5840:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,".-esm-laboratory-management__filter-laboratory-tests-component__spacing___sCfB8{margin:0 16px}.-esm-laboratory-management__filter-laboratory-tests-component__select___xxHU0,.-esm-laboratory-management__filter-laboratory-tests-component__patient___vklXH{min-width:8rem}.-esm-laboratory-management__filter-laboratory-tests-component__patient___vklXH{height:2.9rem;width:24rem}.-esm-laboratory-management__filter-laboratory-tests-component__testSelect___s0gMR{min-width:20rem}.-esm-laboratory-management__filter-laboratory-tests-component__dateInput___GA7I8{margin-top:.5rem}.-esm-laboratory-management__filter-laboratory-tests-component__dateInput___GA7I8 .cds--date-picker.cds--date-picker--single .cds--date-picker__input{width:unset}.-esm-laboratory-management__filter-laboratory-tests-component__clearDate___T53B0{padding:0;margin:0;padding-inline-end:0;padding-inline-start:0;padding-block-end:0;padding-block-start:0;position:relative;left:-3.5rem;top:.65rem;min-height:0;min-width:0;color:#000}.-esm-laboratory-management__filter-laboratory-tests-component__clearToggleMargin___xH0uj .cds--toggle__label-text{margin-bottom:0}","",{version:3,sources:["webpack://./src/tests-ordered/filter-laboratory-tests.component.scss"],names:[],mappings:"AAAA,gFACI,aAAA,CAGF,+JACE,cAAA,CAGF,gFACE,aAAA,CACA,WAAA,CAGF,mFACE,eAAA,CAGF,kFACE,gBAAA,CAEA,sJACE,WAAA,CAIJ,kFACE,SAAA,CACA,QAAA,CACA,oBAAA,CACA,sBAAA,CACA,mBAAA,CACA,qBAAA,CACA,iBAAA,CACA,YAAA,CACA,UAAA,CACA,YAAA,CACA,WAAA,CACA,UAAA,CAIA,mHACE,eAAA",sourceRoot:""}]),l.locals={spacing:"-esm-laboratory-management__filter-laboratory-tests-component__spacing___sCfB8",select:"-esm-laboratory-management__filter-laboratory-tests-component__select___xxHU0",patient:"-esm-laboratory-management__filter-laboratory-tests-component__patient___vklXH",testSelect:"-esm-laboratory-management__filter-laboratory-tests-component__testSelect___s0gMR",dateInput:"-esm-laboratory-management__filter-laboratory-tests-component__dateInput___GA7I8",clearDate:"-esm-laboratory-management__filter-laboratory-tests-component__clearDate___T53B0",clearToggleMargin:"-esm-laboratory-management__filter-laboratory-tests-component__clearToggleMargin___xH0uj"};const i=l},7616:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,".-esm-laboratory-management__approve-test-request-dialog__section___tHBm7,.-esm-laboratory-management__approve-test-request-dialog__approvalItems___zZ32m{margin:.5rem}.-esm-laboratory-management__approve-test-request-dialog__sectionTitle___A6Yb6{margin-bottom:.75rem}.-esm-laboratory-management__approve-test-request-dialog__modalBody___ufeoN{padding-bottom:1rem}.-esm-laboratory-management__approve-test-request-dialog__approvalItems___zZ32m{display:flex;row-gap:.5rem;column-gap:1rem;flex-wrap:wrap;align-content:flex-start;max-height:20rem;overflow-y:auto}.-esm-laboratory-management__approve-test-request-dialog__approvalItems___zZ32m>div{height:min-content;white-space:wrap !important;width:fit-content}.-esm-laboratory-management__approve-test-request-dialog__approvalItems___zZ32m>div p{font-size:var(--cds-heading-01-font-size, 0.875rem);font-weight:var(--cds-heading-01-font-weight, 600);line-height:var(--cds-heading-01-line-height, 1.42857);letter-spacing:var(--cds-heading-01-letter-spacing, 0.16px)}","",{version:3,sources:["webpack://./src/tests-ordered/lab-dialogs/approve-test-request-dialog.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAGA,0JACE,YCiBW,CDdb,+EACE,oBCkBW,CDfb,4EACE,mBCmBW,CDhBb,gFACE,YAAA,CACA,aAAA,CACA,eAAA,CACA,cAAA,CACA,wBAAA,CACA,gBAAA,CACA,eAAA,CAIF,oFACE,kBAAA,CACA,2BAAA,CACA,iBAAA,CAEA,sFEm0BE,mDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,2DAAA",sourceRoot:""}]),l.locals={section:"-esm-laboratory-management__approve-test-request-dialog__section___tHBm7",approvalItems:"-esm-laboratory-management__approve-test-request-dialog__approvalItems___zZ32m",sectionTitle:"-esm-laboratory-management__approve-test-request-dialog__sectionTitle___A6Yb6",modalBody:"-esm-laboratory-management__approve-test-request-dialog__modalBody___ufeoN"};const i=l},7612:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__register-sample-dialog__radioButton___uhpmc{padding:.25rem .25rem;margin:.5rem 0}.-esm-laboratory-management__register-sample-dialog__section___ZAKHs{margin:.5rem}.-esm-laboratory-management__register-sample-dialog__sectionRow___LQhNz{margin:.5rem;display:flex;flex-direction:row;column-gap:1rem;align-items:center;justify-content:space-between;align-content:stretch}.-esm-laboratory-management__register-sample-dialog__sectionRow___LQhNz .-esm-laboratory-management__register-sample-dialog__sectionField___Nb4S3{flex-grow:1}.-esm-laboratory-management__register-sample-dialog__sectionRow___LQhNz .-esm-laboratory-management__register-sample-dialog__sectionField___Nb4S3 .cds--text-input__readonly-icon{display:none}.-esm-laboratory-management__register-sample-dialog__sectionRow___LQhNz .-esm-laboratory-management__register-sample-dialog__numericInput___WMC1q{width:5rem}.-esm-laboratory-management__register-sample-dialog__sectionTitle___YWJ_M{width:10rem}.-esm-laboratory-management__register-sample-dialog__modalBody___HBMsj{padding-bottom:1rem}.-esm-laboratory-management__register-sample-dialog__container___MlcTC{display:flex;align-items:center;justify-content:space-between;align-content:stretch}.-esm-laboratory-management__register-sample-dialog__specimenContainer___ctv29{display:flex;align-items:center;justify-content:space-between;column-gap:10px}.-esm-laboratory-management__register-sample-dialog__inputText___h3uAU{display:flex;align-items:center}.-esm-laboratory-management__register-sample-dialog__errorText___HZKB9{color:#da1e28}.-esm-laboratory-management__register-sample-dialog__test___TjQtM{display:flex;justify-content:flex-start;gap:.5rem}.-esm-laboratory-management__register-sample-dialog__test___TjQtM .cds--checkbox-wrapper{max-width:max-content}.-esm-laboratory-management__register-sample-dialog__storageSelected___ZdEJp{width:80%}.-esm-laboratory-management__register-sample-dialog__minModalBody___vH57U{min-height:15rem}.-esm-laboratory-management__register-sample-dialog__sampleInfo___dAWxi{display:flex;row-gap:.5rem;column-gap:1rem;flex-wrap:wrap;align-content:flex-start;max-height:20rem;overflow-y:auto}.-esm-laboratory-management__register-sample-dialog__sampleInfo___dAWxi>div{height:min-content;white-space:wrap !important;width:fit-content}.-esm-laboratory-management__register-sample-dialog__sampleInfo___dAWxi>div p{font-size:var(--cds-heading-01-font-size, 0.875rem);font-weight:var(--cds-heading-01-font-weight, 600);line-height:var(--cds-heading-01-line-height, 1.42857);letter-spacing:var(--cds-heading-01-letter-spacing, 0.16px)}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/tests-ordered/lab-dialogs/register-sample-dialog.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CClDF,yEACE,qBAAA,CACA,cAAA,CAGF,qEACE,YCUW,CDPb,wEACI,YCMS,CDLT,YAAA,CACA,kBAAA,CACA,eAAA,CACA,kBAAA,CACA,6BAAA,CACA,qBAAA,CAEA,kJACE,WAAA,CACA,kLACE,YAAA,CAIJ,kJACE,UAAA,CAIN,0EACE,WAAA,CAGF,uEACE,mBCTW,CDab,uEACE,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,qBAAA,CAGF,+EACE,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,eAAA,CAGF,uEACE,YAAA,CACA,kBAAA,CAGF,uEACE,aD5CO,CC+CT,kEACE,YAAA,CACA,0BAAA,CACA,SAAA,CAEA,yFACE,qBAAA,CAIJ,6EACE,SAAA,CAGF,0EACE,gBAAA,CAIF,wEACE,YAAA,CACA,aAAA,CACA,eAAA,CACA,cAAA,CACA,wBAAA,CACA,gBAAA,CACA,eAAA,CAIF,4EACE,kBAAA,CACA,2BAAA,CACA,iBAAA,CAEA,8EE4vBE,mDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,2DAAA",sourceRoot:""}]),l.locals={radioButton:"-esm-laboratory-management__register-sample-dialog__radioButton___uhpmc",section:"-esm-laboratory-management__register-sample-dialog__section___ZAKHs",sectionRow:"-esm-laboratory-management__register-sample-dialog__sectionRow___LQhNz",sectionField:"-esm-laboratory-management__register-sample-dialog__sectionField___Nb4S3",numericInput:"-esm-laboratory-management__register-sample-dialog__numericInput___WMC1q",sectionTitle:"-esm-laboratory-management__register-sample-dialog__sectionTitle___YWJ_M",modalBody:"-esm-laboratory-management__register-sample-dialog__modalBody___HBMsj",container:"-esm-laboratory-management__register-sample-dialog__container___MlcTC",specimenContainer:"-esm-laboratory-management__register-sample-dialog__specimenContainer___ctv29",inputText:"-esm-laboratory-management__register-sample-dialog__inputText___h3uAU",errorText:"-esm-laboratory-management__register-sample-dialog__errorText___HZKB9",test:"-esm-laboratory-management__register-sample-dialog__test___TjQtM",storageSelected:"-esm-laboratory-management__register-sample-dialog__storageSelected___ZdEJp",minModalBody:"-esm-laboratory-management__register-sample-dialog__minModalBody___vH57U",sampleInfo:"-esm-laboratory-management__register-sample-dialog__sampleInfo___dAWxi"};const i=l},3128:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}:root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__laboratory-queue__productiveHeading01____sJzN{font-size:var(--cds-heading-01-font-size, 0.875rem);font-weight:var(--cds-heading-01-font-weight, 600);line-height:var(--cds-heading-01-line-height, 1.42857);letter-spacing:var(--cds-heading-01-letter-spacing, 0.16px)}.-esm-laboratory-management__laboratory-queue__productiveHeading02___Ozytz{font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0)}.-esm-laboratory-management__laboratory-queue__productiveHeading03___ShgDm{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-laboratory-management__laboratory-queue__productiveHeading04___HI7q3{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-laboratory-management__laboratory-queue__bodyLong01___FNMSx{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-laboratory-management__laboratory-queue__bodyShort01___gMclU{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-laboratory-management__laboratory-queue__bodyShort02___ida_A{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-laboratory-management__laboratory-queue__text02___WNr68{color:#525252}.-esm-laboratory-management__laboratory-queue__label01___NILor{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-laboratory-management__laboratory-queue__modal___G5tVI{position:fixed;width:100vw;height:100vh;display:grid;background-color:rgba(0,0,0,.5);z-index:9000;justify-items:center;align-items:center}title{width:6.938rem;height:1.75rem;margin:.438rem 22.875rem .813rem 0;font-family:IBMPlexSans;font-size:1.25rem;font-weight:normal;font-stretch:normal;font-style:normal;line-height:1.4;letter-spacing:normal}.-esm-laboratory-management__laboratory-queue__link___NfOin{text-decoration:none}.-esm-laboratory-management__laboratory-queue__breadcrumbsSlot___iPn74{grid-row:1/2;grid-column:1/2}.-esm-laboratory-management__laboratory-queue__orderTabsContainer___w8_sy{height:100%;width:100%;margin:0;margin-top:.5rem}.-esm-laboratory-management__laboratory-queue__orderTabsContainer___w8_sy .cds--tab-content{padding:0 !important}.-esm-laboratory-management__laboratory-queue__orderTabs___rDQsW{grid-column:"span 2";padding:0 1rem}.-esm-laboratory-management__laboratory-queue__newListButton___d3MnZ{width:fit-content;justify-self:end;align-self:center}.-esm-laboratory-management__laboratory-queue__tabsContainer___NrZJ3{background-color:#fff}.-esm-laboratory-management__laboratory-queue__tabsContainer___NrZJ3 .cds--tabs__nav-item--selected{box-shadow:inset 0 2px 0 0 var(--brand-03) !important}.-esm-laboratory-management__laboratory-queue__tabsContainer___NrZJ3 .cds--tab--list button{max-width:12rem !important}.-esm-laboratory-management__laboratory-queue__hiddenTabsContent___ZJcbq,.-esm-laboratory-management__laboratory-queue__tabs___kz2US .-esm-laboratory-management__laboratory-queue__hiddenTabsContent___ZJcbq{display:none}.-esm-laboratory-management__laboratory-queue__patientListTableContainer___CnuGc{grid-row:3/4;grid-column:1/2;height:100%;margin:.5rem 1rem;background-color:#f4f4f4;border:.5px solid #e0e0e0}.-esm-laboratory-management__laboratory-queue__patientListTableContainer___CnuGc .cds--data-table-container{padding-top:0 !important}.-esm-laboratory-management__laboratory-queue__patientListTableContainer___CnuGc tbody>tr>:nth-child(2){white-space:nowrap}.-esm-laboratory-management__laboratory-queue__patientListTableContainer___CnuGc .cds--data-table td{height:unset !important}.-esm-laboratory-management__laboratory-queue__patientListTableContainer___CnuGc .cds--data-table--zebra tbody tr[data-parent-row]:nth-child(4n+1) td{background-color:#fff;border-bottom:1px solid #e0e0e0;border-top:1px solid #e0e0e0}.-esm-laboratory-management__laboratory-queue__patientListTableContainer___CnuGc .cds--data-table--zebra tbody tr[data-parent-row]:nth-child(4n+3) td{background-color:#f4f4f4;border-bottom:1px solid #e0e0e0}.-esm-laboratory-management__laboratory-queue__tableContainer___pkphM{background-color:#f4f4f4;margin:0 1rem;padding:0}.-esm-laboratory-management__laboratory-queue__tableContainer___pkphM .cds--data-table-content{overflow-x:unset}.-esm-laboratory-management__laboratory-queue__tableContainer___pkphM a{text-decoration:none}.-esm-laboratory-management__laboratory-queue__tableContainer___pkphM th{color:#525252}.-esm-laboratory-management__laboratory-queue__tableContainer___pkphM .cds--data-table{background-color:#e0e0e0}.-esm-laboratory-management__laboratory-queue__tableContainer___pkphM .-esm-laboratory-management__laboratory-queue__toolbarContent___nsJ3E{height:2rem;margin-bottom:.25rem}.-esm-laboratory-management__laboratory-queue__fillContainer___wFLij{min-width:100%}.-esm-laboratory-management__laboratory-queue__activePatientsTable___JLvsY tr:last-of-type td{border-bottom:none}.-esm-laboratory-management__laboratory-queue__searchContainer___OunO6{display:flex;align-items:center;flex-direction:row-reverse;padding-top:.5rem}.-esm-laboratory-management__laboratory-queue__searchContainer___OunO6 .cds--search-magnifier-icon{z-index:0 !important}.-esm-laboratory-management__laboratory-queue__searchContainer___OunO6 input{background-color:#fff}.-esm-laboratory-management__laboratory-queue__addOrderBtn___YEip_{width:10rem !important;padding:.5rem !important;margin-left:1rem;margin-right:1rem}.-esm-laboratory-management__laboratory-queue__patientSearch___jf5_d{width:25rem;border-bottom-color:#e0e0e0}.-esm-laboratory-management__laboratory-queue__locationFilter___u4yhU{width:25rem}.-esm-laboratory-management__laboratory-queue__search___btOib{width:100%;max-width:16rem;background-color:#fff;border-bottom-color:#e0e0e0}.-esm-laboratory-management__laboratory-queue__container___cv3yi{background-color:#f4f4f4}.-esm-laboratory-management__laboratory-queue__expandedLabQueueVisitRow___Tnggy .cds--tab-content{padding:.5rem 0}.-esm-laboratory-management__laboratory-queue__expandedLabQueueVisitRow___Tnggy td{padding:.5rem}.-esm-laboratory-management__laboratory-queue__expandedLabQueueVisitRow___Tnggy td>div{max-height:max-content !important;background-color:#fff}.-esm-laboratory-management__laboratory-queue__expandedLabQueueVisitRow___Tnggy th[colspan] td[colspan]>div:first-child{padding:0 1rem}.-esm-laboratory-management__laboratory-queue__tileContainer___rveKx{background-color:#fff;border-top:1px solid #e0e0e0;padding:5rem 0}.cds--child-row-inner-container .-esm-laboratory-management__laboratory-queue__tileContainer___rveKx{padding:1rem 0}.-esm-laboratory-management__laboratory-queue__tile___rwRVa{margin:auto;width:fit-content}.-esm-laboratory-management__laboratory-queue__tileContent___ZSiqC{display:flex;flex-direction:column;align-items:center}.-esm-laboratory-management__laboratory-queue__content___fz5JS{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252;margin-bottom:.5rem}.-esm-laboratory-management__laboratory-queue__single-line-display___uBSnV{white-space:nowrap}.-esm-laboratory-management__laboratory-queue__worksheetItems___T4Qr4 th>.cds--table-header-label{padding-left:0rem !important;padding-right:0rem !important}.-esm-laboratory-management__laboratory-queue__worksheetItems___T4Qr4 th,.-esm-laboratory-management__laboratory-queue__worksheetItems___T4Qr4 .cds--data-table tbody th{background-color:#e0e0e0 !important}.-esm-laboratory-management__laboratory-queue__worksheetItems___T4Qr4 table.cds--data-table>tbody>tr.-esm-laboratory-management__laboratory-queue__worksheetItemTableExpandedRow___HZFVf>td,.-esm-laboratory-management__laboratory-queue__worksheetItems___T4Qr4 table.cds--data-table>tbody>tr.-esm-laboratory-management__laboratory-queue__worksheetItemTableExpandedRow___HZFVf>td:hover{padding-left:0 !important;padding-right:0 !important;padding-bottom:0rem}.-esm-laboratory-management__laboratory-queue__worksheetItems___T4Qr4 table.cds--data-table>tbody>tr.-esm-laboratory-management__laboratory-queue__worksheetItemTableExpandedRow___HZFVf>td .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 tbody tr td,.-esm-laboratory-management__laboratory-queue__worksheetItems___T4Qr4 table.cds--data-table>tbody>tr.-esm-laboratory-management__laboratory-queue__worksheetItemTableExpandedRow___HZFVf>td:hover .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 tbody tr td{padding-left:0rem !important}.-esm-laboratory-management__laboratory-queue__worksheetItems___T4Qr4 table.cds--data-table>tbody>tr.-esm-laboratory-management__laboratory-queue__worksheetItemTableExpandedRow___HZFVf>td .cds--data-table--zebra tbody tr[data-parent-row]:nth-child(4n+3) td,.-esm-laboratory-management__laboratory-queue__worksheetItems___T4Qr4 table.cds--data-table>tbody>tr.-esm-laboratory-management__laboratory-queue__worksheetItemTableExpandedRow___HZFVf>td:hover .cds--data-table--zebra tbody tr[data-parent-row]:nth-child(4n+3) td{background-color:#f4f4f4 !important}.-esm-laboratory-management__laboratory-queue__worksheetItems___T4Qr4 input::-webkit-outer-spin-button,.-esm-laboratory-management__laboratory-queue__worksheetItems___T4Qr4 input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.-esm-laboratory-management__laboratory-queue__worksheetItems___T4Qr4 input[type=number]{-moz-appearance:textfield}.-esm-laboratory-management__laboratory-queue__worksheetItems___T4Qr4 .-esm-laboratory-management__laboratory-queue__worksheetItemTableExpandedRow___HZFVf>td>div{padding-bottom:0rem;background-color:#fff}.-esm-laboratory-management__laboratory-queue__worksheetItems___T4Qr4 .-esm-laboratory-management__laboratory-queue__noTestResultsRow___owsUo .cds--table-expand__button{display:none}.-esm-laboratory-management__laboratory-queue__worksheetItems___T4Qr4 .-esm-laboratory-management__laboratory-queue__worksheetItemRowDetails___hxYNc{display:flex;flex-wrap:wrap;row-gap:.25rem;justify-content:flex-start;padding:1rem}.-esm-laboratory-management__laboratory-queue__worksheetItems___T4Qr4 .-esm-laboratory-management__laboratory-queue__worksheetItemRowDetails___hxYNc .-esm-laboratory-management__laboratory-queue__worksheetItemInput___lcQ4c{display:flex;flex-wrap:wrap;row-gap:1rem}.-esm-laboratory-management__laboratory-queue__worksheetItems___T4Qr4 .-esm-laboratory-management__laboratory-queue__worksheetItemRowDetails___hxYNc .-esm-laboratory-management__laboratory-queue__worksheetItemInput___lcQ4c .-esm-laboratory-management__laboratory-queue__worksheetItemInlineExpField___cZpOF{display:grid;grid-template-columns:auto auto}.-esm-laboratory-management__laboratory-queue__worksheetItems___T4Qr4 .-esm-laboratory-management__laboratory-queue__worksheetItemRowDetails___hxYNc .-esm-laboratory-management__laboratory-queue__worksheetItemInput___lcQ4c .-esm-laboratory-management__laboratory-queue__worksheetItemInlineExpField___cZpOF input.cds--text-input{background-color:#f4f4f4 !important}.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td,.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td:hover{background-color:var(--brand-03) !important;background-image:linear-gradient(to right, var(--brand-03), #009d9a);padding-left:1rem !important;white-space:normal !important}.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td .-esm-laboratory-management__laboratory-queue__tableContainer___pkphM,.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td:hover .-esm-laboratory-management__laboratory-queue__tableContainer___pkphM{margin:0}.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5,.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td:hover .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5{display:flex;flex-wrap:wrap;row-gap:.25rem}.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 td,.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td:hover .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 td{white-space:normal !important}.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 td .-esm-laboratory-management__laboratory-queue__rowActions___RM67u,.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td:hover .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 td .-esm-laboratory-management__laboratory-queue__rowActions___RM67u{display:flex;align-items:center;flex-direction:row;flex-wrap:nowrap}.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 td .-esm-laboratory-management__laboratory-queue__clearGhostButtonPadding___DkDmw,.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td:hover .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 td .-esm-laboratory-management__laboratory-queue__clearGhostButtonPadding___DkDmw{white-space:nowrap !important}.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 td .-esm-laboratory-management__laboratory-queue__clearGhostButtonPadding___DkDmw .cds--overflow-menu,.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td:hover .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 td .-esm-laboratory-management__laboratory-queue__clearGhostButtonPadding___DkDmw .cds--overflow-menu{display:inline-block;padding-top:.15rem}.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 td .-esm-laboratory-management__laboratory-queue__clearGhostButtonPadding___DkDmw>button,.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 td .-esm-laboratory-management__laboratory-queue__clearGhostButtonPadding___DkDmw>.cds--overflow-menu,.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 td .-esm-laboratory-management__laboratory-queue__clearGhostButtonPadding___DkDmw>.cds--overflow-menu>button,.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td:hover .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 td .-esm-laboratory-management__laboratory-queue__clearGhostButtonPadding___DkDmw>button,.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td:hover .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 td .-esm-laboratory-management__laboratory-queue__clearGhostButtonPadding___DkDmw>.cds--overflow-menu,.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td:hover .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 td .-esm-laboratory-management__laboratory-queue__clearGhostButtonPadding___DkDmw>.cds--overflow-menu>button{padding:0;margin:0;padding-inline-end:0;padding-inline-start:0;min-width:0;min-height:0;width:auto;height:auto}.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 .-esm-laboratory-management__laboratory-queue__productiveHeading01____sJzN,.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td:hover .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 .-esm-laboratory-management__laboratory-queue__productiveHeading01____sJzN{color:#525252}.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 .-esm-laboratory-management__laboratory-queue__expandedRowAdditionInfo___Wp1bp,.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td:hover .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 .-esm-laboratory-management__laboratory-queue__expandedRowAdditionInfo___Wp1bp{display:flex;row-gap:.5rem;column-gap:1rem;flex-wrap:wrap;flex-grow:.5;flex-basis:min-content;align-content:flex-start;border-left:1px solid #e0e0e0}.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 .-esm-laboratory-management__laboratory-queue__expandedRowAdditionInfoTileField___sh6jb,.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td:hover .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 .-esm-laboratory-management__laboratory-queue__expandedRowAdditionInfoTileField___sh6jb{height:min-content;white-space:wrap !important;min-width:7rem}.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 .-esm-laboratory-management__laboratory-queue__expandedRowAdditionInfoTileFieldFillRow___kMscB,.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td:hover .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 .-esm-laboratory-management__laboratory-queue__expandedRowAdditionInfoTileFieldFillRow___kMscB{width:fit-content}.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 :not(.-esm-laboratory-management__laboratory-queue__worksheetItemTableExpandedRow___HZFVf) tbody tr td,.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td:hover .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 :not(.-esm-laboratory-management__laboratory-queue__worksheetItemTableExpandedRow___HZFVf) tbody tr td{padding-left:1rem !important}.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 :not(.-esm-laboratory-management__laboratory-queue__worksheetItems___T4Qr4) tbody tr:not(.-esm-laboratory-management__laboratory-queue__cds--parent-row___zr7pO):nth-child(odd) td,.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td:hover .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 :not(.-esm-laboratory-management__laboratory-queue__worksheetItems___T4Qr4) tbody tr:not(.-esm-laboratory-management__laboratory-queue__cds--parent-row___zr7pO):nth-child(odd) td{background-color:#fff}.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 :not(.-esm-laboratory-management__laboratory-queue__worksheetItems___T4Qr4) tbody tr.-esm-laboratory-management__laboratory-queue__highlightTestResult___KO_XY>td,.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td:hover .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 :not(.-esm-laboratory-management__laboratory-queue__worksheetItems___T4Qr4) tbody tr.-esm-laboratory-management__laboratory-queue__highlightTestResult___KO_XY>td{background-color:#fffbce !important}.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 .cds--data-table-container,.-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u>td:hover .-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5 .cds--data-table-container{max-width:fit-content}.-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5{padding:.5rem .5rem .5rem 0}.-esm-laboratory-management__laboratory-queue__progressBarThin___krD5Q{margin:0 1rem;height:.1rem}.-esm-laboratory-management__laboratory-queue__progressBarThin___krD5Q .cds--progress-bar__track::after{background-image:linear-gradient(90deg, var(--cds-interactive, #005d5d) 12.5%, transparent 0)}.-esm-laboratory-management__laboratory-queue__tableToolbarContentHeaderText___hffGM{padding-left:1rem}.-esm-laboratory-management__laboratory-queue__testRequestSampleTest___uIGBF{display:block}.-esm-laboratory-management__laboratory-queue__testRequestSampleTest___uIGBF a{text-decoration:none}.-esm-laboratory-management__laboratory-queue__testSampleReference___azCBl{display:inline-block}.-esm-laboratory-management__laboratory-queue__approvalRemarks___fZTy5{font-size:80%}.cds--child-row-inner-container>section{margin-left:0;margin-right:0}.-esm-laboratory-management__laboratory-queue__errorDiv___kgMAO{color:red}.-esm-laboratory-management__laboratory-queue__childTableTableSelectAll___IZAgG{padding-left:1rem !important}.-esm-laboratory-management__laboratory-queue__sp_hqp_shared_background___ACBzW{background-color:#fff;background:-webkit-linear-gradient(rgba(255, 255, 255, 0.0473), rgba(0, 0, 0, 0.0473));background:-o-linear-gradient(rgba(255, 255, 255, 0.0473), rgba(0, 0, 0, 0.0473));background:-moz-linear-gradient(rgba(255, 255, 255, 0.0473), rgba(0, 0, 0, 0.0473));background:linear-gradient(rgba(255, 255, 255, 0.0473), rgba(0, 0, 0, 0.0473))}.-esm-laboratory-management__laboratory-queue__avatar___lQwBI{width:20px;height:20px;font-size:1rem;position:relative;display:flex;align-items:center;justify-content:center;flex-shrink:0;line-height:1;border-radius:50%;overflow:hidden;user-select:none}.-esm-laboratory-management__laboratory-queue__avatarSuccess___g9Zdb{color:#fff;background-color:#52c41a}.-esm-laboratory-management__laboratory-queue__avatarPending___Zr5wJ{color:#f5f5f5;background-color:#faad14}.-esm-laboratory-management__laboratory-queue__avatarDanger___iMrJI{color:#fff;background-color:#ff4d4f}.-esm-laboratory-management__laboratory-queue__avatarNoApproval___EhZfn{color:#000;background-color:#f0f0f0}.-esm-laboratory-management__laboratory-queue__lastResultBy___yrvhJ{border-bottom:1px solid #f0f0f0;margin-bottom:.25rem}.-esm-laboratory-management__laboratory-queue__listItems___I4sx8{display:flex;flex-direction:column;flex-shrink:0;flex-grow:1}.-esm-laboratory-management__laboratory-queue__listItems___I4sx8 .-esm-laboratory-management__laboratory-queue__listItem___pKJVM{display:flex;align-items:center;justify-content:flex-start;border-bottom:1px solid #f0f0f0;padding-bottom:.5rem}.-esm-laboratory-management__laboratory-queue__listItems___I4sx8 .-esm-laboratory-management__laboratory-queue__listItem___pKJVM .-esm-laboratory-management__laboratory-queue__approvalInfo___nSsYk{display:flex;flex-direction:column;flex-grow:1;padding-left:.5rem}.-esm-laboratory-management__laboratory-queue__listItems___I4sx8 .-esm-laboratory-management__laboratory-queue__listItem___pKJVM .-esm-laboratory-management__laboratory-queue__approvalInfo___nSsYk .-esm-laboratory-management__laboratory-queue__approvalTitle___eZvYf{display:flex;align-items:center;column-gap:.5rem;width:100%}.-esm-laboratory-management__laboratory-queue__listItems___I4sx8 .-esm-laboratory-management__laboratory-queue__listItem___pKJVM .-esm-laboratory-management__laboratory-queue__approvalInfo___nSsYk .-esm-laboratory-management__laboratory-queue__approvalContent___nf3Ns{font-size:90%}.-esm-laboratory-management__laboratory-queue__italic___P18oF{font-style:italic;font-size:90%}.-esm-laboratory-management__laboratory-queue__worksheetTestFooter___N5fFU{font-size:75%;font-style:italic;padding-left:.5rem}.-esm-laboratory-management__laboratory-queue__labmgmt-filters___Xsoda{display:flex;flex-wrap:nowraps;flex-direction:row;align-items:center;gap:.25rem;margin-left:1rem;margin-right:1rem;background-color:#f4f4f4}.-esm-laboratory-management__laboratory-queue__labmgmt-filters___Xsoda .-esm-laboratory-management__laboratory-queue__filterSearch___Nf5k8{height:2.5rem;margin-top:.5rem;width:100%;max-width:16rem;background-color:#fff;border-bottom:solid 1px #8d8d8d}.-esm-laboratory-management__laboratory-queue__labmgmt-filters___Xsoda .-esm-laboratory-management__laboratory-queue__filterSearch___Nf5k8 input.cds--search-input{height:100%}.-esm-laboratory-management__laboratory-queue__labmgmt-filters___Xsoda .cds--list-box{border-bottom:none;max-height:3rem;height:100%}.-esm-laboratory-management__laboratory-queue__labmgmt-filters___Xsoda .cds--list-box__field{padding-right:2.5rem !important}.-esm-laboratory-management__laboratory-queue__labmgmt-filters___Xsoda .cds--search:nth-child(1).cds--search-magnifier{margin-left:.75rem !important;margin-right:.75rem !important}.-esm-laboratory-management__laboratory-queue__labmgmt-filters___Xsoda .cds--search-input{border-bottom:none !important}.-esm-laboratory-management__laboratory-queue__labmgmt-filters___Xsoda .cds--multi-select__wrapper{padding:0 .3rem;height:2.5rem;margin-top:.6rem;width:15rem}.-esm-laboratory-management__laboratory-queue__labmgmt-filters___Xsoda .cds--multi-select__wrapper .cds--list-box__menu{width:20rem}.-esm-laboratory-management__laboratory-queue__labmgmt-filters___Xsoda .cds--list-box{border-bottom:none;max-height:3rem;height:100%}.-esm-laboratory-management__laboratory-queue__labmgmt-filters___Xsoda .cds--list-box__field{padding-right:2.5rem !important}.-esm-laboratory-management__laboratory-queue__navigationButtons___BUQQM{display:flex;justify-content:flex-start;margin:.25rem 1rem}.-esm-laboratory-management__laboratory-queue__navigationButton___sj9Cs{align-self:flex-end;width:fit-content}.cds--data-table-container > div.cds--data-table-content > table > tbody > tr div.cds--child-row-inner-container .cds--data-table-content .cds--data-table .cds--expandable-row > td{border-bottom:none !important;box-shadow:none !important}.cds--data-table-container > div.cds--data-table-content > table > tbody > tr div.cds--child-row-inner-container .cds--data-table-content .cds--data-table > tbody > tr.cds--parent-row td{padding-bottom:inherit;box-shadow:none !important}.-esm-laboratory-management__laboratory-queue__summary-tests-list___HtNQb{border-top:solid 1px #e0e0e0}.-esm-laboratory-management__laboratory-queue__summary-tests-pending___x2TuP,.-esm-laboratory-management__laboratory-queue__summary-tests-done___j56rJ{font-size:85%;list-style:disclosure-closed}.-esm-laboratory-management__laboratory-queue__summary-tests-done___j56rJ{font-weight:bold}.-esm-laboratory-management__laboratory-queue__summary-tests-done___j56rJ::after{content:"✔";color:var(--brand-03);font-size:100%;font-weight:bold}.-esm-laboratory-management__laboratory-queue__summary-tests-pending___x2TuP{color:#3f0000}.-esm-laboratory-management__laboratory-queue__selectionPaddingClear___BbwNA>td:nth-child(3){padding-left:.5rem}.-esm-laboratory-management__laboratory-queue__worksheetItemWrapper___cwkeE{display:flex;flex-wrap:wrap;row-gap:.25rem}.-esm-laboratory-management__laboratory-queue__worksheetItemWrapper___cwkeE>div:first-child{flex-grow:1}.-esm-laboratory-management__laboratory-queue__worksheetItemWrapper___cwkeE>section:last-child{background-color:#fff;border-left:1px solid #e0e0e0;margin:0;padding:.5rem}',"",{version:3,sources:["webpack://./src/tests-ordered/laboratory-queue.scss","webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/root.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAAA,MCoDA,mBACE,CAAA,mBACA,CAAA,mBACA,CAAA,MAHF,mBACE,CAAA,mBACA,CAAA,mBACA,CAAA,2ECnDF,mDC81BI,CAAA,kDAAA,CAAA,sDAAA,CAAA,2DAAA,CAAA,2ED11BJ,+CC01BI,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,2EDt1BJ,kDCs1BI,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,2EDl1BJ,kDCk1BI,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CAAA,kED90BJ,gDC80BI,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CAAA,mED10BJ,wDC00BI,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CAAA,mEDt0BJ,oDCs0BI,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CAAA,8DDl0BJ,aD3BU,CAAA,+DC+BV,gDC8zBI,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CAAA,6DD1zBJ,cACE,CAAA,WACA,CAAA,YACA,CAAA,YACA,CAAA,+BACA,CAAA,YACA,CAAA,oBACA,CAAA,kBACA,CAAA,MF1CF,cACE,CAAA,cACA,CAAA,kCACA,CAAA,uBACA,CAAA,iBACA,CAAA,kBACA,CAAA,mBACA,CAAA,iBACA,CAAA,eACA,CAAA,qBACA,CAAA,4DAGF,oBACE,CAAA,uEAGF,YACE,CAAA,eACA,CAAA,0EAGF,WACE,CAAA,UACA,CAAA,QACA,CAAA,gBACA,CAAA,4FAEA,oBACE,CAAA,iEAIJ,oBACE,CAAA,cACA,CAAA,qEAGF,iBACE,CAAA,gBACA,CAAA,iBACA,CAAA,qEAGF,qBCjDQ,CAAA,oGDoDN,qDACE,CAAA,4FAGF,0BACE,CAAA,8MAIJ,YAEE,CAAA,iFAGF,YACE,CAAA,eACA,CAAA,WACA,CAAA,iBACA,CAAA,wBCvEM,CAAA,yBDyEN,CAAA,4GAEA,wBACE,CAAA,wGAGF,kBACE,CAAA,qGAGF,uBACE,CAAA,sJAGF,qBCtFM,CAAA,+BDwFJ,CAAA,4BACA,CAAA,sJAGF,wBC7FM,CAAA,+BD+FJ,CAAA,sEAIJ,wBCnGQ,CAAA,aDqGN,CAAA,SACA,CAAA,+FAEA,gBACE,CAAA,wEAGF,oBACE,CAAA,yEAGF,aC3GQ,CAAA,uFD+GR,wBClHM,CAAA,4IDsHN,WI/EW,CAAA,oBAzBA,CAAA,qEJ8Gb,cACE,CAAA,8FAIA,kBACE,CAAA,uEAIJ,YACE,CAAA,kBACA,CAAA,0BACA,CAAA,iBACA,CAAA,mGAEA,oBACE,CAAA,6EAGF,qBACE,CAAA,mEAIJ,sBACE,CAAA,wBACA,CAAA,gBACA,CAAA,iBACA,CAAA,qEAGF,WACE,CAAA,2BC7JM,CAAA,sEDiKR,WACE,CAAA,8DAGF,UACE,CAAA,eACA,CAAA,qBCxKM,CAAA,2BACA,CAAA,iED4KR,wBC9KQ,CAAA,kGDmLN,eACE,CAAA,mFAGF,aACE,CAAA,uFAEA,iCACE,CAAA,qBC1LE,CAAA,wHD+LN,cACE,CAAA,qEAIJ,qBCpMQ,CAAA,4BDsMN,CAAA,cACA,CAAA,qGAEF,cACE,CAAA,4DAGF,WACE,CAAA,iBACA,CAAA,mEAGF,YACE,CAAA,qBACA,CAAA,kBACA,CAAA,+DAGF,uDGyoBI,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CAAA,aF71BM,CAAA,mBDuNR,CAAA,2EAGF,kBACE,CAAA,kGAIA,4BACE,CAAA,6BACA,CAAA,yKAEF,mCACE,CAAA,8XAGF,yBAEE,CAAA,0BACA,CAAA,mBACA,CAAA,0iBAGE,4BACE,CAAA,wgBAIJ,mCACE,CAAA,8MAKF,uBAEE,CAAA,QACA,CAAA,yFAIF,yBACE,CAAA,kKAGJ,mBACE,CAAA,qBACA,CAAA,yKAIA,YACE,CAAA,qJAIJ,YACE,CAAA,cACA,CAAA,cACA,CAAA,0BACA,CAAA,YACA,CAAA,+NAEA,YACE,CAAA,cACA,CAAA,YACA,CAAA,kTAEA,YACE,CAAA,+BACA,CAAA,wUAEA,mCACE,CAAA,4JASV,2CACI,CAAA,oEAOF,CAAA,4BACA,CAAA,6BACA,CAAA,wSACA,QACE,CAAA,gTAGF,YACE,CAAA,cACA,CAAA,cACA,CAAA,sTACC,6BACC,CAAA,0bAGF,YACE,CAAA,kBACA,CAAA,kBACA,CAAA,gBACA,CAAA,odAGA,6BACE,CAAA,4fACA,oBACE,CAAA,kBACA,CAAA,w+CAIJ,SAGE,CAAA,QACA,CAAA,oBACA,CAAA,sBACA,CAAA,WACA,CAAA,YACA,CAAA,UACA,CAAA,WACA,CAAA,scAIJ,aC7VM,CAAA,8cDiWN,YACI,CAAA,aACA,CAAA,eACA,CAAA,cACA,CAAA,YACA,CAAA,sBACA,CAAA,wBACA,CAAA,6BACA,CAAA,geAGJ,kBACE,CAAA,2BACA,CAAA,cACA,CAAA,8eAGF,iBACE,CAAA,8fAGF,4BACE,CAAA,spBAEF,qBACE,CAAA,onBAGF,mCACE,CAAA,sWAGF,qBACE,CAAA,0EAKN,2BACE,CAAA,uEAKF,aACE,CAAA,YACA,CAAA,wGAEA,6FACE,CAAA,qFAIJ,iBACE,CAAA,6EAGF,aACE,CAAA,+EACA,oBACE,CAAA,2EAIJ,oBACE,CAAA,uEAGF,aACE,CAAA,wCAGF,aACE,CAAA,cACA,CAAA,gEAGF,SACE,CAAA,gFAGF,4BACE,CAAA,gFAGF,qBACE,CAAA,sFACA,CAAA,iFACA,CAAA,mFACA,CAAA,8EACA,CAAA,8DAKF,UACI,CAAA,WACA,CAAA,cACA,CAAA,iBACA,CAAA,YACA,CAAA,kBACA,CAAA,sBACA,CAAA,aACA,CAAA,aACA,CAAA,iBACA,CAAA,eACA,CAAA,gBACA,CAAA,qEAIJ,UACE,CAAA,wBACA,CAAA,qEAGF,aAGE,CAAA,wBACA,CAAA,oEAGF,UACE,CAAA,wBACA,CAAA,wEAGF,UACE,CAAA,wBACA,CAAA,oEAGF,+BACE,CAAA,oBACA,CAAA,iEAGF,YACE,CAAA,qBACA,CAAA,aACA,CAAA,WACA,CAAA,iIAEA,YACE,CAAA,kBACA,CAAA,0BACA,CAAA,+BACA,CAAA,oBACA,CAAA,qMAEA,YACE,CAAA,qBACA,CAAA,WACA,CAAA,kBACA,CAAA,0QAEA,YACE,CAAA,kBACA,CAAA,gBACA,CAAA,UACA,CAAA,4QAGF,aACE,CAAA,8DAQR,iBACE,CAAA,aACA,CAAA,2EAGF,aACE,CAAA,iBACA,CAAA,kBACA,CAAA,uEAGF,YAEE,CAAA,iBACA,CAAA,kBACA,CAAA,kBACA,CAAA,UACA,CAAA,gBACA,CAAA,iBACA,CAAA,wBACA,CAAA,2IAEA,aACE,CAAA,gBACA,CAAA,UACA,CAAA,eACA,CAAA,qBC5iBI,CAAA,+BD8iBJ,CAAA,mKAEA,WACE,CAAA,sFAIJ,kBACE,CAAA,eACA,CAAA,WACA,CAAA,6FAGA,+BACE,CAAA,uHAIJ,6BACE,CAAA,8BACA,CAAA,0FAGF,6BACE,CAAA,mGAGF,eACE,CAAA,aACA,CAAA,gBACA,CAAA,WACA,CAAA,wHACA,WACE,CAAA,sFAIJ,kBACE,CAAA,eACA,CAAA,WACA,CAAA,6FAGF,+BACE,CAAA,yEAIJ,YACE,CAAA,0BACA,CAAA,kBACA,CAAA,wEAGF,mBACE,CAAA,iBACA,CAAA,qLAEF,6BAGC,CAAA,0BACA,CAAA,2LAGD,sBACE,CAAA,0BACA,CAAA,0EAGF,4BACE,CAAA,uJAGF,aACE,CAAA,4BACA,CAAA,0EAEF,gBACE,CAAA,iFAEF,WACE,CAAA,qBACA,CAAA,cACA,CAAA,gBACA,CAAA,6EAGF,aACE,CAAA,6FAGF,kBACE,CAAA,4EAGF,YACE,CAAA,cACC,CAAA,cACA,CAAA,4FAGH,WACE,CAAA,+FAEF,qBACE,CAAA,6BACA,CAAA,QACA,CAAA,aACA",sourceRoot:""}]),l.locals={productiveHeading01:"-esm-laboratory-management__laboratory-queue__productiveHeading01____sJzN",productiveHeading02:"-esm-laboratory-management__laboratory-queue__productiveHeading02___Ozytz",productiveHeading03:"-esm-laboratory-management__laboratory-queue__productiveHeading03___ShgDm",productiveHeading04:"-esm-laboratory-management__laboratory-queue__productiveHeading04___HI7q3",bodyLong01:"-esm-laboratory-management__laboratory-queue__bodyLong01___FNMSx",bodyShort01:"-esm-laboratory-management__laboratory-queue__bodyShort01___gMclU",bodyShort02:"-esm-laboratory-management__laboratory-queue__bodyShort02___ida_A",text02:"-esm-laboratory-management__laboratory-queue__text02___WNr68",label01:"-esm-laboratory-management__laboratory-queue__label01___NILor",modal:"-esm-laboratory-management__laboratory-queue__modal___G5tVI",link:"-esm-laboratory-management__laboratory-queue__link___NfOin",breadcrumbsSlot:"-esm-laboratory-management__laboratory-queue__breadcrumbsSlot___iPn74",orderTabsContainer:"-esm-laboratory-management__laboratory-queue__orderTabsContainer___w8_sy",orderTabs:"-esm-laboratory-management__laboratory-queue__orderTabs___rDQsW",newListButton:"-esm-laboratory-management__laboratory-queue__newListButton___d3MnZ",tabsContainer:"-esm-laboratory-management__laboratory-queue__tabsContainer___NrZJ3",hiddenTabsContent:"-esm-laboratory-management__laboratory-queue__hiddenTabsContent___ZJcbq",tabs:"-esm-laboratory-management__laboratory-queue__tabs___kz2US",patientListTableContainer:"-esm-laboratory-management__laboratory-queue__patientListTableContainer___CnuGc",tableContainer:"-esm-laboratory-management__laboratory-queue__tableContainer___pkphM",toolbarContent:"-esm-laboratory-management__laboratory-queue__toolbarContent___nsJ3E",fillContainer:"-esm-laboratory-management__laboratory-queue__fillContainer___wFLij",activePatientsTable:"-esm-laboratory-management__laboratory-queue__activePatientsTable___JLvsY",searchContainer:"-esm-laboratory-management__laboratory-queue__searchContainer___OunO6",addOrderBtn:"-esm-laboratory-management__laboratory-queue__addOrderBtn___YEip_",patientSearch:"-esm-laboratory-management__laboratory-queue__patientSearch___jf5_d",locationFilter:"-esm-laboratory-management__laboratory-queue__locationFilter___u4yhU",search:"-esm-laboratory-management__laboratory-queue__search___btOib",container:"-esm-laboratory-management__laboratory-queue__container___cv3yi",expandedLabQueueVisitRow:"-esm-laboratory-management__laboratory-queue__expandedLabQueueVisitRow___Tnggy",tileContainer:"-esm-laboratory-management__laboratory-queue__tileContainer___rveKx",tile:"-esm-laboratory-management__laboratory-queue__tile___rwRVa",tileContent:"-esm-laboratory-management__laboratory-queue__tileContent___ZSiqC",content:"-esm-laboratory-management__laboratory-queue__content___fz5JS","single-line-display":"-esm-laboratory-management__laboratory-queue__single-line-display___uBSnV",worksheetItems:"-esm-laboratory-management__laboratory-queue__worksheetItems___T4Qr4",worksheetItemTableExpandedRow:"-esm-laboratory-management__laboratory-queue__worksheetItemTableExpandedRow___HZFVf",rowExpandedContent:"-esm-laboratory-management__laboratory-queue__rowExpandedContent___iPvs5",noTestResultsRow:"-esm-laboratory-management__laboratory-queue__noTestResultsRow___owsUo",worksheetItemRowDetails:"-esm-laboratory-management__laboratory-queue__worksheetItemRowDetails___hxYNc",worksheetItemInput:"-esm-laboratory-management__laboratory-queue__worksheetItemInput___lcQ4c",worksheetItemInlineExpField:"-esm-laboratory-management__laboratory-queue__worksheetItemInlineExpField___cZpOF",tableExpandedRow:"-esm-laboratory-management__laboratory-queue__tableExpandedRow___M0j0u",rowActions:"-esm-laboratory-management__laboratory-queue__rowActions___RM67u",clearGhostButtonPadding:"-esm-laboratory-management__laboratory-queue__clearGhostButtonPadding___DkDmw",expandedRowAdditionInfo:"-esm-laboratory-management__laboratory-queue__expandedRowAdditionInfo___Wp1bp",expandedRowAdditionInfoTileField:"-esm-laboratory-management__laboratory-queue__expandedRowAdditionInfoTileField___sh6jb",expandedRowAdditionInfoTileFieldFillRow:"-esm-laboratory-management__laboratory-queue__expandedRowAdditionInfoTileFieldFillRow___kMscB","cds--parent-row":"-esm-laboratory-management__laboratory-queue__cds--parent-row___zr7pO",highlightTestResult:"-esm-laboratory-management__laboratory-queue__highlightTestResult___KO_XY",progressBarThin:"-esm-laboratory-management__laboratory-queue__progressBarThin___krD5Q",tableToolbarContentHeaderText:"-esm-laboratory-management__laboratory-queue__tableToolbarContentHeaderText___hffGM",testRequestSampleTest:"-esm-laboratory-management__laboratory-queue__testRequestSampleTest___uIGBF",testSampleReference:"-esm-laboratory-management__laboratory-queue__testSampleReference___azCBl",approvalRemarks:"-esm-laboratory-management__laboratory-queue__approvalRemarks___fZTy5",errorDiv:"-esm-laboratory-management__laboratory-queue__errorDiv___kgMAO",childTableTableSelectAll:"-esm-laboratory-management__laboratory-queue__childTableTableSelectAll___IZAgG",sp_hqp_shared_background:"-esm-laboratory-management__laboratory-queue__sp_hqp_shared_background___ACBzW",avatar:"-esm-laboratory-management__laboratory-queue__avatar___lQwBI",avatarSuccess:"-esm-laboratory-management__laboratory-queue__avatarSuccess___g9Zdb",avatarPending:"-esm-laboratory-management__laboratory-queue__avatarPending___Zr5wJ",avatarDanger:"-esm-laboratory-management__laboratory-queue__avatarDanger___iMrJI",avatarNoApproval:"-esm-laboratory-management__laboratory-queue__avatarNoApproval___EhZfn",lastResultBy:"-esm-laboratory-management__laboratory-queue__lastResultBy___yrvhJ",listItems:"-esm-laboratory-management__laboratory-queue__listItems___I4sx8",listItem:"-esm-laboratory-management__laboratory-queue__listItem___pKJVM",approvalInfo:"-esm-laboratory-management__laboratory-queue__approvalInfo___nSsYk",approvalTitle:"-esm-laboratory-management__laboratory-queue__approvalTitle___eZvYf",approvalContent:"-esm-laboratory-management__laboratory-queue__approvalContent___nf3Ns",italic:"-esm-laboratory-management__laboratory-queue__italic___P18oF",worksheetTestFooter:"-esm-laboratory-management__laboratory-queue__worksheetTestFooter___N5fFU","labmgmt-filters":"-esm-laboratory-management__laboratory-queue__labmgmt-filters___Xsoda",filterSearch:"-esm-laboratory-management__laboratory-queue__filterSearch___Nf5k8",navigationButtons:"-esm-laboratory-management__laboratory-queue__navigationButtons___BUQQM",navigationButton:"-esm-laboratory-management__laboratory-queue__navigationButton___sj9Cs","summary-tests-list":"-esm-laboratory-management__laboratory-queue__summary-tests-list___HtNQb","summary-tests-pending":"-esm-laboratory-management__laboratory-queue__summary-tests-pending___x2TuP","summary-tests-done":"-esm-laboratory-management__laboratory-queue__summary-tests-done___j56rJ",selectionPaddingClear:"-esm-laboratory-management__laboratory-queue__selectionPaddingClear___BbwNA",worksheetItemWrapper:"-esm-laboratory-management__laboratory-queue__worksheetItemWrapper___cwkeE"};const i=l},6512:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__overflow-menu__container___dRXW5{position:relative;top:0px}.-esm-laboratory-management__overflow-menu__menu___SHQYw{display:none;top:3.125rem;min-width:initial;left:auto;right:0;background-color:#f4f4f4;margin-right:.2rem;box-shadow:0 6px 6px rgba(0,0,0,.3)}.-esm-laboratory-management__overflow-menu__show___hAAhj{display:block}.-esm-laboratory-management__overflow-menu__overflowMenuButton___meRmh{width:auto;height:auto;padding:.875rem 1rem;color:#0f62fe;display:flex;align-items:center}.-esm-laboratory-management__overflow-menu__overflowMenuButton___meRmh:hover{background-color:#e8e8e8}.-esm-laboratory-management__overflow-menu__deceased___MBoXd{color:#78a9ff}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/ui-components/overflow-menu.scss","webpack://./node_modules/@carbon/colors/index.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCpDF,8DACE,iBAAA,CACA,OAAA,CAGF,yDACE,YAAA,CACA,YAAA,CACA,iBAAA,CACA,SAAA,CACA,OAAA,CACA,wBDdM,CCeN,kBAAA,CACA,mCAAA,CAGF,yDACE,aAAA,CAGF,uEACE,UAAA,CACA,WAAA,CACA,oBAAA,CACA,aCVQ,CDWR,YAAA,CACA,kBAAA,CAEA,6EACE,wBCsIY,CDlIhB,6DACE,aCtBQ",sourceRoot:""}]),l.locals={container:"-esm-laboratory-management__overflow-menu__container___dRXW5",menu:"-esm-laboratory-management__overflow-menu__menu___SHQYw",show:"-esm-laboratory-management__overflow-menu__show___hAAhj",overflowMenuButton:"-esm-laboratory-management__overflow-menu__overflowMenuButton___meRmh",deceased:"-esm-laboratory-management__overflow-menu__deceased___MBoXd"};const i=l},4580:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.cds--modal-container:has(.fullScreenModal){width:100%;height:100vh}.-esm-laboratory-management__import-test-results-dialog-component__modalWrapper___bWktD{display:flex;flex-direction:column;justify-content:space-between;height:100%;overflow-y:auto;padding-top:0;margin-top:0}.-esm-laboratory-management__import-test-results-dialog-component__modalBody___jKwWx{overflow-y:auto;flex-grow:1;display:flex;flex-direction:column;justify-content:flex-start}.-esm-laboratory-management__import-test-results-dialog-component__modalBody___jKwWx section{padding-top:0;margin-top:0}.-esm-laboratory-management__import-test-results-dialog-component__section___u7Qty{display:flex;flex-wrap:wrap;align-items:stretch;flex-direction:column;row-gap:.5rem}.-esm-laboratory-management__import-test-results-dialog-component__testGroup___Dl5Sh{width:fit-content;white-space:wrap}.-esm-laboratory-management__import-test-results-dialog-component__sepQuote___ixiMf{display:flex;flex-direction:row;column-gap:1rem;align-items:center;justify-content:flex-start}.-esm-laboratory-management__import-test-results-dialog-component__importConfigForm___EQJxJ{background-color:#f4f4f4;margin-bottom:1rem}.-esm-laboratory-management__import-test-results-dialog-component__importConfigForm___EQJxJ input,.-esm-laboratory-management__import-test-results-dialog-component__importConfigForm___EQJxJ textarea,.-esm-laboratory-management__import-test-results-dialog-component__importConfigForm___EQJxJ select{background-color:#fff}.cds--modal-container:has(.fullScreenModalTestImportConfig){width:80%}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/work-list/import-results/import-test-results-dialog.component.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CClDF,4CACI,UAAA,CACA,YAAA,CAGJ,wFACI,YAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CACA,eAAA,CACA,aAAA,CACA,YAAA,CAGJ,qFACI,eAAA,CACA,WAAA,CACA,YAAA,CACA,qBAAA,CACA,0BAAA,CAEA,6FACI,aAAA,CACA,YAAA,CAIR,mFACI,YAAA,CACA,cAAA,CACA,mBAAA,CACA,qBAAA,CACA,aAAA,CAGJ,qFACI,iBAAA,CACA,gBAAA,CAOJ,oFACI,YAAA,CACA,kBAAA,CACA,eAAA,CACA,kBAAA,CACA,0BAAA,CAIJ,4FACI,wBD5DI,CCgEJ,kBAAA,CAHA,0SACI,qBD7DA,CCkER,4DACI,SAAA",sourceRoot:""}]),l.locals={modalWrapper:"-esm-laboratory-management__import-test-results-dialog-component__modalWrapper___bWktD",modalBody:"-esm-laboratory-management__import-test-results-dialog-component__modalBody___jKwWx",section:"-esm-laboratory-management__import-test-results-dialog-component__section___u7Qty",testGroup:"-esm-laboratory-management__import-test-results-dialog-component__testGroup___Dl5Sh",sepQuote:"-esm-laboratory-management__import-test-results-dialog-component__sepQuote___ixiMf",importConfigForm:"-esm-laboratory-management__import-test-results-dialog-component__importConfigForm___EQJxJ"};const i=l},7096:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(6004),a=n.n(r),o=n(1056),l=n.n(o)()(a());l.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}:root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory-management__work-list__productiveHeading01___gP5oH{font-size:var(--cds-heading-01-font-size, 0.875rem);font-weight:var(--cds-heading-01-font-weight, 600);line-height:var(--cds-heading-01-line-height, 1.42857);letter-spacing:var(--cds-heading-01-letter-spacing, 0.16px)}.-esm-laboratory-management__work-list__productiveHeading02___G95Ce{font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0)}.-esm-laboratory-management__work-list__productiveHeading03___CoxJS{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-laboratory-management__work-list__productiveHeading04___KuBi2{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-laboratory-management__work-list__bodyLong01___Xdyi9{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-laboratory-management__work-list__bodyShort01___F_zu3{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-laboratory-management__work-list__bodyShort02___P4_WS{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-laboratory-management__work-list__text02___fy6j4{color:#525252}.-esm-laboratory-management__work-list__label01___HNdrZ{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-laboratory-management__work-list__modal___Rkkvq{position:fixed;width:100vw;height:100vh;display:grid;background-color:rgba(0,0,0,.5);z-index:9000;justify-items:center;align-items:center}title{width:6.938rem;height:1.75rem;margin:.438rem 22.875rem .813rem 0;font-family:IBMPlexSans;font-size:1.25rem;font-weight:normal;font-stretch:normal;font-style:normal;line-height:1.4;letter-spacing:normal}.-esm-laboratory-management__work-list__link___R9QBQ{text-decoration:none}.-esm-laboratory-management__work-list__breadcrumbsSlot___Ljvbr{grid-row:1/2;grid-column:1/2}.-esm-laboratory-management__work-list__orderTabsContainer___remgx{height:100%;width:100%;margin:0;margin-top:.5rem}.-esm-laboratory-management__work-list__orderTabsContainer___remgx .cds--tab-content{padding:0 !important}.-esm-laboratory-management__work-list__orderTabs___OuUcR{grid-column:"span 2";padding:0 1rem}.-esm-laboratory-management__work-list__newListButton___n0wIQ{width:fit-content;justify-self:end;align-self:center}.-esm-laboratory-management__work-list__tabsContainer___ytuVR{background-color:#fff}.-esm-laboratory-management__work-list__tabsContainer___ytuVR .cds--tabs__nav-item--selected{box-shadow:inset 0 2px 0 0 var(--brand-03) !important}.-esm-laboratory-management__work-list__tabsContainer___ytuVR .cds--tab--list button{max-width:12rem !important}.-esm-laboratory-management__work-list__hiddenTabsContent___A8UKN,.-esm-laboratory-management__work-list__tabs___LoBec .-esm-laboratory-management__work-list__hiddenTabsContent___A8UKN{display:none}.-esm-laboratory-management__work-list__patientListTableContainer___Zz3Fx{grid-row:3/4;grid-column:1/2;height:100%;margin:.5rem 1rem;background-color:#f4f4f4;border:.5px solid #e0e0e0}.-esm-laboratory-management__work-list__patientListTableContainer___Zz3Fx .cds--data-table-container{padding-top:0 !important}.-esm-laboratory-management__work-list__patientListTableContainer___Zz3Fx tbody>tr>:nth-child(2){white-space:nowrap}.-esm-laboratory-management__work-list__patientListTableContainer___Zz3Fx .cds--data-table td{height:unset !important}.-esm-laboratory-management__work-list__patientListTableContainer___Zz3Fx .cds--data-table--zebra tbody tr[data-parent-row]:nth-child(4n+1) td{background-color:#fff;border-bottom:1px solid #e0e0e0;border-top:1px solid #e0e0e0}.-esm-laboratory-management__work-list__patientListTableContainer___Zz3Fx .cds--data-table--zebra tbody tr[data-parent-row]:nth-child(4n+3) td{background-color:#f4f4f4;border-bottom:1px solid #e0e0e0}.-esm-laboratory-management__work-list__tableContainer___iOYpJ{background-color:#f4f4f4;margin:0 1rem;padding:0}.-esm-laboratory-management__work-list__tableContainer___iOYpJ a{text-decoration:none}.-esm-laboratory-management__work-list__tableContainer___iOYpJ th{color:#525252}.-esm-laboratory-management__work-list__tableContainer___iOYpJ .cds--data-table{background-color:#e0e0e0}.-esm-laboratory-management__work-list__tableContainer___iOYpJ .-esm-laboratory-management__work-list__toolbarContent___BQiyf{height:2rem;margin-bottom:.25rem}.-esm-laboratory-management__work-list__activePatientsTable___pt26O tr:last-of-type td{border-bottom:none}.-esm-laboratory-management__work-list__searchContainer___huWJd{display:flex;align-items:center;flex-direction:row-reverse;padding-top:.5rem}.-esm-laboratory-management__work-list__searchContainer___huWJd .cds--search-magnifier-icon{z-index:0 !important}.-esm-laboratory-management__work-list__searchContainer___huWJd input{background-color:#fff}.-esm-laboratory-management__work-list__addOrderBtn___D9gCI{width:10rem !important;padding:.5rem !important;margin-left:1rem;margin-right:1rem}.-esm-laboratory-management__work-list__patientSearch___rk68o{width:25rem;border-bottom-color:#e0e0e0}.-esm-laboratory-management__work-list__locationFilter___nJnBJ{width:25rem}.-esm-laboratory-management__work-list__search___FwieU{width:100%;max-width:16rem;background-color:#fff;border-bottom-color:#e0e0e0}.-esm-laboratory-management__work-list__container___RYRnb{background-color:#f4f4f4}.-esm-laboratory-management__work-list__expandedLabQueueVisitRow___F0Xqi .cds--tab-content{padding:.5rem 0}.-esm-laboratory-management__work-list__expandedLabQueueVisitRow___F0Xqi td{padding:.5rem}.-esm-laboratory-management__work-list__expandedLabQueueVisitRow___F0Xqi td>div{max-height:max-content !important;background-color:#fff}.-esm-laboratory-management__work-list__expandedLabQueueVisitRow___F0Xqi th[colspan] td[colspan]>div:first-child{padding:0 1rem}.-esm-laboratory-management__work-list__tileContainer___SQ0BL{background-color:#fff;border-top:1px solid #e0e0e0;padding:5rem 0}.-esm-laboratory-management__work-list__tile___KJ2Ba{margin:auto;width:fit-content}.-esm-laboratory-management__work-list__tileContent___s6u70{display:flex;flex-direction:column;align-items:center}.-esm-laboratory-management__work-list__content___Sp2ai{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252;margin-bottom:.5rem}.-esm-laboratory-management__work-list__navigationButtons___Q03bu{display:flex;justify-content:flex-start;margin:.25rem 1rem}.-esm-laboratory-management__work-list__navigationButton___zi4gQ{align-self:flex-end;width:fit-content}.-esm-laboratory-management__work-list__worksheetInfo___Pt3HB{max-width:25rem;display:flex;flex-direction:column;row-gap:.75rem}.-esm-laboratory-management__work-list__formWrapper___Au7VY{display:flex;flex-direction:column;justify-content:space-between;height:100%}.-esm-laboratory-management__work-list__form___LjCAs{background-color:#f4f4f4;display:flex;flex-direction:column;justify-content:space-between;flex-basis:65%;flex-grow:1;flex-shrink:1;overflow-y:visible}.-esm-laboratory-management__work-list__modalBody___CTSt5{overflow-y:visible;padding-left:1rem;padding-top:1rem;margin-bottom:.85rem;flex-grow:1;display:flex;flex-direction:column;justify-content:flex-start}.-esm-laboratory-management__work-list__modalBody___CTSt5 .cds--text-input,.-esm-laboratory-management__work-list__modalBody___CTSt5 .cds--list-box input[role=combobox],.-esm-laboratory-management__work-list__modalBody___CTSt5 .cds--list-box input[type=text],.-esm-laboratory-management__work-list__modalBody___CTSt5 .cds--select-input,.-esm-laboratory-management__work-list__modalBody___CTSt5 .cds--text-area,.-esm-laboratory-management__work-list__modalBody___CTSt5 .cds--number > div.cds--number__input-wrapper > input[type=number]{background-color:#fff}.-esm-laboratory-management__work-list__modalFooter___EqNQE{padding-left:1rem;padding-right:1rem}.-esm-laboratory-management__work-list__borderBottom___Xxnda{border-bottom:.063rem solid #e0e0e0}.-esm-laboratory-management__work-list__clear-margin-padding-bottom___PMKEj{margin-bottom:0;padding-bottom:0}.-esm-laboratory-management__work-list__clearMargin___QtfoO{margin:0}.-esm-laboratory-management__work-list__inputWhite___IYH_Q input,.-esm-laboratory-management__work-list__inputWhite___IYH_Q textarea,.-esm-laboratory-management__work-list__inputWhite___IYH_Q .cds--select-input,.-esm-laboratory-management__work-list__inputWhite___IYH_Q select{background-color:#fff}.-esm-laboratory-management__work-list__errorText___w0yHT{color:#da1e28}.-esm-laboratory-management__work-list__tabs___LoBec{grid-column:"span 2"}.-esm-laboratory-management__work-list__tablist___ddu3V{padding:0}.-esm-laboratory-management__work-list__tab___E2D_f{min-width:8.875rem}.-esm-laboratory-management__work-list__tab___E2D_f:active,.-esm-laboratory-management__work-list__tab___E2D_f:focus{outline:2px solid var(--brand-03) !important}.-esm-laboratory-management__work-list__tab___E2D_f[aria-selected=true]{box-shadow:inset 0 2px 0 0 var(--brand-03) !important}.-esm-laboratory-management__work-list__tabPanel___EyBJJ{padding-top:0}.-esm-laboratory-management__work-list__hiddenTabsContent___A8UKN,.-esm-laboratory-management__work-list__tabs___LoBec .-esm-laboratory-management__work-list__hiddenTabsContent___A8UKN{display:none}.-esm-laboratory-management__work-list__listsTableContainer___dZlVW{padding:1rem;background-color:#f4f4f4;height:calc(100vh - 12rem)}.-esm-laboratory-management__work-list__clearIconButtonPadding___Ht3YG{padding:0;margin:0;padding-inline-end:0;padding-inline-start:0;min-width:0;min-height:0}.-esm-laboratory-management__work-list__itemSelection___HIk5f{margin-top:.5rem;display:flex;flex-direction:row;column-gap:1rem;width:100%}.-esm-laboratory-management__work-list__itemSelection___HIk5f .-esm-laboratory-management__work-list__itemSelectionOptions___TeJCl{flex-grow:1}.-esm-laboratory-management__work-list__itemSelection___HIk5f .-esm-laboratory-management__work-list__itemSelectionControls___oEZtZ{flex-grow:0;display:flex;flex-direction:column;align-items:center;justify-content:center;row-gap:2rem}.-esm-laboratory-management__work-list__itemSelection___HIk5f .-esm-laboratory-management__work-list__itemSelectionControls___oEZtZ button{padding:0;margin:0;padding-inline-end:0;padding-inline-start:0;min-width:0;min-height:0}.-esm-laboratory-management__work-list__itemSelection___HIk5f .-esm-laboratory-management__work-list__itemSelectionControls___oEZtZ svg{width:24px;height:24px}.-esm-laboratory-management__work-list__itemSelection___HIk5f .-esm-laboratory-management__work-list__itemSelectionControls___oEZtZ .-esm-laboratory-management__work-list__transferLeftAll___vyX4P svg{transform:rotate(180deg)}.-esm-laboratory-management__work-list__itemSelection___HIk5f .-esm-laboratory-management__work-list__itemSelectionControls___oEZtZ .-esm-laboratory-management__work-list__transferLeft___KHtv8 svg{transform:rotate(90deg)}.-esm-laboratory-management__work-list__itemSelection___HIk5f .-esm-laboratory-management__work-list__itemSelectionControls___oEZtZ .-esm-laboratory-management__work-list__transferRight___w85r7 svg{transform:rotate(-90deg)}.-esm-laboratory-management__work-list__itemSelection___HIk5f .-esm-laboratory-management__work-list__itemSelectionControls___oEZtZ .-esm-laboratory-management__work-list__transferGroupControls___CRMBB{display:flex;flex-direction:column;row-gap:.5rem}.-esm-laboratory-management__work-list__itemSelection___HIk5f .-esm-laboratory-management__work-list__itemSelectionControls___oEZtZ .-esm-laboratory-management__work-list__transferGroupControls___CRMBB span:first-child{padding-left:2.5rem}.-esm-laboratory-management__work-list__itemSelection___HIk5f .-esm-laboratory-management__work-list__itemSelectedItems___pF0_d{flex-grow:2}.-esm-laboratory-management__work-list__wrapWhiteSpace___kFUM7 td{white-space:normal}.cds--data-table--zebra tbody tr.-esm-laboratory-management__work-list__sampleSelected___Q1ziN td,tr.-esm-laboratory-management__work-list__sampleSelected___Q1ziN{background-color:#e8daff !important}.-esm-laboratory-management__work-list__sampleFilters___nI_9W{display:flex;flex-wrap:wrap;gap:.25rem;justify-content:flex-start;align-items:center;margin-top:.5rem}.-esm-laboratory-management__work-list__sampleFilters___nI_9W .-esm-laboratory-management__work-list__diagnosis___wZZme{width:25rem}.-esm-laboratory-management__work-list__sampleFilters___nI_9W>*{max-width:max-content}.-esm-laboratory-management__work-list__sampleFilters___nI_9W>.cds--text-input-wrapper{max-width:8rem}.-esm-laboratory-management__work-list__sampleFilters___nI_9W>.-esm-laboratory-management__work-list__worksheetSampleType___WJqu7{width:12rem}.-esm-laboratory-management__work-list__sampleFilters___nI_9W>.-esm-laboratory-management__work-list__worksheetUrgency___hJtMG{max-width:8rem}.-esm-laboratory-management__work-list__sampleFilters___nI_9W>.-esm-laboratory-management__work-list__worksheetLocation___e4PTS{max-width:14rem}.cds--child-row-inner-container>section{margin-left:0;margin-right:0}.-esm-laboratory-management__work-list__worksheetTestFooter___AJO9V{font-size:75%;font-style:italic}',"",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/root.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./src/work-list/work-list.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CAHF,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,oEC81BI,mDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,2DAAA,CD11BJ,oEC01BI,+CAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDt1BJ,oECs1BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDl1BJ,oECk1BI,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CD90BJ,2DC80BI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CD10BJ,4DC00BI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDt0BJ,4DCs0BI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CDl0BJ,uDACE,aD5BQ,CC+BV,wDC8zBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CD1zBJ,sDACE,cAAA,CACA,WAAA,CACA,YAAA,CACA,YAAA,CACA,+BAAA,CACA,YAAA,CACA,oBAAA,CACA,kBAAA,CE3CF,MACE,cAAA,CACA,cAAA,CACA,kCAAA,CACA,uBAAA,CACA,iBAAA,CACA,kBAAA,CACA,mBAAA,CACA,iBAAA,CACA,eAAA,CACA,qBAAA,CAGF,qDACE,oBAAA,CAGF,gEACE,YAAA,CACA,eAAA,CAGF,mEACE,WAAA,CACA,UAAA,CACA,QAAA,CACA,gBAAA,CAEA,qFACE,oBAAA,CAIJ,0DACE,oBAAA,CACA,cAAA,CAGF,8DACE,iBAAA,CACA,gBAAA,CACA,iBAAA,CAGF,8DACE,qBHjDM,CGmDN,6FACE,qDAAA,CAGF,qFACE,0BAAA,CAIJ,yLAEE,YAAA,CAGF,0EACE,YAAA,CACA,eAAA,CACA,WAAA,CACA,iBAAA,CACA,wBHvEM,CGwEN,yBAAA,CAEA,qGACE,wBAAA,CAGF,iGACE,kBAAA,CAGF,8FACE,uBAAA,CAGF,+IACE,qBHtFI,CGuFJ,+BAAA,CACA,4BAAA,CAGF,+IACE,wBH7FI,CG8FJ,+BAAA,CAIJ,+DACE,wBHnGM,CGoGN,aAAA,CACA,SAAA,CAEA,iEACE,oBAAA,CAGF,kEACE,aHvGM,CG0GR,gFACE,wBH9GI,CGiHN,8HACE,WC3ES,CD4ET,oBCrGS,CD0GX,uFACE,kBAAA,CAIJ,gEACE,YAAA,CACA,kBAAA,CACA,0BAAA,CACA,iBAAA,CAEA,4FACE,oBAAA,CAGF,sEACE,qBAAA,CAIJ,4DACE,sBAAA,CACA,wBAAA,CACA,gBAAA,CACA,iBAAA,CAGF,8DACE,WAAA,CACA,2BHrJM,CGwJR,+DACE,WAAA,CAGF,uDACE,UAAA,CACA,eAAA,CACA,qBHhKM,CGiKN,2BHhKM,CGmKR,0DACE,wBHtKM,CG0KN,2FACE,eAAA,CAGF,4EACE,aAAA,CAEA,gFACE,iCAAA,CACA,qBHlLE,CGsLN,iHACE,cAAA,CAKJ,8DACE,qBH7LM,CG8LN,4BAAA,CACA,cAAA,CAGF,qDACE,WAAA,CACA,iBAAA,CAGF,4DACE,YAAA,CACA,qBAAA,CACA,kBAAA,CAGF,wDDopBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CClpBF,aH3MQ,CG4MR,mBAAA,CAGF,kEACE,YAAA,CACA,0BAAA,CACA,kBAAA,CAGF,iEACE,mBAAA,CACA,iBAAA,CAIF,8DACE,eAAA,CACA,YAAA,CACA,qBAAA,CACA,cAAA,CAGF,4DACE,YAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CAGF,qDACE,wBH/OM,CGgPN,YAAA,CACA,qBAAA,CACA,6BAAA,CACA,cAAA,CACA,WAAA,CACA,aAAA,CACA,kBAAA,CAGF,0DACE,kBAAA,CACA,iBAAA,CACA,gBAAA,CACA,oBAAA,CACA,WAAA,CACA,YAAA,CACA,qBAAA,CACA,0BAAA,CAEA,uhBAEI,qBHpQE,CGwQR,4DACE,iBAAA,CACA,kBAAA,CAIF,6DACE,mCAAA,CAGF,4EACE,eAAA,CACA,gBAAA,CAGF,4DACE,QAAA,CAIA,qRACI,qBH7RE,CGiSR,0DACE,aH/QO,CGkRT,qDACE,oBAAA,CAGF,wDACE,SAAA,CAGF,oDACE,kBAAA,CAEA,qHAEE,4CAAA,CAGF,wEACE,qDAAA,CAIJ,yDACE,aAAA,CAGF,yLAEE,YAAA,CAGF,oEACE,YCtSW,CDuSX,wBHtUM,CGuUN,0BAAA,CAGF,uEACE,SAAA,CACA,QAAA,CACA,oBAAA,CACA,sBAAA,CACA,WAAA,CACA,YAAA,CAGF,8DACE,gBAAA,CACA,YAAA,CACA,kBAAA,CACA,eAAA,CACA,UAAA,CAEA,mIACE,WAAA,CAEF,oIACE,WAAA,CACA,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,YAAA,CAEA,2IACE,SAAA,CACA,QAAA,CACA,oBAAA,CACA,sBAAA,CACA,WAAA,CACA,YAAA,CAIF,wIACE,UAAA,CACA,WAAA,CAIA,wMACE,wBAAA,CAKF,qMACE,uBAAA,CASF,sMACE,wBAAA,CAIJ,0MACE,YAAA,CACA,qBAAA,CACA,aAAA,CAEA,2NACE,mBAAA,CAKN,gIACE,WAAA,CAUF,kEACE,kBAAA,CAIJ,mKACC,mCAAA,CAGD,8DACE,YAAA,CACA,cAAA,CACA,UAAA,CACA,0BAAA,CACA,kBAAA,CACA,gBAAA,CAIA,wHACE,WAAA,CAIJ,gEACE,qBAAA,CAGF,uFACE,cAAA,CAGF,kIACE,WAAA,CAGF,+HACE,cAAA,CAGF,gIACE,eAAA,CAGF,wCACE,aAAA,CACA,cAAA,CAGF,oEACE,aAAA,CACA,iBAAA",sourceRoot:""}]),l.locals={productiveHeading01:"-esm-laboratory-management__work-list__productiveHeading01___gP5oH",productiveHeading02:"-esm-laboratory-management__work-list__productiveHeading02___G95Ce",productiveHeading03:"-esm-laboratory-management__work-list__productiveHeading03___CoxJS",productiveHeading04:"-esm-laboratory-management__work-list__productiveHeading04___KuBi2",bodyLong01:"-esm-laboratory-management__work-list__bodyLong01___Xdyi9",bodyShort01:"-esm-laboratory-management__work-list__bodyShort01___F_zu3",bodyShort02:"-esm-laboratory-management__work-list__bodyShort02___P4_WS",text02:"-esm-laboratory-management__work-list__text02___fy6j4",label01:"-esm-laboratory-management__work-list__label01___HNdrZ",modal:"-esm-laboratory-management__work-list__modal___Rkkvq",link:"-esm-laboratory-management__work-list__link___R9QBQ",breadcrumbsSlot:"-esm-laboratory-management__work-list__breadcrumbsSlot___Ljvbr",orderTabsContainer:"-esm-laboratory-management__work-list__orderTabsContainer___remgx",orderTabs:"-esm-laboratory-management__work-list__orderTabs___OuUcR",newListButton:"-esm-laboratory-management__work-list__newListButton___n0wIQ",tabsContainer:"-esm-laboratory-management__work-list__tabsContainer___ytuVR",hiddenTabsContent:"-esm-laboratory-management__work-list__hiddenTabsContent___A8UKN",tabs:"-esm-laboratory-management__work-list__tabs___LoBec",patientListTableContainer:"-esm-laboratory-management__work-list__patientListTableContainer___Zz3Fx",tableContainer:"-esm-laboratory-management__work-list__tableContainer___iOYpJ",toolbarContent:"-esm-laboratory-management__work-list__toolbarContent___BQiyf",activePatientsTable:"-esm-laboratory-management__work-list__activePatientsTable___pt26O",searchContainer:"-esm-laboratory-management__work-list__searchContainer___huWJd",addOrderBtn:"-esm-laboratory-management__work-list__addOrderBtn___D9gCI",patientSearch:"-esm-laboratory-management__work-list__patientSearch___rk68o",locationFilter:"-esm-laboratory-management__work-list__locationFilter___nJnBJ",search:"-esm-laboratory-management__work-list__search___FwieU",container:"-esm-laboratory-management__work-list__container___RYRnb",expandedLabQueueVisitRow:"-esm-laboratory-management__work-list__expandedLabQueueVisitRow___F0Xqi",tileContainer:"-esm-laboratory-management__work-list__tileContainer___SQ0BL",tile:"-esm-laboratory-management__work-list__tile___KJ2Ba",tileContent:"-esm-laboratory-management__work-list__tileContent___s6u70",content:"-esm-laboratory-management__work-list__content___Sp2ai",navigationButtons:"-esm-laboratory-management__work-list__navigationButtons___Q03bu",navigationButton:"-esm-laboratory-management__work-list__navigationButton___zi4gQ",worksheetInfo:"-esm-laboratory-management__work-list__worksheetInfo___Pt3HB",formWrapper:"-esm-laboratory-management__work-list__formWrapper___Au7VY",form:"-esm-laboratory-management__work-list__form___LjCAs",modalBody:"-esm-laboratory-management__work-list__modalBody___CTSt5",modalFooter:"-esm-laboratory-management__work-list__modalFooter___EqNQE",borderBottom:"-esm-laboratory-management__work-list__borderBottom___Xxnda","clear-margin-padding-bottom":"-esm-laboratory-management__work-list__clear-margin-padding-bottom___PMKEj",clearMargin:"-esm-laboratory-management__work-list__clearMargin___QtfoO",inputWhite:"-esm-laboratory-management__work-list__inputWhite___IYH_Q",errorText:"-esm-laboratory-management__work-list__errorText___w0yHT",tablist:"-esm-laboratory-management__work-list__tablist___ddu3V",tab:"-esm-laboratory-management__work-list__tab___E2D_f",tabPanel:"-esm-laboratory-management__work-list__tabPanel___EyBJJ",listsTableContainer:"-esm-laboratory-management__work-list__listsTableContainer___dZlVW",clearIconButtonPadding:"-esm-laboratory-management__work-list__clearIconButtonPadding___Ht3YG",itemSelection:"-esm-laboratory-management__work-list__itemSelection___HIk5f",itemSelectionOptions:"-esm-laboratory-management__work-list__itemSelectionOptions___TeJCl",itemSelectionControls:"-esm-laboratory-management__work-list__itemSelectionControls___oEZtZ",transferLeftAll:"-esm-laboratory-management__work-list__transferLeftAll___vyX4P",transferLeft:"-esm-laboratory-management__work-list__transferLeft___KHtv8",transferRight:"-esm-laboratory-management__work-list__transferRight___w85r7",transferGroupControls:"-esm-laboratory-management__work-list__transferGroupControls___CRMBB",itemSelectedItems:"-esm-laboratory-management__work-list__itemSelectedItems___pF0_d",wrapWhiteSpace:"-esm-laboratory-management__work-list__wrapWhiteSpace___kFUM7",sampleSelected:"-esm-laboratory-management__work-list__sampleSelected___Q1ziN",sampleFilters:"-esm-laboratory-management__work-list__sampleFilters___nI_9W",diagnosis:"-esm-laboratory-management__work-list__diagnosis___wZZme",worksheetSampleType:"-esm-laboratory-management__work-list__worksheetSampleType___WJqu7",worksheetUrgency:"-esm-laboratory-management__work-list__worksheetUrgency___hJtMG",worksheetLocation:"-esm-laboratory-management__work-list__worksheetLocation___e4PTS",worksheetTestFooter:"-esm-laboratory-management__work-list__worksheetTestFooter___AJO9V"};const i=l},9896:(e,t,n)=>{"use strict";n.r(t),n.d(t,{approveTestRequestDialog:()=>xg,completedTileComponent:()=>kg,importTestResultsDialog:()=>Rg,importTranslation:()=>vg,labRequestTestSelectDialogComponent:()=>Ng,laboratoryComponent:()=>gg,laboratoryDashboardLink:()=>bg,laboratoryOrderComponent:()=>hg,laboratoryOrderDashboardLink:()=>yg,pickLabRequestButton:()=>wg,referredTileComponent:()=>Sg,registerSampleDialog:()=>Ig,rejectedTileComponent:()=>Og,root:()=>fg,sendEmailDialog:()=>Cg,startupApp:()=>Bg,testOrderedTileComponent:()=>Tg,useExistingSampleDialog:()=>Dg,worklistTileComponent:()=>Eg});var r=n(8704),a={laboratoryQueueConcept:{_type:r.Type.String,_default:"1836ac8a-a855-4c7e-b2ba-a290233c67b7",_description:"Concept uuid for the laboratory queue.",_globalProperty:"labmanagement.queueConcept"},laboratoryLocationTag:{_type:r.Type.String,_default:"Laboratory",_description:"Location tag for laboratory locations.",_globalProperty:"labmanagement.locationTag"},laboratorySpecimenTypeConcept:{_type:r.Type.ConceptUuid,_default:"162476AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",_description:"Concept UUID for laboratory specimen types",_globalProperty:"labmanagement.specimenTypeConcept"},laboratoryEncounterTypeUuid:{_type:r.Type.String,_default:"214e27a1-606a-4b1e-a96e-d736c87069d5",_description:"Concept uuid for the laboratory tool encounter type.",_globalProperty:"labmanagement.encounterTypeUuid"},artCardEncounterTypeUuid:{_type:r.Type.String,_default:"8d5b2be0-c2cc-11de-8d13-0010c6dffd0f",_description:"Concept uuid for the laboratory tool encounter type.",_globalProperty:"labmanagement.artCardEncounterTypeUuid"},laboratoryOrderTypeUuid:{_type:r.Type.String,_default:"52a447d3-a64a-11e3-9aeb-50e549534c5e",_description:"Uuid for orderType",_globalProperty:"labmanagement.orderTypeUuid"},laboratoryReferalDestinationUuid:{_type:r.Type.String,_default:"b1f8b6c8-c255-4518-89f5-4236ab76025b",_description:"Concept uuid for laboratory referals destinations",_globalProperty:"labmanagement.referalDestinationUuid"},enableSendingLabTestsByEmail:{_type:r.Type.Boolean,_default:!1,_description:"This enables sending results to patient via email",_globalProperty:"labmanagement.enableSendingLabTestsByEmail"},enableSpecimenIdAutoGeneration:{_type:r.Type.Boolean,_default:!0,_description:"Configuration to require auto specimen id generation.",_globalProperty:"labmanagement.enableSpecimenIdAutoGeneration"},laboratoryTestGroupConcept:{_type:r.Type.String,_default:"162384AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",_description:"Concept uuid for grouping tests.",_globalProperty:"labmanagement.testGroupConcept"},laboratoryOtherReferenceLabConcept:{_type:r.Type.String,_default:"3476fd97-71da-4e9c-bf57-2b6318dc0c9f",_description:"Concept uuid for grouping tests.",_globalProperty:"labmanagement.otherReferenceLabConcept"},laboratoryBarcodeIdGenIdentifierSource:{_type:r.Type.String,_default:"66bfa314-4881-11ef-9d0e-00155d78897e",_description:"Identifier source uuid passed when generating numbers",_globalProperty:"labmanagement.barcodeIdGenIdentifierSource"},laboratoryBarcodePrintUri:{_type:r.Type.String,_default:"metsbcp://print/bc128/%BARCODE%|||%TYPE%|||%NAME%",_description:"URI for triggering printing a barcode. Use %BARCODE% placeholder.",_globalProperty:"labmanagement.barcodePrintUri"},laboratoryBarcodeGenerateAndPrint:{_type:r.Type.Boolean,_default:!0,_description:"After generation of barcode, print it.",_globalProperty:"labmanagement.barcodeGenerateAndPrint"},laboratoryBarcodeAlgorithm:{_type:r.Type.String,_default:"date_number_48bit",_description:"Barcode generation algorithm",_globalProperty:"labmanagement.barcodeAlgorithm",_validators:[(0,r.validator)((function(e){return["number_plain","year2_week2_day1_number","date_number_48bit","ugemr"].some(e)}),"Value has to be one of:- number_plain, year2_week2_day1_number, date_number_48bit, ugemr")]},laboratoryContainerTypeConcept:{_type:r.Type.ConceptUuid,_default:"bce2b1af-98b1-48a2-98a2-3e4ffb3c79c2",_description:"Concept UUID for laboratory container types",_globalProperty:"labmanagement.containerTypeConcept"},laboratoryVolumeMeasurementTypeConcept:{_type:r.Type.ConceptUuid,_default:"162402AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",_description:"Concept UUID for laboratory volume measurement types",_globalProperty:"labmanagement.volumeMeasurementTypeConcept"},laboratoryLocationTagUuid:{_type:r.Type.String,_description:"Laboratory location tag",_default:"1e6acc3e-696d-47de-8f74-63ed7bbe6e81",_globalProperty:"labmanagement.locationTagUuid"},laboratoryMainLocationTag:{_type:r.Type.String,_default:"Main Laboratory",_description:"Location tag for main laboratory location.",_globalProperty:"labmanagement.mainLaboratoryTag"},laboratoryHealthCenterName:{_type:r.Type.String,_default:"",_description:"Health center name that appears on prints.",_globalProperty:"labmanagement.healthCenterName"},laboratoryPrintLogoUri:{_type:r.Type.String,_default:"",_description:"Logo URI for laboratory print.",_globalProperty:"labmanagement.printLogoUri"},laboratoryPrintLogoText:{_type:r.Type.String,_default:"",_description:"Text that appears below logo.",_globalProperty:"labmanagement.printLogoText"},laboratoryCloseAfterPrint:{_type:r.Type.Boolean,_default:"true",_description:"Close print window after print.",_globalProperty:"labmanagement.closeAfterPrint"},laboratoryRequireSingleTestTypeForResultsImport:{_type:r.Type.Boolean,_default:"true",_description:"Worksheet must have single test type to import results.",_globalProperty:"labmanagement.requireSingleTestTypeForResultsImport"}},o=n(7244),l=n.n(o),i=n(1724),s=window.openmrsBase,c=window.getOpenmrsSpaBase(),u="".concat(c).concat(c.endsWith("/")?"":"/","home/laboratory"),d="/",m="".concat(r.restBaseUrl,"/idgen/identifiersource"),A="".concat(d,"settings"),p="".concat(u).concat(d,"settings"),_=("".concat(s,"/admin/maintenance/settings.list?show=Labmanagement"),"".concat(d,"referral")),v="".concat(u).concat(d,"referral"),f="".concat(d,"requests-pending-approval"),b=("".concat(u).concat(f),"".concat(d,"requests-all")),g="".concat(b,"/*"),y="".concat(u).concat(b),h="".concat(b,"/summary"),C="".concat(u).concat(h),w=function(e,t){return"".concat(y,"?requestNo=").concat(e).concat(null==t||void 0===t?"":"&startDate=".concat(t))},E="".concat(d,"requests-not-approved"),S=("".concat(u).concat(E),"".concat(d,"requests-approved")),k=("".concat(u).concat(S),"".concat(d,"requests-referred-out")),T=("".concat(u).concat(k),"".concat(d,"samples")),O="".concat(T,"/*"),N="".concat(u).concat(T),x="".concat(T,"/history"),I="".concat(u).concat(x),D="".concat(T,"/repository"),R="".concat(u).concat(D),B="".concat(d,"worklist"),P="".concat(d,"worklist/*"),q=("".concat(u).concat(B),"".concat(d,"worklist/requests")),j="".concat(u).concat(q),F="".concat(d,"worklist/worksheets"),L="".concat(u).concat(F),U="".concat(d,"worklist/worksheets/new"),z="".concat(u).concat(U),M=function(e){return"".concat(u).concat(function(e){return"".concat(d,"worklist/worksheets/").concat(e)}(e))},G="".concat(d,"tests-ordered"),H=("".concat(u).concat(G),function(e){return"".concat(d).concat(e)}),J="".concat(r.restBaseUrl,"/labmanagement/test-config-import"),W="".concat(s).concat(r.restBaseUrl,"/labmanagement/test-config-import-template"),V="".concat(r.restBaseUrl,"/labmanagement/test-config"),Y=("".concat(r.restBaseUrl,"/labmanagement/test-config-import"),"".concat(r.restBaseUrl,"/labmanagement/test-request")),Q="".concat(r.restBaseUrl,"/labmanagement/test-request-action"),K="".concat(r.restBaseUrl,"/labmanagement/test-request-item"),Z="".concat(r.restBaseUrl,"/labmanagement/sample-activity"),X="".concat(r.restBaseUrl,"/labmanagement/worksheet"),$=function(e){return"".concat(r.restBaseUrl,"/labmanagement/worksheet/").concat(e)},ee=("".concat(r.restBaseUrl,"/labmanagement/worksheet-item"),"".concat(r.restBaseUrl,"/labmanagement/worksheet-test-result")),te="".concat(r.restBaseUrl,"/labmanagement/sample"),ne="".concat(r.restBaseUrl,"/order"),re="".concat(r.restBaseUrl,"/encounter"),ae="".concat(r.restBaseUrl,"/labmanagement/approval-flow"),oe="".concat(r.restBaseUrl,"/labmanagement/approval-config"),le="".concat(r.restBaseUrl,"/labmanagement/dashboard-metrics"),ie="".concat(r.restBaseUrl,"/labmanagement/referral-location"),se=function(e){return"".concat(r.restBaseUrl,"/labmanagement/location/").concat(e)},ce="".concat(r.restBaseUrl,"/location"),ue="".concat(s,"/admin/maintenance/settings.list?show=Labmanagement"),de="".concat(r.restBaseUrl,"/locationtag"),me="".concat(r.restBaseUrl,"/labmanagement/test-result"),Ae="".concat(d,"approval"),pe=("".concat(d,"approval/*"),"".concat(u).concat(Ae),"".concat(s).concat(r.restBaseUrl,"/labmanagement/assets"),"".concat(r.restBaseUrl,"/labmanagement/batch-job")),_e="".concat(r.restBaseUrl,"/labmanagement/report"),ve="/lab-reports",fe=("".concat(ve,"/*"),"".concat(u).concat(ve)),be=function(e,t){return"".concat(s,"/ws/rest/v1/labmanagement/batch-job-artifact?id=").concat(e).concat(t?"&download=1":"")},ge="".concat(r.restBaseUrl,"/labmanagement/test-result-import-config"),ye="".concat(r.restBaseUrl,"/labmanagement/test-result-import-config"),he="".concat(r.restBaseUrl,"/labmanagement/storage"),Ce="".concat(r.restBaseUrl,"/labmanagement/storage-unit"),we="".concat(r.restBaseUrl,"/labmanagement/test-result-attachment"),Ee=function(e){return"".concat(s).concat(r.restBaseUrl,"/labmanagement/test-result-attachment?id=").concat(e)};function Se(e){var t=e.dashboardLinkConfig,n=(t.name,t.title);return(0,i.useLocation)(),l().createElement(r.ConfigurableLink,{to:u,className:"cds--side-nav__link"},n)}var ke=n(9024),Te=n(4564),Oe=n(8988),Ne=n(3604),xe=n.n(Ne),Ie=n(7200),De=n.n(Ie),Re=n(8272),Be=n.n(Re),Pe=n(712),qe=n.n(Pe),je=n(6768),Fe=n.n(je),Le=n(2116),Ue=n.n(Le),ze=n(2608),Me={};Me.styleTagTransform=Ue(),Me.setAttributes=qe(),Me.insert=Be().bind(null,"head"),Me.domAPI=De(),Me.insertStyleElement=Fe(),xe()(ze.c,Me);const Ge=ze.c&&ze.c.locals?ze.c.locals:void 0;var He=n(4652);function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var We={isOverlayOpen:!1,component:Function,header:""},Ve=function(){return(0,r.getGlobalStore)("laboratory",We)},Ye=function(e,t){Ve().setState({isOverlayOpen:!0,component:t,header:e})},Qe=function(){Ve().setState({component:null,isOverlayOpen:!1})};const Ke=function(){var e=function(){var e,t,n=(e=(0,o.useState)(),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Je(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],a=n[1];return(0,o.useEffect)((function(){var e=function(e){a(e)};e(Ve().getState()),Ve().subscribe(e)}),[]),{isOverlayOpen:null==r?void 0:r.isOverlayOpen,component:null==r?void 0:r.component,header:null==r?void 0:r.header}}(),t=e.header,n=e.component,a=e.isOverlayOpen,i=(0,r.useLayoutType)(),s=(0,He.useTranslation)().t;return l().createElement(l().Fragment,null,a&&l().createElement("div",{className:"tablet"!==i?Ge.desktopOverlay:Ge.tabletOverlay},"tablet"!==i?l().createElement("div",{className:Ge.desktopHeader},l().createElement("div",{className:Ge.headerContent},t),l().createElement(ke.qaq,{className:Ge.closePanelButton,onClick:function(){return Qe()},kind:"ghost",hasIconOnly:!0},l().createElement(Te.uO,{size:16}))):l().createElement(ke.ekv,{onClick:function(){return Qe()},"aria-label":s("tabletOverlay","Tablet overlay"),className:Ge.tabletOverlayHeader},l().createElement(ke.qaq,{hasIconOnly:!0},l().createElement(Oe.KS,{size:16})),l().createElement("div",{className:Ge.headerContent},t)),l().createElement("div",null,n)))};var Ze=n(5740),Xe={};Xe.styleTagTransform=Ue(),Xe.setAttributes=qe(),Xe.insert=Be().bind(null,"head"),Xe.domAPI=De(),Xe.insertStyleElement=Fe(),xe()(Ze.c,Xe);const $e=Ze.c&&Ze.c.locals?Ze.c.locals:void 0;var et=n(128),tt=n(1552),nt=n(1188),rt={};rt.styleTagTransform=Ue(),rt.setAttributes=qe(),rt.insert=Be().bind(null,"head"),rt.domAPI=De(),rt.insertStyleElement=Fe(),xe()(nt.c,rt);const at=nt.c&&nt.c.locals?nt.c.locals:void 0,ot=function(){return l().createElement("div",{className:at.svgContainer},l().createElement(tt.aI,{className:at.iconOverrides}))};var lt=n(6192),it=n.n(lt),st="YYYY-MM-DD";function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ut={ordersDate:it()((new Date).setHours(0,0,0,0)-6048e5).format(st),config:{},initialized:!1};function dt(){return(0,r.getGlobalStore)("laboratoryOrdersStartDate",ut)}function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var At=function(){var e,t,n=(e=(0,o.useState)((function(){var e,t,n;return null!==(n=null===(t=dt().getState())||void 0===t||null===(e=t.ordersDate)||void 0===e?void 0:e.toString())&&void 0!==n?n:null==ut?void 0:ut.ordersDate})),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],a=n[1];return(0,o.useEffect)((function(){return dt().subscribe((function(e){var t=e.ordersDate;return a(t.toString())}))}),[]),{currentOrdersDate:r,setCurrentOrdersDate:a}};function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _t=function(e){var t,n=e.showDate,a=e.sectionTitle,i=(0,He.useTranslation)().t,s=(0,o.useRef)(null),c=(0,r.useSession)(),u=null==c||null===(t=c.sessionLocation)||void 0===t?void 0:t.display,d=At().currentOrdersDate;return l().createElement("div",{className:at.header},l().createElement("div",{className:at["left-justified-items"]},l().createElement(ot,null),l().createElement("div",{className:at["page-labels"]},a&&l().createElement("p",null,a),l().createElement("p",{className:at["page-name"]},i("laboratory","Laboratory")))),l().createElement("div",{className:"".concat(at["right-justified-items"]).concat(n?"":" ".concat(at["right-justified-items-no-date"]))},l().createElement("div",{className:at["date-and-location"]},l().createElement(et.oB,{size:16}),l().createElement("span",{className:at.value},u),n&&l().createElement(l().Fragment,null,l().createElement("span",{className:at.middot},"·"),l().createElement(ke.I4g,{onChange:function(e){var t,n,r,a=(n=e,r=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(n,r)||function(e,t){if(e){if("string"==typeof e)return pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pt(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return t=new Date(a),void dt().setState({ordersDate:it()(new Date(t).setHours(0,0,0,0)).format(st)})},ref:s,dateFormat:"Y-m-d",datePickerType:"single"},l().createElement(ke.Mjs,{style:{backgroundColor:"transparent",border:"none",maxWidth:"10rem"},id:"date-picker-calendar-id",placeholder:"YYYY-MM-DD",labelText:"",type:"text",value:it()(d).format("YYYY-MM-DD")}))))))},vt=n(2568),ft={};ft.styleTagTransform=Ue(),ft.setAttributes=qe(),ft.insert=Be().bind(null,"head"),ft.domAPI=De(),ft.insertStyleElement=Fe(),xe()(vt.c,ft);const bt=vt.c&&vt.c.locals?vt.c.locals:void 0;var gt,yt,ht=n(9048);function Ct(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return"";var r=null===(t=Object.keys(e))||void 0===t?void 0:t.map((function(t){var r=e[t];return n&&(!1===r||!0===r||r)||!n&&(""===r||!1===r||!0===r||r)?"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(r.toString())):null})).filter((function(e){return null!=e})).join("&");return r.length>0?"?"+r:""}(yt=gt||(gt={})).Default="default",yt.Full="full",yt.REF="ref";var wt=n(3368),Et=n(2544);function St(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t&&(t.headers||(t.headers={}),t.cache="no-store"),(0,r.openmrsFetch)(e,t)}var kt=function(){var e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate())},Tt="Y-m-d",Ot="YYYY-MM-DD",Nt="YYYY-MM-DD",xt=function(e,t){return e?it()(e).format(null!=t?t:"DD-MMM-YYYY"):""},It=function(e,t){return e?it()(e).format(null!=t?t:"DD-MMM-YYYY HH:mm:ss"):""},Dt=function(e){return xt(e,Ot)},Rt=function(e){return xt(e,Nt)},Bt=function(e){return e?xt(e,Nt)+"T23:59:59.999":""},Pt=function(e){return e?(0,r.formatDate)(it()(e).toDate(),{time:!1}):""},qt=function(e){return e?(0,r.formatDate)(it()(e).toDate(),{time:!0}):""};function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Ft=function(){(0,He.useTranslation)().t;var e,t,n,a,i,s,c,u,d,m="lab-tiles-slot",A=At().currentOrdersDate,p=(u=(0,o.useState)(Bt(new Date(Date.now()+864e5))),d=2,function(e){if(Array.isArray(e))return e}(u)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(u,d)||function(e,t){if(e){if("string"==typeof e)return jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jt(e,t):void 0}}(u,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),_=p[0],v=(p[1],(e={v:gt.Full,minActivatedDate:A,maxActivatedDate:_},t="".concat(le).concat(Ct(e)),n=(0,Et.cp)(t,St,{revalidateOnFocus:!1}),a=n.data,i=n.error,s=n.isLoading,c=n.isValidating,{items:(null==a?void 0:a.data)||{},isLoading:s,isError:i,isValidating:c}).items.results),f=(0,o.useMemo)((function(){return{dashboardMetrics:(null==v?void 0:v.length)>0?v[0]:{}}}),[v]),b=(0,r.useConnectedExtensions)(m);return l().createElement("div",{className:bt.cardContainer},b.filter((function(e){return Object.keys(e.meta).length>0})).map((function(e,t){return l().createElement(ht.ComponentContext.Provider,{key:e.id,value:{featureName:"LabTiles",moduleName:e.moduleName,extension:{extensionId:e.id,extensionSlotName:m,extensionSlotModuleName:e.moduleName}}},l().createElement(r.Extension,{state:f}))})))};var Lt=n(3128),Ut={};Ut.styleTagTransform=Ue(),Ut.setAttributes=qe(),Ut.insert=Be().bind(null,"head"),Ut.domAPI=De(),Ut.insertStyleElement=Fe(),xe()(Lt.c,Ut);const zt=Lt.c&&Lt.c.locals?Lt.c.locals:void 0;var Mt=n(9508),Gt=n(7624),Ht="Task: labmanagement.approvalconfigurations.mutate",Jt="Task: labmanagement.testconfigurations.mutate",Wt="App: labmanagement.testrequests",Vt="Task: labmanagement.testrequests.approve",Yt="App: labmanagement.samples",Qt="Task: labmanagement.samples.collect",Kt="Task: labmanagement.samples.mutate",Zt="Task: labmanagement.storage.mutate",Xt="App: labmanagement.worksheets",$t="App: labmanagement.testresults",en="Task: labmanagement.testresults.mutate",tn="Task: labmanagement.repository.mutate";function nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){rn(e,t,n[t])}))}return e}function on(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ln(e){return St(Y,{method:"POST",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal,body:e})}function sn(e){var t,n,a=on((0,o.useState)((null!==(t=null==e?void 0:e.startIndex)&&void 0!==t?t:0)+1),2),l=a[0],i=a[1],s=on((0,o.useState)(null!==(n=null==e?void 0:e.limit)&&void 0!==n?n:10),2),c=s[0],u=s[1],d=on((0,o.useState)(null==e?void 0:e.q),2),m=d[0],A=d[1],p=on((0,o.useState)(null==e?void 0:e.itemLocation),2),_=p[0],v=p[1],f=on((0,o.useState)(null==e?void 0:e.testConcept),2),b=f[0],g=f[1],y=on((0,o.useState)(null==e?void 0:e.minActivatedDate),2),h=y[0],C=y[1],w=on((0,o.useState)(null==e?void 0:e.maxActivatedDate),2),E=w[0],S=w[1],k=on((0,o.useState)(null==e?void 0:e.allTests),2),T=k[0],O=k[1],N=on((0,o.useState)(!1),2),x=N[0],I=N[1],D=on((0,o.useState)(null==e?void 0:e.itemStatus),2),R=D[0],B=D[1],P=on((0,o.useState)(null==e?void 0:e.samples),2),q=P[0],j=P[1],F=on((0,o.useState)(null==e?void 0:e.includeTestItemSamples),2),L=F[0],U=F[1],z=on((0,o.useState)(null==e?void 0:e.includeTestItemTestResult),2),M=z[0],G=z[1],H=on((0,o.useState)(null==e?void 0:e.testResultApprovals),2),J=H[0],W=H[1],V=on((0,o.useState)(null==e?void 0:e.includeItemConcept),2),Q=V[0],K=V[1],Z=on((0,o.useState)(null==e?void 0:e.worksheetInfo),2),X=Z[0],$=Z[1],ee=on((0,o.useState)(null==e?void 0:e.itemMatch),2),te=ee[0],ne=ee[1],re=on((0,o.useState)((function(){var t;return an({},{startIndex:l-1,v:gt.Default,limit:10,q:null==e?void 0:e.q,totalCount:null===(t=null==e?void 0:e.totalCount)||void 0===t||t,sort:"-id"},null!=e?e:{})})),2),ae=re[0],oe=re[1],le=function(e){var t="".concat(Y).concat(Ct(e)),n=(0,Et.cp)(t,St),r=n.data,a=n.error,o=n.isLoading,l=n.isValidating;return{items:(null==r?void 0:r.data)||{},isLoading:o,isError:a,isValidating:l}}(ae),ie=le.items,se=le.isLoading,ce=le.isError,ue=le.isValidating,de=(0,r.usePagination)(ie.results,c);return(0,o.useEffect)((function(){oe((function(e){return an({},e,{startIndex:l-1,limit:c,q:m,totalCount:e.totalCount,v:e.v,minActivatedDate:h,maxActivatedDate:E,itemLocation:_,testConcept:b,allTests:T,itemStatus:R,samples:q,includeTestItemSamples:L,includeTestItemTestResult:M,testResultApprovals:J,includeItemConcept:Q,worksheetInfo:X,itemMatch:te})}))}),[m,l,c,h,E,_,b,T,R,q,L,M,J,Q,X,te]),(0,o.useEffect)((function(){!x&&se&&I(!0)}),[se,x]),{items:de.results,pagination:de,totalCount:ie.totalCount,currentPageSize:c,currentPage:l,setCurrentPage:i,setPageSize:u,pageSizes:[10,20,30,40,50],isLoading:se,isValidating:ue,isError:ce,setSearchString:A,loaded:x,minActivatedDate:h,maxActivatedDate:E,setMinActivatedDate:C,setMaxActivatedDate:S,itemLocation:_,setItemLocation:v,testConcept:b,setTestConcept:g,allTests:T,setAllTests:O,testItemStatuses:R,setTestItemStatuses:B,testRequestFilter:ae,setTestRequestFilter:oe,samples:q,setSamples:j,includeTestItemSamples:L,setIncludeTestItemSamples:U,includeTestItemTestResult:M,setIncludeTestItemTestResult:G,testResultApprovals:J,setTestResultApprovals:W,includeItemConcept:Q,setIncludeItemConcept:K,worksheetInfo:X,setWorksheetInfo:$,itemMatch:te,setItemMatch:ne}}function cn(e){return St(Q,{method:"POST",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal,body:e})}var un="Provider",dn="REFERRED_OUT_LAB",mn="REFERRED_OUT_PROVIDER",An="REQUEST_APPROVAL",pn="SAMPLE_COLLECTION",_n="IN_PROGRESS",vn="CANCELLED",fn="COMPLETED",bn=[dn,mn,An,pn,_n,vn,fn],gn=function(e,t){return(null==e?void 0:e.status)==_n?(null==e?void 0:e.testResult)?"".concat(t("RESULTED")).concat((null==e?void 0:e.testResult.completed)?" (".concat(t("Approved"),")"):" (".concat(e.testResult.status,")")):(null==e?void 0:e.worksheetNo)?t("ON_WORKSHEET"):t("PENDING_TESTING"):t(null==e?void 0:e.status)},yn="NoWorkStarted",hn="NoResults",Cn="WorksheetNoResults",wn=[yn,hn,"Results","Rejected","Worksheet",Cn,"WorksheetResults","NoWorksheetResults"],En=function(e,t){return t?"".concat(t).concat(e?" (".concat(e,")"):""):e};function Sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Sn(e,t,n[t])}))}return e}function Tn(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const On=function(e){var t=e.tests,n=(e.canApproveTestRequests,e.tableHeaders),a=e.onSelectionChange,o=e.selectedItems,i=e.testRequestId,s=e.enableSelection,c=(0,He.useTranslation)().t;return l().createElement(l().Fragment,null,l().createElement(ke.iSL,{rows:t,headers:n,isSortable:!0,useZebraStyles:!0,overflowMenuOnHover:!0,render:function(e){var n,u,d,m,A,p=e.rows,_=e.headers,v=e.getHeaderProps,f=e.getTableProps,b=e.getRowProps,g=(e.getBatchActionProps,e.getSelectionProps);return e.getToolbarProps,e.selectedRows,l().createElement(ke._tR,{className:zt.tableContainer},l().createElement(ke.oJK,Tn(kn({},f()),{className:zt.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,s&&l().createElement(ke.Wgb,Tn(kn({},g()),{onSelect:function(e){var t=e.target.checked,n=kn({},o);n[i]||(n[i]={tests:{},allTests:!1}),t?(n[i].allTests=!0,n[i].tests=null==p?void 0:p.reduce((function(e,t){return e[t.id]=!0,e}),{})):(n[i].allTests=!1,delete n[i].tests,n[i].tests={}),a(n)},checked:Boolean(null===(n=o[i])||void 0===n?void 0:n.allTests),indeterminate:Boolean(!(null===(u=o[i])||void 0===u?void 0:u.allTests)&&(null===(d=o[i])||void 0===d?void 0:d.tests)&&Object.keys(null===(m=o[i])||void 0===m?void 0:m.tests).length>0)})),_.map((function(e){var t,n;return"details"!==e.key&&l().createElement(ke.IEe,Tn(kn({},v({header:e,isSortable:e.isSortable})),{className:r.isDesktop?zt.desktopHeader:zt.tabletHeader,key:"".concat(e.key)}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})))),l().createElement(ke.qqV,null,p.map((function(e){var n,c;return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.CGA,Tn(kn({className:r.isDesktop?zt.desktopRow:zt.tabletRow},b({row:e})),{key:e.id,id:"tr-test-".concat(e.id)}),s&&l().createElement(ke.qwX,Tn(kn({},g({row:e})),{checked:Boolean(null===(c=o[i])||void 0===c||null===(n=c.tests)||void 0===n?void 0:n[e.id]),onChange:function(n,r,l){return s=n,c=e.id,(u=kn({},o))[i]||(u[i]={tests:{},allTests:!1}),s?(u[i].allTests=Object.keys(u[i].tests).length+1==t.length,u[i].tests[c]=!0):(u[i].allTests=!1,u[i].tests[c]&&delete u[i].tests[c]),void a(u);var s,c,u},classNames:zt.selectionCheckbox})),e.cells.map((function(e){var t;return"details"!==(null==e||null===(t=e.info)||void 0===t?void 0:t.header)&&l().createElement(ke.y6P,{key:e.id},e.value)}))))})))),0===(null!==(A=null==p?void 0:p.length)&&void 0!==A?A:0)?l().createElement("div",{className:zt.tileContainer},l().createElement(ke.g$J,{className:zt.tile},l().createElement("div",{className:zt.tileContent},l().createElement("p",{className:zt.content},c("noLaboratoryTestsToDisplay","No tests to display"))))):null)}}))};var Nn=n(8160),xn=n.n(Nn),In=n(3508),Dn=n.n(In);function Rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bn=function(e){var t,n,r=e.checked,a=e.id,o=e.name,i=e.onSelect,s=e.onChange,c=e.disabled,u=e.radio,d=e.className,m={id:a,name:o,onClick:i,onChange:s,checked:r,disabled:c,indeterminate:e.indeterminate},A=ke.ywS,p=Dn()("cds--table-column-checkbox",(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Rn(e,t,n[t])}))}return e}({},d&&Rn({},d,!0)),n=null!=(n=Rn({},"cds--table-column-radio",u))?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t));return l().createElement("td",{className:p,"aria-live":"off"},l().createElement(A,m))};Bn.propTypes={checked:xn().bool.isRequired,className:xn().string,disabled:xn().bool,id:xn().string.isRequired,name:xn().string.isRequired,onChange:xn().func,onSelect:xn().func.isRequired,radio:xn().bool,indeterminate:xn().bool};const Pn=Bn;var qn="APPROVED",jn="REJECTED",Fn="RETURNED",Ln="NOT_REQUIRED",Un=(0,Gt.c)((function(){return(0,Et.Uz)((function(e){return"string"==typeof e&&e.startsWith(le)}),void 0,{revalidate:!0})}),300),zn=function(e){(0,Et.Uz)((function(t){return"string"==typeof t&&t.startsWith(e)}),void 0,{revalidate:!0}),Un()},Mn=n(5840),Gn={};Gn.styleTagTransform=Ue(),Gn.setAttributes=qe(),Gn.insert=Be().bind(null,"head"),Gn.domAPI=De(),Gn.insertStyleElement=Fe(),xe()(Mn.c,Gn);const Hn=Mn.c&&Mn.c.locals?Mn.c.locals:void 0;function Jn(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function Wn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){Jn(o,r,a,l,i,"next",e)}function i(e){Jn(o,r,a,l,i,"throw",e)}l(void 0)}))}}function Vn(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}function Yn(e){var t="".concat(V).concat(Ct(e)),n=(0,Et.cp)(t,St,{revalidateOnFocus:!1}),r=n.data,a=n.error,o=n.isLoading,l=n.isValidating;return{items:(null==r?void 0:r.data)||{},isLoading:o,isError:a,isValidating:l}}function Qn(e){return St(V,{method:"POST",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal,body:{requireApproval:e.requireApproval,enabled:e.enabled,testUuid:e.testUuid,testGroupUuid:e.testGroupUuid,approvalFlowUuid:e.approvalFlowUuid}})}function Kn(e){return St("".concat(V,"/").concat(e.uuid),{method:"POST",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal,body:{requireApproval:e.requireApproval,enabled:e.enabled,testGroupUuid:e.testGroupUuid,approvalFlowUuid:e.approvalFlowUuid}})}function Zn(){return(Zn=Wn((function(e){var t;return Vn(this,(function(n){return t=new AbortController,[2,St(J,{method:"POST",signal:t.signal,body:e})]}))}))).apply(this,arguments)}function Xn(){return(Xn=Wn((function(e){var t;return Vn(this,(function(n){return t=new AbortController,[2,St(we,{method:"POST",signal:t.signal,body:e})]}))}))).apply(this,arguments)}function $n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var rr=function(){var e=nr((0,o.useState)(!1),2),t=e[0],n=e[1],l=(0,r.useConfig)(),i=function(){var e=er((0,o.useState)(!0),2),t=e[0],n=e[1],a=er((0,o.useState)(),2),l=a[0],i=a[1],s=(0,wt.c)("".concat(r.restBaseUrl,"/systemsetting"),(function(){return St("".concat(r.restBaseUrl,"/systemsetting").concat(Ct(l)))})),c=s.data,u=s.error,d=s.trigger,m=s.isMutating,A=(0,o.useCallback)((function(e){i(e),n(!1)}),[]);return(0,o.useEffect)((function(){t||d()}),[l,t,d]),{getGlobalProperties:A,items:(null==c?void 0:c.data)||{},isLoading:!1,isError:u,isValidating:!t&&m}}(),s=i.items,c=i.getGlobalProperties,u=nr((0,o.useState)((function(){var e,t,r,a=dt();return(null===(e=a.getState())||void 0===e?void 0:e.initialized)?n(!0):c({v:gt.Default,q:"labmanagement"}),null!==(r=null===(t=a.getState())||void 0===t?void 0:t.config)&&void 0!==r?r:ut.config})),2),d=u[0],m=u[1];return(0,o.useEffect)((function(){var e;!t&&l&&(null==s||null===(e=s.results)||void 0===e?void 0:e.length)>0&&(m(function(e,t){var n={},o=t.reduce((function(e,t){return e[t.property]=t,e}),{});return Object.entries(a).map((function(t){var a,l,i,s=(i=2,function(e){if(Array.isArray(e))return e}(l=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(l,i)||function(e,t){if(e){if("string"==typeof e)return ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ct(e,t):void 0}}(l,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],u=s[1];if(n[c]=null!==(a=e[c])&&void 0!==a?a:u._default,u._globalProperty&&o[u._globalProperty]){var d=o[u._globalProperty].value;u._type==r.Type.Boolean?n[c]=d&&("true"==d.toLowerCase()||"1"==d):n[c]=d}})),dt().setState({config:n,initialized:!0}),n}(l,s.results)),n(!0))}),[t,l,s]),{laboratoryConfig:d,configReady:t}},ar="RESULTED",or=["PENDING",ar],lr="green",ir="COLLECTION",sr="TESTING",cr="DISPOSED",ur=["PENDING",ir,sr,"ARCHIVED",cr],dr="CHECKED_OUT",mr=["ARCHIVED",dr,"DISPOSED"];function Ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){pr(e,t,n[t])}))}return e}function vr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ar(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ar(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fr(e){var t=vr((0,o.useState)(!0),2),n=t[0],r=t[1],a=vr((0,o.useState)((function(){return e})),2),l=a[0],i=a[1],s=vr((0,o.useState)(!1),2),c=s[0],u=s[1],d=(0,wt.c)("".concat(he),(function(){return St("".concat(he).concat(Ct(l)))})),m=d.data,A=d.error,p=d.trigger,_=d.isMutating,v=(0,o.useCallback)((function(e){i(_r({},null!=l?l:{},null!=e?e:{})),r(!1)}),[l]);return(0,o.useEffect)((function(){!c&&_&&u(!0)}),[_,c]),(0,o.useEffect)((function(){n||p()}),[l,n,p]),{getStorages:v,items:(null==m?void 0:m.data)||{},isLoading:!1,isError:A,isValidating:!n&&_,loaded:c}}function br(e){return St(he,{method:"POST",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal,body:{name:e.name,description:e.description,atLocationUuid:e.atLocationUuid,active:e.active,capacity:e.capacity}})}function gr(e){return St("".concat(he,"/").concat(e.uuid),{method:"POST",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal,body:{name:e.name,description:e.description,atLocationUuid:e.atLocationUuid,active:e.active,capacity:e.capacity}})}function yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hr(e){return function(e){if(Array.isArray(e))return yr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Cr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cr(e,t){if(e){if("string"==typeof e)return yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yr(e,t):void 0}}const wr=function(e){var t,n,r=(t=(0,o.useState)(""),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||Cr(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],i=r[1],s=fr({limit:10,v:gt.Default}),c=s.items.results,u=s.isValidating,d=s.loaded,m=s.getStorages;(0,o.useEffect)((function(){m({})}),[]);var A,p=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){m({q:e,startIndex:0,limit:10})}),300)}),[m]);return u&&!d?l().createElement(ke.Qrc,null):l().createElement(ke.Q1m,{style:e.style,titleText:e.title,hideLabel:e.hideLabel,name:e.name,size:"md",items:e.selectedId?hr((null==c?void 0:c.some((function(t){return t.uuid===e.selectedId})))?[]:[{uuid:e.selectedId,display:e.selectedText}]).concat(hr(null!=c?c:[])):c||[],onChange:function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,null==t?void 0:t.selectedItem)},initialSelectedItem:e.selectedId?null!==(A=null==c?void 0:c.find((function(t){return t.uuid===e.selectedId})))&&void 0!==A?A:{uuid:e.selectedId,display:e.selectedText}:null,itemToString:function(t){return(null==t?void 0:t.name)?"".concat(t.name).concat(e.displayLabSection?" (".concat(t.atLocationName,")"):""):""},shouldFilterItem:function(){return!0},placeholder:e.placeholder,onInputChange:function(e){return i(t=e),void p(t);var t},inputValue:a,invalid:e.invalid,invalidText:e.invalidText})};function Er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Er(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Er(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kr(e,t){return St("".concat(r.restBaseUrl,"/patient/").concat(e).concat(Ct(t)),{method:"GET",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal})}function Tr(){var e=Sr((0,o.useState)(!0),2),t=e[0],n=e[1],a=Sr((0,o.useState)(),2),l=a[0],i=a[1],s=(0,wt.c)("".concat(r.restBaseUrl,"/patient"),(function(){return St("".concat(r.restBaseUrl,"/patient").concat(Ct(l)))})),c=s.data,u=s.error,d=s.trigger,m=s.isMutating,A=(0,o.useCallback)((function(e){i(e),n(!1)}),[]);return(0,o.useEffect)((function(){t||d()}),[l,t,d]),{getPatients:A,items:(null==c?void 0:c.data)||{},isLoading:!1,isError:u,isValidating:!t&&m}}function Or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nr(e){return function(e){if(Array.isArray(e))return Or(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xr(e,t){if(e){if("string"==typeof e)return Or(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Or(e,t):void 0}}const Ir=function(e){var t,n,r,a=Tr(),i=a.items.results,s=a.isLoading,c=(a.isValidating,a.getPatients),u=(n=(0,o.useState)(""),r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(n,r)||xr(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=u[0],m=u[1],A=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){c({q:e,startIndex:0,limit:10,includeDead:!0,v:"custom:(patientId,uuid,display,patientIdentifier:(uuid,identifier),person:(gender,age,birthdate,display))"})}),300)}),[c]);return s?l().createElement(ke.Qrc,null):l().createElement(ke.Q1m,{className:e.className,titleText:e.title,name:e.name,id:e.name,size:"md",onChange:function(t){var n;null===(n=e.onPatientUuidChange)||void 0===n||n.call(e,t.selectedItem)},items:e.selectedId?Nr((null==i?void 0:i.some((function(t){return t.uuid===e.selectedId})))?[]:[{uuid:e.selectedId,display:e.selectedText}]).concat(Nr(null!=i?i:[])):i||[],initialSelectedItem:e.selectedId?null!==(t=null==i?void 0:i.find((function(t){return t.uuid===e.selectedId})))&&void 0!==t?t:{uuid:e.selectedId,display:e.selectedText}:null,itemToString:function(e){var t,n,r,a,o,l;return e&&(null==e?void 0:e.display)?"".concat(null==e?void 0:e.display).concat((null==e||null===(t=e.person)||void 0===t?void 0:t.age)||(null==e||null===(n=e.person)||void 0===n?void 0:n.gender)?" (".concat(null!==(o=null==e||null===(r=e.person)||void 0===r?void 0:r.age)&&void 0!==o?o:"").concat(null!==(l=null==e||null===(a=e.person)||void 0===a?void 0:a.gender)&&void 0!==l?l:"",")"):""):""},shouldFilterItem:function(){return!0},onInputChange:function(e){return m(t=e),void A(t);var t},inputValue:d,placeholder:e.placeholder,invalid:e.invalid,invalidText:e.invalidText})};function Dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Br=function(e){var t=e.diagnosticCenterUuid,n=e.maxActivatedDate,a=e.minActivatedDate,o=e.onDiagnosticCenterChanged,i=e.onMaxActivatedDateChanged,s=e.onMinActivatedDateChanged,c=e.testConceptUuid,u=e.onTestChanged,d=e.onFocusChanged,m=e.focus,A=e.enableFocus,p=e.enableWorksheetStatus,_=e.onWorksheetStatusChanged,v=e.worksheetStatus,f=e.enableTestRequestItemStatus,b=(e.testRequestItemStatuses,e.onTestRequestItemStatusesChanged),g=e.itemMatch,y=e.enableItemMatch,h=e.excluteItemMatchOptions,C=e.onItemMatchChanged,w=e.datePickerType,E=void 0===w?"single":w,S=e.enableSampleStatus,k=e.onSampleStatusesChanged,T=(e.sampleStatuses,e.enableStorage),O=e.onStorageChanged,N=e.disableLabSection,x=e.disableTests,I=e.enablePatient,D=e.onPatientChanged,R=(0,He.useTranslation)().t,B=rr().laboratoryConfig.laboratoryLocationTag,P=(0,r.useLocations)(B),q=Yn({active:!0}).items.results;return l().createElement(l().Fragment,null,"single"==E?l().createElement(ke.I4g,{className:Hn.dateInput,onChange:function(e){var t,n,r=(t=e,n=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Dr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dr(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return i(Bt(r))},dateFormat:"Y-m-d",datePickerType:"single",minDate:Dt(a),locale:"en",allowInput:!0},l().createElement(ke.Mjs,{hideLabel:!0,placeholder:R("laboratoryTestsFileterMaxActivatedDate","Max: YYYY-MM-DD"),labelText:"",type:"text",value:Dt(n),allowInput:!0}),n&&l().createElement(ke.qaq,{className:Hn.clearDate,kind:"ghost",onClick:function(){return i(null)},renderIcon:function(e){return l().createElement(Te.uO,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Rr(e,t,n[t])}))}return e}({size:16},e))}})):l().createElement(ke.I4g,{datePickerType:"range",className:Hn.dateInput,onChange:function(e){null==s||s(e[0]?Rt(e[0]):null),i(e[1]?Bt(e[1]):null)},dateFormat:"Y-m-d",locale:"en",allowInput:!0},l().createElement(ke.Mjs,{hideLabel:!0,placeholder:R("laboratoryTestsFileterMaxActivatedDate","From"),labelText:"",autoComplete:"off",type:"text",defaultValue:Dt(a),onChange:function(e){var t,n;0==(null!==(n=null==e||null===(t=e.target)||void 0===t?void 0:t.value)&&void 0!==n?n:"").length&&s(null)},allowInput:!0}),l().createElement(ke.Mjs,{hideLabel:!0,placeholder:R("laboratoryTestsFileterMaxActivatedDate","To"),labelText:"",autoComplete:"off",type:"text",defaultValue:Dt(n),onChange:function(e){var t,n;0==(null!==(n=null==e||null===(t=e.target)||void 0===t?void 0:t.value)&&void 0!==n?n:"").length&&i(null)},allowInput:!0})),A&&l().createElement(ke.qaq,{size:"sm",className:Hn.headerButton,kind:"ghost",onClick:function(e){e.stopPropagation(),d(!m)}},l().createElement(ke.qq6,{className:Hn.clearToggleMargin,size:"sm",labelText:R("focus","Focus"),labelA:"",labelB:"",key:m,defaultToggled:!m})),T&&l().createElement(wr,{name:"sampleStorageSearch",placeholder:R("laboratoryStorage","Storage"),onChange:function(e){return O(null==e?void 0:e.uuid)}}),y&&l().createElement(ke.M1e,{className:Hn.select,type:"text",labelText:"",onChange:function(e){return C(e.target.value)},value:g},l().createElement(ke.gV5,{text:R("laboratoryTestRequestItemMatchAll","All Tests"),value:""}),wn.map((function(e){return l().createElement(l().Fragment,null,(!h||h.indexOf(e)<0)&&l().createElement(ke.gV5,{title:R("TestRequestItemMatch".concat(e)),key:e,text:R("TestRequestItemMatch".concat(e)),value:e}))}))),S&&l().createElement(ke.ea0,{hideLabel:!0,useTitleInItem:!0,onChange:function(e){var t=e.selectedItems;t&&0!==t.length?k(t.reduce((function(e,t,n){return 0===n?t:e+=(e.length>0?",":"")+t}),"")):k(null)},inline:!0,placeholder:R("laboratorySampleStatus","Sample Status"),titleText:R("laboratorySampleStatus","Sample Status"),label:R("laboratorySampleStatus","Sample Status"),items:null!=ur?ur:[],itemToString:function(e){return e?R(e):""},selectionFeedback:"top-after-reopen"}),f&&l().createElement(ke.ea0,{hideLabel:!0,useTitleInItem:!0,onChange:function(e){var t=e.selectedItems;t&&0!==t.length?b(t.reduce((function(e,t,n){return 0===n?t:e+=(e.length>0?",":"")+t}),"")):b(null)},inline:!0,placeholder:R("laboratoryTestItemStatus","Test Status"),titleText:R("laboratoryTestItemStatus","Test Status"),label:R("laboratoryTestItemStatus","Test Status"),items:null!=bn?bn:[],itemToString:function(e){return e?R(e):""},selectionFeedback:"top-after-reopen"}),p&&l().createElement(ke.M1e,{className:Hn.select,type:"text",labelText:"",onChange:function(e){return _(e.target.value)},value:v},l().createElement(ke.gV5,{text:R("laboratoryAllWorksheetStatuses","All States"),value:""}),or.map((function(e){return l().createElement(ke.gV5,{title:R(e),key:e,text:R(e),value:e})}))),!x&&l().createElement(ke.M1e,{className:Hn.testSelect,type:"text",labelText:"",onChange:function(e){return u(e.target.value)},value:c},l().createElement(ke.gV5,{text:R("laboratoryAllTests","All Tests"),value:""}),q&&q.map((function(e){return l().createElement(ke.gV5,{title:En(e.testName,e.testShortName),key:e.testUuid,text:En(e.testName,e.testShortName),value:e.testUuid},En(e.testName,e.testShortName))}))),!N&&l().createElement(ke.M1e,{className:Hn.select,type:"text",labelText:"",onChange:function(e){return o(e.target.value)},value:t},l().createElement(ke.gV5,{text:R("laboratoryAllLabSections","All Lab Sections"),value:""}),P&&P.map((function(e){return l().createElement(ke.gV5,{title:e.display,key:e.uuid,text:e.display,value:e.uuid},e.display)}))),I&&l().createElement(Ir,{className:Hn.patient,title:"",placeholder:R("laboratoryPatient","Patient"),name:"patientUuid",onPatientUuidChange:function(e){return D(null==e?void 0:e.uuid)}}))};var Pr=n(9860),qr={};qr.styleTagTransform=Ue(),qr.setAttributes=qe(),qr.insert=Be().bind(null,"head"),qr.domAPI=De(),qr.insertStyleElement=Fe(),xe()(Pr.c,qr);const jr=Pr.c&&Pr.c.locals?Pr.c.locals:void 0,Fr=function(e){var t,n,r=e.testRequest,a=(0,He.useTranslation)().t;return l().createElement(ke.g$J,{className:jr.expandedRowAdditionInfo},l().createElement("div",{className:jr.expandedRowAdditionInfoTileField},l().createElement("p",{className:jr.productiveHeading01},a("laboratoryTestRequestDate","Request Date"),":"),l().createElement("ul",null,l().createElement("li",null,Pt(r.requestDate)))),r.referralFromFacilityName&&l().createElement("div",{className:jr.expandedRowAdditionInfoTileField},l().createElement("p",{className:jr.productiveHeading01},a("laboratoryReferralFacility","Referral Facility"),":"),l().createElement("ul",null,l().createElement("li",null,r.referralFromFacilityName))),r.referralInExternalRef&&l().createElement("div",{className:jr.expandedRowAdditionInfoTileField},l().createElement("p",{className:jr.productiveHeading01},a("laboratoryReferralReferenceNumber:","Referral Reference Number"),":"),l().createElement("ul",null,l().createElement("li",null,r.referralInExternalRef))),r.careSettingName&&l().createElement("div",{className:jr.expandedRowAdditionInfoTileField},l().createElement("p",{className:jr.productiveHeading01},a("caresetting","Care Setting"),":"),l().createElement("ul",null,l().createElement("li",null,r.careSettingName))),l().createElement("div",{className:jr.expandedRowAdditionInfoTileField},l().createElement("p",{className:jr.productiveHeading01},a("submittedby","Submitted By"),":"),l().createElement("ul",null,l().createElement("li",null,r.creatorFamilyName," ",r.creatorGivenName,r.atLocationName?", ".concat(r.atLocationName):""),l().createElement("li",null,qt(r.dateCreated)))),l().createElement("div",{className:"".concat(jr.expandedRowAdditionInfoTileField," ").concat(jr.expandedRowAdditionInfoTileFieldFillRow)},l().createElement("p",{className:jr.productiveHeading01},a("laboratoryTestClinicalNote","Clinical Note"),":"),l().createElement("ul",null,l().createElement("li",null,null!==(t=r.clinicalNote)&&void 0!==t?t:"N/A"))),r.requestReason&&l().createElement("div",{className:"".concat(jr.expandedRowAdditionInfoTileField," ").concat(jr.expandedRowAdditionInfoTileFieldFillRow)},l().createElement("p",{className:jr.productiveHeading01},a("laboratoryTestRequestReason","Request Reason"),":"),l().createElement("ul",null,l().createElement("li",null,null!==(n=r.requestReason)&&void 0!==n?n:"N/A"))))};var Lr="TEST_REQUEST_APPROVAL",Ur="TEST_RESULT_APPROVAL",zr="DISPOSE_SAMPLE",Mr=n(7648),Gr=n(6512),Hr={};Hr.styleTagTransform=Ue(),Hr.setAttributes=qe(),Hr.insert=Be().bind(null,"head"),Hr.domAPI=De(),Hr.insertStyleElement=Fe(),xe()(Gr.c,Hr);const Jr=Gr.c&&Gr.c.locals?Gr.c.locals:void 0;function Wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Vr=function(e){var t,n,a=e.children,i=e.menuTitle,s=e.hideMenuOnClick,c=e.render,u=e.menuDirection,d=(t=(0,o.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wr(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=d[0],A=d[1],p="tablet"===(0,r.useLayoutType)(),_=(0,o.useRef)(null),v=(0,o.useCallback)((function(){return A((function(e){return!e}))}),[]);(0,o.useEffect)((function(){var e=function(e){_.current&&!_.current.contains(e.target)&&A(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[_]);var f,b,g,y=(0,o.useCallback)((function(){s&&A(!1)}),[s]);return l().createElement("div",{"data-overflow-menu":!0,className:Dn()("cds--overflow-menu",Jr.container),ref:_},l().createElement("button",{className:Dn()("cds--btn","cds--btn--ghost","cds--overflow-menu__trigger",{"cds--overflow-menu--open":m},Jr.overflowMenuButton),"aria-haspopup":"true","aria-expanded":m,id:"custom-actions-overflow-menu-trigger","aria-controls":"custom-actions-overflow-menu",onClick:v},i),l().createElement("div",{className:Dn()("cds--overflow-menu-options","cds--overflow-menu--flip",Jr.menu,(f={},b=Jr.show,g=m,b in f?Object.defineProperty(f,b,{value:g,enumerable:!0,configurable:!0,writable:!0}):f[b]=g,f)),tabIndex:0,"data-floating-menu-direction":null!=u?u:"bottom",role:"menu","aria-labelledby":"custom-actions-overflow-menu-trigger",id:"custom-actions-overflow-menu"},l().createElement("ul",{className:Dn()("cds--overflow-menu-options__content",{"cds--overflow-menu-options--lg":p})},c&&c({onMenuItemClick:y}),a&&a),l().createElement("span",null)))};function Yr(e){var t,n,r,a,o,l=null==e||null===(n=e.responseBody)||void 0===n||null===(t=n.error)||void 0===t?void 0:t.fieldErrors;return l?Object.values(l).flatMap((function(e){return e.map((function(e){return e.message}))})):[null!==(o=null==e||null===(a=e.responseBody)||void 0===a||null===(r=a.error)||void 0===r?void 0:r.message)&&void 0!==o?o:null==e?void 0:e.message]}var Qr=function(e){return new Promise((function(t,n){var r;if(e){var a=document.getElementById("hdnTxtPrintLogo");if(a&&(null===(r=a.value)||void 0===r?void 0:r.length)>0){var o=a.getAttribute("isSvg");t({image:a.value,isSvg:"1"===o})}else if(e.toLowerCase().endsWith(".svg"))St(e,{headers:{"Disable-WWW-Authenticate":"true"}}).then((function(e){if(!e.ok)throw new Error("Print logo fetch network response was not OK");return e.text()})).then((function(e){a&&(a.value=e,a.setAttribute("isSvg","1")),t({image:e,isSvg:!0})})).catch((function(e){console.error("Error fetching print logo: ",e),n("Error fetching print logo")}));else{var l=new Image;l.addEventListener("load",(function(){try{var e=document.createElement("canvas");e.width=l.width,e.height=l.height;var r=e.getContext("2d");if(r){r.drawImage(l,0,0);var o=e.toDataURL("image/png");a&&(a.value=o,a.setAttribute("isSvg","0")),t({image:o,isSvg:!1})}else n("Failed to allocate canvas context for print logo")}catch(e){n(e)}})),l.addEventListener("error",(function(e){n(e)})),l.src=e}}else t(null)}))};function Kr(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function Zr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){Kr(o,r,a,l,i,"next",e)}function i(e){Kr(o,r,a,l,i,"throw",e)}l(void 0)}))}}function Xr(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}var $r,ea=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return'<html>\n<head>\n<meta http-equiv=Content-Type content="text/html; charset=utf8">\n<title>'.concat(null!=t?t:"","</title>\n<style>\n").concat('\n/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */\n\n/* Document\n   ========================================================================== */\n\n/**\n * 1. Correct the line height in all browsers.\n * 2. Prevent adjustments of font size after orientation changes in iOS.\n */\n\nhtml {\n  line-height: 1.15; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n}\n\n/* Sections\n   ========================================================================== */\n\n/**\n * Remove the margin in all browsers.\n */\n\nbody {\n  margin: 0;\n}\n\n/**\n * Render the main element consistently in IE.\n */\n\nmain {\n  display: block;\n}\n\n/**\n * Correct the font size and margin on h1 elements within section and\n * article contexts in Chrome, Firefox, and Safari.\n */\n\nh1 {\n  font-size: 2em;\n  margin: 0.67em 0;\n}\n\n/* Grouping content\n   ========================================================================== */\n\n/**\n * 1. Add the correct box sizing in Firefox.\n * 2. Show the overflow in Edge and IE.\n */\n\nhr {\n  box-sizing: content-box; /* 1 */\n  height: 0; /* 1 */\n  overflow: visible; /* 2 */\n}\n\n/**\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd em font sizing in all browsers.\n */\n\npre {\n  font-family: monospace, monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/* Text-level semantics\n   ========================================================================== */\n\n/**\n * Remove the gray background on active links in IE 10.\n */\n\na {\n  background-color: transparent;\n}\n\n/**\n * 1. Remove the bottom border in Chrome 57-\n * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.\n */\n\nabbr[title] {\n  border-bottom: none; /* 1 */\n  text-decoration: underline; /* 2 */\n  text-decoration: underline dotted; /* 2 */\n}\n\n/**\n * Add the correct font weight in Chrome, Edge, and Safari.\n */\n\nb,\nstrong {\n  font-weight: bold;\n}\n\n/**\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd em font sizing in all browsers.\n */\n\ncode,\nkbd,\nsamp {\n  font-family: monospace, monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/**\n * Add the correct font size in all browsers.\n */\n\nsmall {\n  font-size: 80%;\n}\n\n/**\n * Prevent sub and sup elements from affecting the line height in\n * all browsers.\n */\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/* Embedded content\n   ========================================================================== */\n\n/**\n * Remove the border on images inside links in IE 10.\n */\n\nimg {\n  border-style: none;\n}\n\n/* Forms\n   ========================================================================== */\n\n/**\n * 1. Change the font styles in all browsers.\n * 2. Remove the margin in Firefox and Safari.\n */\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  line-height: 1.15; /* 1 */\n  margin: 0; /* 2 */\n}\n\n/**\n * Show the overflow in IE.\n * 1. Show the overflow in Edge.\n */\n\nbutton,\ninput { /* 1 */\n  overflow: visible;\n}\n\n/**\n * Remove the inheritance of text transform in Edge, Firefox, and IE.\n * 1. Remove the inheritance of text transform in Firefox.\n */\n\nbutton,\nselect { /* 1 */\n  text-transform: none;\n}\n\n/**\n * Correct the inability to style clickable types in iOS and Safari.\n */\n\nbutton,\n[type="button"],\n[type="reset"],\n[type="submit"] {\n  -webkit-appearance: button;\n}\n\n/**\n * Remove the inner border and padding in Firefox.\n */\n\nbutton::-moz-focus-inner,\n[type="button"]::-moz-focus-inner,\n[type="reset"]::-moz-focus-inner,\n[type="submit"]::-moz-focus-inner {\n  border-style: none;\n  padding: 0;\n}\n\n/**\n * Restore the focus styles unset by the previous rule.\n */\n\nbutton:-moz-focusring,\n[type="button"]:-moz-focusring,\n[type="reset"]:-moz-focusring,\n[type="submit"]:-moz-focusring {\n  outline: 1px dotted ButtonText;\n}\n\n/**\n * Correct the padding in Firefox.\n */\n\nfieldset {\n  padding: 0.35em 0.75em 0.625em;\n}\n\n/**\n * 1. Correct the text wrapping in Edge and IE.\n * 2. Correct the color inheritance from fieldset elements in IE.\n * 3. Remove the padding so developers are not caught out when they zero out\n *    fieldset elements in all browsers.\n */\n\nlegend {\n  box-sizing: border-box; /* 1 */\n  color: inherit; /* 2 */\n  display: table; /* 1 */\n  max-width: 100%; /* 1 */\n  padding: 0; /* 3 */\n  white-space: normal; /* 1 */\n}\n\n/**\n * Add the correct vertical alignment in Chrome, Firefox, and Opera.\n */\n\nprogress {\n  vertical-align: baseline;\n}\n\n/**\n * Remove the default vertical scrollbar in IE 10+.\n */\n\ntextarea {\n  overflow: auto;\n}\n\n/**\n * 1. Add the correct box sizing in IE 10.\n * 2. Remove the padding in IE 10.\n */\n\n[type="checkbox"],\n[type="radio"] {\n  box-sizing: border-box; /* 1 */\n  padding: 0; /* 2 */\n}\n\n/**\n * Correct the cursor style of increment and decrement buttons in Chrome.\n */\n\n[type="number"]::-webkit-inner-spin-button,\n[type="number"]::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/**\n * 1. Correct the odd appearance in Chrome and Safari.\n * 2. Correct the outline style in Safari.\n */\n\n[type="search"] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/**\n * Remove the inner padding in Chrome and Safari on macOS.\n */\n\n[type="search"]::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/**\n * 1. Correct the inability to style clickable types in iOS and Safari.\n * 2. Change font properties to inherit in Safari.\n */\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/* Interactive\n   ========================================================================== */\n\n/*\n * Add the correct display in Edge, IE 10+, and Firefox.\n */\n\ndetails {\n  display: block;\n}\n\n/*\n * Add the correct display in all browsers.\n */\n\nsummary {\n  display: list-item;\n}\n\n/* Misc\n   ========================================================================== */\n\n/**\n * Add the correct display in IE 10+.\n */\n\ntemplate {\n  display: none;\n}\n\n/**\n * Add the correct display in IE 10.\n */\n\n[hidden] {\n  display: none;\n}\n/*!\n * Gutenberg\n *\n * MIT Fabien Sa\n * https://github.com/BafS/Gutenberg\n */\n\n* {\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n  }\n  \n  *,\n  *:before,\n  *:after,\n  p:first-letter,\n  div:first-letter,\n  blockquote:first-letter,\n  li:first-letter,\n  p:first-line,\n  div:first-line,\n  blockquote:first-line,\n  li:first-line {\n    background: transparent !important;\n    box-shadow: none !important;\n    text-shadow: none !important;\n  }\n  \n  html {\n    font-size: 16px;\n    margin: 0;\n    padding: 0;\n  }\n  \n  body {\n    -moz-osx-font-smoothing: grayscale;\n    -webkit-font-smoothing: antialiased;\n    background: #fff !important;\n    color: #000 !important;\n    font-family: IBM Plex Sans, system-ui, -apple-system, BlinkMacSystemFont, Arial, sans-serif, "Helvetica Neue", Helvetica;\n    font-size: 1rem;\n    line-height: 1.5;\n    margin: 0 auto;\n    text-rendering: optimizeLegibility;\n  }\n  \n  p,\n  blockquote,\n  table,\n  ul,\n  ol,\n  dl {\n    margin-bottom: 1.5rem;\n    margin-top: 0;\n  }\n  \n  p:last-child,\n  ul:last-child,\n  ol:last-child {\n    margin-bottom: 0;\n  }\n  \n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    color: #000;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    line-height: 1.2;\n    margin-bottom: 0.75rem;\n    margin-top: 0;\n  }\n  \n  h1 {\n    font-size: 2.5rem;\n  }\n  \n  h2 {\n    font-size: 2rem;\n  }\n  \n  h3 {\n    font-size: 1.75rem;\n  }\n  \n  h4 {\n    font-size: 1.5rem;\n  }\n  \n  h5 {\n    font-size: 1.25rem;\n  }\n  \n  h6 {\n    font-size: 1rem;\n  }\n  \n  a,\n  a:visited {\n    color: #000;\n    text-decoration: underline;\n    word-wrap: break-word;\n  }\n  \n  table {\n    border-collapse: collapse;\n  }\n  \n  thead {\n    display: table-header-group;\n  }\n  \n  table,\n  th,\n  td {\n    border-bottom: 1px solid #000;\n  }\n  \n  td,\n  th {\n    padding: 0px;\n    page-break-inside: avoid;\n  }\n  \n  code,\n  pre,\n  kbd {\n    border: 1px solid #bbb;\n    font-family: Menlo, Monaco, Consolas, "Courier New", monospace;\n    font-size: 85%;\n  }\n  \n  code,\n  kbd {\n    padding: 3px;\n  }\n  \n  pre {\n    margin-bottom: 1.5rem;\n    padding: 10px 12px;\n  }\n  \n  pre code,\n  pre kbd {\n    border: 0;\n  }\n  \n  ::-webkit-input-placeholder {\n    color: transparent;\n  }\n  \n  :-moz-placeholder {\n    color: transparent;\n  }\n  \n  ::-moz-placeholder {\n    color: transparent;\n  }\n  \n  :-ms-input-placeholder {\n    color: transparent;\n  }\n  \n  blockquote {\n    border: 0;\n    border-left: 5px solid #bbb;\n    margin-left: 1px;\n    padding: 12px 1.5rem;\n  }\n  \n  [dir=\'rtl\'] blockquote {\n    border-left: 0;\n    border-right: 5px solid #bbb;\n    margin-left: 0;\n    margin-right: 1px;\n  }\n  \n  blockquote:first-child {\n    margin-top: 0;\n  }\n  \n  blockquote p:last-child,\n  blockquote ul:last-child,\n  blockquote ol:last-child {\n    margin-bottom: 0;\n  }\n  \n  blockquote footer {\n    display: block;\n    font-size: 80%;\n  }\n  \n  img {\n    border: 0;\n    display: block;\n    max-width: 100% !important;\n    vertical-align: middle;\n  }\n  \n  hr {\n    border: 0;\n    border-bottom: 2px solid #bbb;\n    height: 0;\n    margin: 2.25rem 0;\n    padding: 0;\n  }\n  \n  dt {\n    font-weight: bold;\n  }\n  \n  dd {\n    margin: 0;\n    margin-bottom: 0.75rem;\n  }\n  \n  abbr[title],\n  acronym[title] {\n    border: 0;\n    text-decoration: none;\n  }\n  \n\n  blockquote,\n  pre,\n  code,\n  figure,\n  li,\n  hr,\n  ul,\n  ol,\n  a\n  {\n    page-break-inside: avoid;\n  }\n\ntable,  tr \n  {\n    page-break-inside: auto;\n  }\n  \n  h2,\n  h3,\n  h4,\n  p,\n  a {\n    orphans: 3;\n    widows: 3;\n  }\n  \n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    page-break-after: avoid;\n    page-break-inside: avoid;\n  }\n  \n  h1+p,\n  h2+p,\n  h3+p {\n    page-break-before: avoid;\n  }\n  \n  img {\n    page-break-after: auto;\n    page-break-before: auto;\n    page-break-inside: avoid;\n  }\n  \n  pre {\n    white-space: pre-wrap !important;\n    word-wrap: break-word;\n  }\n  \n  body {\n    padding-bottom: 1cm;\n    padding-left: 1cm;\n    padding-right: 1cm;\n    padding-top: 0.5cm;\n  }\n  \n  a[href^=\'http\']:after,\n  a[href^=\'ftp\']:after {\n    content: " (" attr(href) ")";\n    font-size: 80%;\n  }\n  \n  a[href$=\'.jpg\']:after,\n  a[href$=\'.jpeg\']:after,\n  a[href$=\'.gif\']:after,\n  a[href$=\'.png\']:after {\n    display: none;\n  }\n  \n  abbr[title]:after,\n  acronym[title]:after {\n    content: " (" attr(title) ")";\n  }\n  \n  .page-break,\n  .break-before,\n  .page-break-before {\n    page-break-before: always;\n  }\n  \n  .break-after,\n  .page-break-after {\n    page-break-after: always;\n  }\n  \n  .avoid-break-inside {\n    page-break-inside: avoid;\n  }\n  \n  .no-print {\n    display: none;\n  }\n  \n  a.no-reformat:after {\n    content: \'\';\n  }\n  \n  abbr[title].no-reformat:after,\n  acronym[title].no-reformat:after {\n    content: \'\';\n  }\n  \n  .no-reformat abbr:after,\n  .no-reformat acronym:after,\n  .no-reformat a:after {\n    content: \'\';\n  }\n  /*Custom CSS*/\n  .right {\n    display: flex;\n    justify-content: flex-end;\n    margin-left: auto;\n    margin-right: 0;\n  }  \n  .text {\n    margin-top:0in;\n    margin-right:0in;\n    margin-bottom:3.0pt;\n    margin-left:0in;\n    line-height:106%;\n    font-size:12.5pt;\n  } \n  .logo-row {\n    width: 99%;\n  }\n  .logo {\n    width: 120;    \n    line-height:110%;\n    text-align: center;\n    margin-top: 4pt;\n    display:flex;\n    align-items: center;\n    flex-direction: column;\n  }\n  .logo img, .logo svg {\n    width: 52;\n    height: auto;\n  }\n  span.logo-text {\n    font-size:8.0pt;\n    display: block;\n    white-space:nowrap;\n    line-height: 110%;\n    margin-top: 4pt;\n  } \n  .header-row {\n    display: flex;\n    flex-direction: row;\n    align-items:center;\n    justify-content: space-between;\n    padding-bottom: 1rem;\n  }\n  .header-content{\n    flex-grow: 1;\n    display:flex;\n    flex-direction: column;\n    row-gap: 0.5rem;  \n    align-items: flex-end;  \n  }\n  .heading, .heading-row {\n    margin-left:12.75pt;\n    clear: both;\n  }\n  .heading {\n    font-size:14.5pt;\n    line-height:102%;\n  }\n  .heading-row, .heading-row table {    \n    font-size: 13.5pt;\n  }\n  .heading-row {\n    margin-top: 14pt;\n  }\n  .heading table, .heading-row table, .heading-row td {\n    border: 0;\n  }\n  .table-data {\n    border: 0;\n    border-collapse:collapse;\n    margin-left:6.95pt;\n    font-size:9.5pt;\n    width: 99%;\n    page-break-inside: auto;\n  }\n  .table-data td, .table-data th {\n    padding:0 5.75pt 0 5.15pt;\n  }\n  .table-data td, .table-data th {\n    border-top:none;\n    border-left:none;\n    border-right:solid black 1.0pt;\n    vertical-align: middle;\n    height: 15pt;\n  }\n  .table-data th {\n    border-bottom:double black 1.5pt;\n  }  \n  .table-data td {\n    border-bottom: 0.5pt solid black;\n    border-top: 1.0pt solid black;\n  }\n  .table-data tr:last-child td{\n    border-bottom: 1pt solid black;\n  }\n\n  .table-data th:first-child, .table-data td:first-child {\n    border-left:solid black 1.0pt;\n  }  \n  .center {\n    text-align: center;\n  }  \n  .left {\n    text-align: left;\n  }\n  .table-data tr.footer-field td {\n    height:32pt;\n    vertical-align: middle;\n  }\n  .field-label-nowrap { white-space: nowrap; }\n  .field-label { font-weight: bold; }\n  .health-center {display:flex; flex-direction:column; row-gap: 0.5rem;}\n  .health-center > div:first-child {font-weight: bold;}\n  .main-tbody > tr > td > table:last-of-type {margin-bottom:0;}\n  .test-remarks {font-family: Rockwell, Arial }\n  @page { size: auto;  margin: 0mm; }\n  @media print { \n    thead {display: table-header-group;} \n    tfoot {display: table-footer-group; height: 32pt;}\n    header { \n        position: fixed; \n        top: 0; \n        left:0;\n        height: 32pt;\n        width: 100%; \n    } \n\n    .page-footer-space {\n      margin: 0 10pt 5pt 10pt;\n    }\n\n    footer, .page-footer-space { \n        position: fixed; \n        bottom: 0; \n        left:0;\n        height: 32pt;         \n        width: 95%;\n    } \n} \n',"\n</style>\n").concat(r&&n?"<script>  \n  window.onfocus = function () { setTimeout(function () { window.close(); }, 500); }\n<\/script>":"",'\n</head>\n<body onload="').concat(n?"window.print()":"","\" style='word-wrap:break-word'  ").concat(r?'onafterprint="self.close()"':"",">\n    ").concat(e,"\n</body>\n</html>")},ta=($r=Zr((function(e,t){var n;return Xr(this,(function(r){switch(r.label){case 0:if(n=null,!e)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Qr(e)];case 2:return n=r.sent(),[3,4];case 3:return r.sent(),[3,4];case 4:return[2,n||t?'\n<div class="logo" >\n    '.concat(n?n.isSvg?n.image:"<img alt='' src='".concat(n.image,"' />"):"","\n    ").concat(t?"<span class='logo-text text'>".concat(t,"</span>"):"","\n</div>    \n    "):""]}}))})),function(e,t){return $r.apply(this,arguments)}),na=function(){var e=Zr((function(e,t,n){var r;return Xr(this,(function(a){switch(a.label){case 0:return[4,ta(e,t)];case 1:return r=a.sent(),[2,'\n<div class="header-row">\n'.concat(r,"\n").concat(null!=n?n:"","\n</div>    \n    ")]}}))}));return function(t,n,r){return e.apply(this,arguments)}}(),ra=function(e){var t;return e&&e.indexOf("\\n")>0?'<div class="health-center text" style="text-align:right;">\n    '.concat(null!==(t=e.split("\\n").map((function(e,t){return e?'<div style="font-size: '.concat(0==t?15:13,'pt;">').concat(e,"</div>"):null})).filter((function(e){return e})).join(""))&&void 0!==t?t:"","\n</div>"):'<div class="heading text center" style="text-transform: uppercase;font-size: 20pt;">\n      <b>'.concat(null!=e?e:"","</b>\n  </div>")},aa=function(e){setTimeout((function(){!function(e){var t=window.open("","Print-Window-".concat((new Date).getTime()));t&&(t.document.open(),t.document.write(e),t.document.close())}(e)}),300)};function oa(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function la(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){oa(o,r,a,l,i,"next",e)}function i(e){oa(o,r,a,l,i,"throw",e)}l(void 0)}))}}function ia(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}var sa=function(){var e=la((function(e,t,n,r,a,o){var l,i,s,c,u,d,m,A,p,_,v,f,b,g,y,h,C,w,E,S,k,T,O,N,x,I,D,R;return ia(this,(function(B){switch(B.label){case 0:return[4,na(null==e?void 0:e.laboratoryPrintLogoUri,null==e?void 0:e.laboratoryPrintLogoText,'\n<div class="header-content">\n  '.concat(ra(null==e?void 0:e.laboratoryHealthCenterName),"\n</div>\n        "))];case 1:return _=B.sent(),[2,' <table border="0" cellspacing="0" cellpadding="0" style="width:100%;border-bottom: none;border: none;margin-bottom:0;">\n    <thead>\n      <tr>\n        <td  style="width:100%;border-bottom: none;border: none;">\n          <div class="page-header-space"  style="width:100%;border-bottom: none;border: none;">'.concat(_,'         \n            <div class="heading text" style="text-align: center;padding-bottom: 0.6rem;text-transform: uppercase;font-weight: bold;">\n                <span>Laboratory Request</span>\n            </div></div>\n        </td>\n      </tr>\n    </thead>\n    <tbody class="main-tbody">\n      <tr>\n        <td style="width:100%;border-bottom: none;border: none;">    \n        \n        <table style="width:99%" class="table-data field-label-nowrap" border="0" cellspacing="0" cellpadding="0">            \n          <tr>\n              <td style="text-align: left;width: 10%;border-top:solid black 1.0pt;" class="field-label">Name:</td>\n              <td style="text-align: left;width: 40%;border-top:solid black 1.0pt;" class="field-value">').concat(null!==(g=null==n?void 0:n.referralFromFacilityName)&&void 0!==g?g:"".concat(null!==(v=null==n?void 0:n.patientFamilyName)&&void 0!==v?v:""," ").concat(null!==(f=null==n?void 0:n.patientMiddleName)&&void 0!==f?f:""," ").concat(null!==(b=null==n?void 0:n.patientGivenName)&&void 0!==b?b:""),'</td>\n              <td style="text-align: left;width: 10%;border-top:solid black 1.0pt;" class="field-label">Age:</td>\n              <td style="text-align: left;width: 40%;border-top:solid black 1.0pt;" class="field-value">').concat((null==n?void 0:n.referredIn)?"N/A":"".concat((null==t||null===(l=t.person)||void 0===l?void 0:l.age)?"".concat(null==t||null===(i=t.person)||void 0===i?void 0:i.age," yrs"):"Unknown","  |  <b>Gender:</b> ").concat("M"===(null==t||null===(s=t.person)||void 0===s?void 0:s.gender)?" Male":"F"===(null==t||null===(c=t.person)||void 0===c?void 0:c.gender)?" Female":null!==(y=null==t||null===(u=t.person)||void 0===u?void 0:u.gender)&&void 0!==y?y:"Unknown"),'</td>\n          </tr>\n          <tr>\n              <td style="text-align: left;width: 10%;" class="field-label">Identifier:</td>\n              <td style="text-align: left;width: 40%;" class="field-value">').concat(null!==(h=null==n?void 0:n.referralInExternalRef)&&void 0!==h?h:null==n?void 0:n.patientIdentifier,'</td>\n              <td style="text-align: left;width: 10%;" class="field-label">Request No:</td>\n              <td style="text-align: left;width: 40%;" class="field-value">').concat(null==n?void 0:n.requestNo,'</td>\n          </tr>\n          <tr>\n              <td style="text-align: left;width: 10%;" class="field-label">Location:</td>\n              <td style="text-align: left;width: 40%;" class="field-value">').concat(null==n?void 0:n.atLocationName,'</td>\n              <td style="text-align: left;width: 10%;" class="field-label">Received:</td>\n              <td style="text-align: left;width: 40%;" class="field-value">').concat(It(null==n?void 0:n.dateCreated),'</td>\n          </tr>\n          <tr>\n              <td style="text-align: left;width: 10%;" class="field-label">Requested By:</td>\n              <td style="text-align: left;width: 40%;" class="field-value">').concat((null==n?void 0:n.referredIn)?"Referral":"".concat(null!==(C=null==n?void 0:n.providerFamilyName)&&void 0!==C?C:""," ").concat(null!==(w=null==n?void 0:n.providerMiddleName)&&void 0!==w?w:""," ").concat(null!==(E=null==n?void 0:n.providerGivenName)&&void 0!==E?E:""),'</td>\n              <td style="text-align: left;width: 10%;" class="field-label">Submitted By:</td>\n              <td style="text-align: left;width: 40%;" class="field-value">').concat(null!==(S=null==n?void 0:n.creatorFamilyName)&&void 0!==S?S:""," ").concat(null!==(k=null==n?void 0:n.creatorGivenName)&&void 0!==k?k:"",'</td>\n          </tr>\n        </table>\n      <table style="width:99%;margin-left:6.95pt;margin-bottom:0.5rem;border-bottom:none;" border="0" cellspacing="0" cellpadding="0">\n          <tr>\n              <td style="text-align: ').concat((null==n?void 0:n.referredIn)?"center;border-bottom:none;padding-bottom:0.6rem;":"left;border-bottom:solid black 1.0pt;",'">\n                  <b><span>TESTS REQUESTED</span></b>\n              </td>\n          </tr>\n      </table>\n        ').concat((null==n?void 0:n.referredIn)?'\n        <table class="table-data" border="0" cellspacing="0" cellpadding="0">                     \n            <tr>\n              '.concat((null==n?void 0:n.referredIn)?'<th valign="middle" class="left" style="border-top:solid black 1.0pt;"><b>Sample Type</b></th>\n                <th valign="middle" style="border-top:solid black 1.0pt;"><b>Sample Reference</b></th>\n                <th valign="middle" style="border-top:solid black 1.0pt;"><b>Internal Reference</b></th>':'<th valign="middle" class="left" style="border-top:solid black 1.0pt;"><b>Test</b></th>',"                \n            </tr>            \n            ").concat((null==n?void 0:n.referredIn)&&null!==(T=null==n?void 0:n.samples.map((function(e){var t,a,o,l,i,s,c,u=null==n||null===(l=n.tests)||void 0===l||null===(o=l.filter((function(e){return!r||0==r.length||r.includes(e.uuid)})))||void 0===o||null===(a=o.filter((function(t){var n;return null===(n=t.samples)||void 0===n?void 0:n.some((function(t){return t.uuid==e.uuid}))})))||void 0===a||null===(t=a.map((function(e){return En(e.testName,e.testShortName)})))||void 0===t?void 0:t.sort((function(e,t){var n,r;return(null!==(n=null==e?void 0:e.toLocaleLowerCase())&&void 0!==n?n:"").localeCompare(null!==(r=null==t?void 0:t.toLocaleLowerCase())&&void 0!==r?r:"",void 0,{ignorePunctuation:!0})})),d=null==u?void 0:u.map((function(e,t){return'<tr>\n                      <td colspan="3" valign="middle"  '.concat(t<u.length-1?'style="border-bottom:none;border-top:none;"':'style="border-top:none;"',">").concat(t+1,". ").concat(e,"</td>                    \n                  </tr> ")})).join("");return d?'\n                <tr class="data-row">\n                    <td valign="middle" style="text-align:left;border-right:none;border-bottom:none;">'.concat(null!==(i=e.sampleTypeName)&&void 0!==i?i:"",'</td>\n                    <td valign="middle" style="text-align:center;border-left:none;border-right:none;border-bottom:none;">').concat(null!==(s=e.externalRef)&&void 0!==s?s:"",'</td>                    \n                    <td valign="middle" style="text-align:center;border-left:none;border-bottom:none;">').concat(null!==(c=e.accessionNumber)&&void 0!==c?c:"","</td>  \n                </tr>\n                ").concat(d):""})).join(""))&&void 0!==T?T:"","                   \n        </table>"):"<ol>".concat(null!==(O=null==n||null===(A=n.tests)||void 0===A||null===(m=A.filter((function(e){return!r||0==r.length||r.includes(e.uuid)})))||void 0===m||null===(d=m.map((function(e){return"<li>".concat(En(e.testName,e.testShortName)).concat(e.referredOut&&e.referralOutOrigin==un||e.status==vn?" (".concat([e.referredOut&&e.referralOutOrigin==un?o(mn,"Referred Out"):null,e.status==vn?o("Cancelled","Cancelled"):null].filter((function(e){return e})).join(", "),")"):"","</li>")})))||void 0===d?void 0:d.join(""))&&void 0!==O?O:"","</ol>"),'\n        </td>\n      </tr>\n    </tbody>\n    <tfoot>\n      <tr>\n        <td  style="width:100%;border-bottom: none;border: none;">          \n          <div class="page-footer-space">\n              <div style="display:flex;flex-direction:row;align-items:center;justify-content:space-between;">\n                  <div>').concat(null==n?void 0:n.requestNo,": ").concat(null!==(D=null==n?void 0:n.referralFromFacilityName)&&void 0!==D?D:"".concat(null!==(N=null==n?void 0:n.patientFamilyName)&&void 0!==N?N:""," ").concat(null!==(x=null==n?void 0:n.patientMiddleName)&&void 0!==x?x:""," ").concat(null!==(I=null==n?void 0:n.patientGivenName)&&void 0!==I?I:""),'</div>\n                  <div style="display:flex;flex-direction:column;align-items:flex-end;justify-content:flex-end;flex-grow:1;">\n                    <div>Printed Date: ').concat(It(new Date),"</div>\n                    <div>Printed By: ").concat(null!==(R=null==a||null===(p=a.person)||void 0===p?void 0:p.display)&&void 0!==R?R:"","</div>\n                  </div>\n              </div>\n          </div>\n        </td>\n      </tr>\n    </tfoot>\n\n  </table>\n\n</body>\n\n</html> \n    ")]}}))}));return function(t,n,r,a,o,l){return e.apply(this,arguments)}}(),ca=function(){var e=la((function(e,t,n,r,a,o){var l,i,s;return ia(this,(function(c){switch(c.label){case 0:return[4,sa(e,t,n,r,a,o)];case 1:return l=c.sent(),aa(ea(l,"Laboratory Request: ".concat(null!==(i=null==n?void 0:n.requestNo)&&void 0!==i?i:""),!0,null===(s=null==e?void 0:e.laboratoryCloseAfterPrint)||void 0===s||s)),[2]}}))}));return function(t,n,r,a,o,l){return e.apply(this,arguments)}}(),ua=n(7840),da={};da.styleTagTransform=Ue(),da.setAttributes=qe(),da.insert=Be().bind(null,"head"),da.domAPI=De(),da.insertStyleElement=Fe(),xe()(ua.c,da);const ma=ua.c&&ua.c.locals?ua.c.locals:void 0;function Aa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pa(e){return function(e){if(Array.isArray(e))return Aa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Aa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Aa(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _a=function(e){var t;return Boolean("Coded"===(null===(t=e.datatype)||void 0===t?void 0:t.display))},va=function(e){var t;return Boolean((null===(t=e.setMembers)||void 0===t?void 0:t.length)>0)},fa=function(e){var t,n;return Boolean("Text"===(null===(t=e.datatype)||void 0===t?void 0:t.display)||"Numeric"===(null===(n=e.datatype)||void 0===n?void 0:n.display)||!_a(e)&&!va(e))},ba=function(e){var t;return Boolean("Numeric"===(null===(t=e.datatype)||void 0===t?void 0:t.display))},ga=function(e){if(null==e||void 0===e)return!1;var t=Number(e);return isFinite(t)&&!Number.isNaN(t)},ya=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("Numeric"===(null==e||null===(t=e.datatype)||void 0===t?void 0:t.display)){var r,a,o=(r=Math).max.apply(r,pa([null==e?void 0:e.hiAbsolute,null==e?void 0:e.hiCritical,null==e?void 0:e.hiNormal].filter((function(e){return ga(e)})).map((function(e){return Number(e)})))),l=(a=Math).min.apply(a,pa([null==e?void 0:e.lowAbsolute,null==e?void 0:e.lowCritical,null==e?void 0:e.lowNormal].filter((function(e){return ga(e)})).map((function(e){return Number(e)}))));return ga(l)&&ga(o)?" (".concat(l," - ").concat(o).concat((null==e?void 0:e.units)?" ".concat(null==e?void 0:e.units):"",")"):ga(l)?" (".concat(l," - * ").concat((null==e?void 0:e.units)?" ".concat(null==e?void 0:e.units):"",")"):ga(o)?" ( * - ".concat(o).concat((null==e?void 0:e.units)?" ".concat(null==e?void 0:e.units):"",")"):n}return n},ha=function(e){var t;return null!==(t=null==e?void 0:e.units)&&void 0!==t?t:"N/A"},Ca=function(e){var t=ga(null==e?void 0:e.lowNormal)?null==e?void 0:e.lowNormal:"--",n=ga(null==e?void 0:e.hiNormal)?null==e?void 0:e.hiNormal:"--";return ga(null==e?void 0:e.hiNormal)&&ga(null==e?void 0:e.lowNormal)?"".concat(t," : ").concat(n):"N/A"};const wa=function(e){var t,n,r,a,o,i,s,c,u,d,m,A,p,_,v,f,b=e.testResult,g=e.testConcept,y=(0,He.useTranslation)().t,h=function(e){var t,n=e.concept;return l().createElement("span",{className:ma.valueWidget},null!==(t=null==n?void 0:n.units)&&void 0!==t?t:"N/A")},C=function(e){var t=e.concept,n=ga(null==t?void 0:t.lowNormal)?null==t?void 0:t.lowNormal:"--",r=ga(null==t?void 0:t.hiNormal)?null==t?void 0:t.hiNormal:"--";return l().createElement(l().Fragment,null,ga(null==t?void 0:t.hiNormal)&&ga(null==t?void 0:t.lowNormal)?l().createElement("div",null,l().createElement("span",null,n)," : ",l().createElement("span",null,r)):"N/A")},w=function(e){var t=e.groupMembers,n=e.testConcept,r=function(e){var t,r,a;return(null==n?void 0:n.uuid)==e?n:null!==(a=null==n||null===(t=n.setMembers)||void 0===t?void 0:t.find((function(t){return t.uuid==e})))&&void 0!==a?a:null==n||null===(r=n.answers)||void 0===r?void 0:r.find((function(t){return t.uuid==e}))};return l().createElement(l().Fragment,null,null==t?void 0:t.map((function(e,t){var n,a;return l().createElement("tr",{key:t,style:{height:"0.5rem"}},l().createElement("td",{style:{whiteSpace:"nowrap !important"}},null==e?void 0:e.concept.display),l().createElement("td",null,"object"==typeof e.value?e.value.display:e.value),l().createElement("td",null,l().createElement(C,{concept:r(null==e||null===(n=e.concept)||void 0===n?void 0:n.uuid)})),l().createElement("td",null,l().createElement(h,{concept:r(null==e||null===(a=e.concept)||void 0===a?void 0:a.uuid)})))})))};return l().createElement("div",{className:ma.results},l().createElement("section",{className:ma.section},(null==b?void 0:b.obs)?l().createElement("div",null,l().createElement("div",null,y("resultsBy","Results by")," ",l().createElement("strong",null,null!==(A=null==b?void 0:b.resultByFamilyName)&&void 0!==A?A:""," ",null!==(p=null==b?void 0:b.resultByMiddleName)&&void 0!==p?p:""," ",null!==(_=null==b?void 0:b.resultByGivenName)&&void 0!==_?_:""," "),y("on","On"),l().createElement("strong",null," ",qt(null==b?void 0:b.resultDate)," "),(null==b?void 0:b.atLocationName)&&l().createElement(l().Fragment,null," ",y("at","At"),l().createElement("strong",null," ",null==b?void 0:b.atLocationName))),null==b||null===(t=b.obs)||void 0===t?void 0:t.display,(null==b?void 0:b.remarks)&&l().createElement("div",null,l().createElement("h6",null,"Remarks:"),null!==(v=b.remarks)&&void 0!==v?v:""),(null==b?void 0:b.hasAttachment)&&l().createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",columnGap:"0.5rem",width:"100%",whiteSpace:"nowrap"}},l().createElement("h6",null,y("laboratoryTestResultFile","Test Result File"),":"),l().createElement("a",{target:"_blank",href:Ee(b.uuid)},l().createElement("strong",null,"Download"))),l().createElement("table",null,l().createElement("thead",null,l().createElement("tr",{style:{height:"0.5rem"}},l().createElement("th",{style:{height:"0.5rem"}},"Tests"),l().createElement("th",{style:{height:"0.5rem"}},"Result"),l().createElement("th",{style:{height:"0.5rem"}},"Reference Range"),l().createElement("th",{style:{height:"0.5rem"}},"Units"))),l().createElement("tbody",null,null!=(null==b||null===(n=b.obs)||void 0===n?void 0:n.value)&&void 0!==(null==b||null===(r=b.obs)||void 0===r?void 0:r.value)&&l().createElement("tr",{style:{height:"0.5rem"}},l().createElement("td",{style:{whiteSpace:"nowrap !important"}},l().createElement("span",null,null==b||null===(o=b.obs)||void 0===o||null===(a=o.order)||void 0===a?void 0:a.display)),l().createElement("td",null,l().createElement("span",null,null!==(f=null==b||null===(s=b.obs)||void 0===s||null===(i=s.value)||void 0===i?void 0:i.display)&&void 0!==f?f:null==b||null===(c=b.obs)||void 0===c?void 0:c.value)),l().createElement("td",null,l().createElement("span",null,l().createElement(C,{concept:g}))),l().createElement("td",null,l().createElement("span",null,l().createElement(h,{concept:g})))),(null==b||null===(d=b.obs)||void 0===d||null===(u=d.groupMembers)||void 0===u?void 0:u.length)>0&&l().createElement(w,{groupMembers:null==b||null===(m=b.obs)||void 0===m?void 0:m.groupMembers,testConcept:g})))):"No test results"))};function Ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sa(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function ka(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){Sa(o,r,a,l,i,"next",e)}function i(e){Sa(o,r,a,l,i,"throw",e)}l(void 0)}))}}function Ta(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}var Oa=function(e,t){var n,r,a,o,l=null!==(o=null==t||null===(a=t.map((function(e){return{name:En(e.testName,e.testShortName),test:e}})))||void 0===a||null===(r=a.sort((function(e,t){var n,r,a,o;return(null!==(a=null==e||null===(n=e.name)||void 0===n?void 0:n.toLocaleLowerCase())&&void 0!==a?a:"").localeCompare(null!==(o=null==t||null===(r=t.name)||void 0===r?void 0:r.toLocaleLowerCase())&&void 0!==o?o:"",void 0,{ignorePunctuation:!0})})))||void 0===r||null===(n=r.map((function(e){var t,n,r,a,o,l,i,s,c,u,d,m,A,p,_,v,f,b,g,y,h,C;return'<tr>\n            <td colspan="4" valign="middle" style="padding-top: 4pt;padding-bottom: 4pt;">\n            <div style="display:flex;justify-content:space-between;align-items:center;"><div style="flex-grow:1"><div><b>'.concat(null!==(p=e.name)&&void 0!==p?p:"","</b></div>").concat((null==e||null===(n=e.test)||void 0===n||null===(t=n.testResult)||void 0===t?void 0:t.remarks)?'<span class="test-remarks">'.concat(null==e||null===(a=e.test)||void 0===a||null===(r=a.testResult)||void 0===r?void 0:r.remarks,"</span>"):"","</div>").concat((null==e||null===(i=e.test)||void 0===i||null===(l=i.testResult)||void 0===l||null===(o=l.approvals)||void 0===o?void 0:o.some((function(e){return"APPROVED"==e.approvalResult})))?'<div style="text-align: right;display:flex;align-items:center;flex-direction:column;justify-content:flex-end;">'.concat((g=null==e||null===(u=e.test)||void 0===u||null===(c=u.testResult)||void 0===c||null===(s=c.approvals)||void 0===s?void 0:s.find((function(e){return"APPROVED"==e.approvalResult})),"<div>Reviewed By <b>".concat("".concat(null!==(y=null==g?void 0:g.approvedByFamilyName)&&void 0!==y?y:""," ").concat(null!==(h=null==g?void 0:g.approvedByMiddleName)&&void 0!==h?h:""," ").concat(null!==(C=null==g?void 0:g.approvedByGivenName)&&void 0!==C?C:""),'</b></div><div style="white-space:nowrap;">').concat(It(null==g?void 0:g.approvalDate),"</div>")),"</div>"):'<div style="text-align: right;display:flex;align-items:center;flex-direction:column;justify-content:flex-end;">'.concat((_=null==e||null===(d=e.test)||void 0===d?void 0:d.testResult,"<div>Reviewed By <b>".concat("".concat(null!==(v=null==_?void 0:_.resultByFamilyName)&&void 0!==v?v:""," ").concat(null!==(f=null==_?void 0:_.resultByMiddleName)&&void 0!==f?f:""," ").concat(null!==(b=null==_?void 0:_.resultByGivenName)&&void 0!==b?b:""),'</b></div><div style="white-space:nowrap;">').concat(It(null==_?void 0:_.resultDate),"</div>")),"</div>"),"\n            </div></td>                    \n        </tr>").concat(function(e,t){var n,r,a,o,l,i,s,c,u,d,m,A,p,_,v="",f=(null==e||null===(r=e.obs)||void 0===r||null===(n=r.groupMembers)||void 0===n?void 0:n.length)>0;return null!=(null==e||null===(a=e.obs)||void 0===a?void 0:a.value)&&void 0!==(null==e||null===(o=e.obs)||void 0===o?void 0:o.value)&&(v='\n<tr class="data-row">\n  <td valign="middle" style="text-align:left; white-space: nowrap;'.concat(f?"":"border-style-bottom:double;border-style-top:double;",'">').concat(null!==(m=null==e||null===(s=e.obs)||void 0===s||null===(i=s.order)||void 0===i?void 0:i.display)&&void 0!==m?m:"",'</td>\n  <td valign="middle" style="text-align:center;').concat(f?"":"border-style-bottom:double;border-style-top:double;",'">').concat(null!==(A=null==e||null===(u=e.obs)||void 0===u||null===(c=u.value)||void 0===c?void 0:c.display)&&void 0!==A?A:null==e||null===(d=e.obs)||void 0===d?void 0:d.value,'\n  </td>                    \n  <td valign="middle" style="text-align:center;').concat(f?"":"border-style-bottom:double;border-style-top:double;",'">').concat(null!==(p=Ca(t))&&void 0!==p?p:"",'</td>                    \n  <td valign="middle" style="text-align:center;').concat(f?"":"border-style-bottom:double;border-style-top:double;",'">').concat(null!==(_=ha(t))&&void 0!==_?_:"","</td>   \n</tr>")),"".concat(v).concat(f?function(e,t,n){var r,a,o,l=(null!==(a=null==e?void 0:e.length)&&void 0!==a?a:0)-1;return null!==(o=null==e||null===(r=e.map((function(e,n){var r,a,o,i,s,c,u,d,m=(a=null==e||null===(r=e.concept)||void 0===r?void 0:r.uuid,(null==t?void 0:t.uuid)==a?t:null!==(s=null==t||null===(o=t.setMembers)||void 0===o?void 0:o.find((function(e){return e.uuid==a})))&&void 0!==s?s:null==t||null===(i=t.answers)||void 0===i?void 0:i.find((function(e){return e.uuid==a})));return'\n<tr class="data-row">\n  <td valign="middle" style="text-align:left; white-space: nowrap;'.concat(l==n?"border-bottom-style:double;":"",'">').concat(null!==(c=null==e?void 0:e.concept.display)&&void 0!==c?c:"",'</td>\n  <td valign="middle" style="text-align:center;').concat(l==n?"border-bottom-style:double;":"",'">').concat("object"==typeof e.value?e.value.display:e.value,'\n  </td>                    \n  <td valign="middle" style="text-align:center;').concat(l==n?"border-bottom-style:double;":"",'">').concat(null!==(u=Ca(m))&&void 0!==u?u:"",'</td>                    \n  <td valign="middle" style="text-align:center;').concat(l==n?"border-bottom-style:double;":"",'">').concat(null!==(d=ha(m))&&void 0!==d?d:"","</td>   \n</tr>")})))||void 0===r?void 0:r.join(""))&&void 0!==o?o:""}(null==e||null===(l=e.obs)||void 0===l?void 0:l.groupMembers,t,null==e||e.remarks):"")}(null==e||null===(m=e.test)||void 0===m?void 0:m.testResult,null==e||null===(A=e.test)||void 0===A?void 0:A.testConcept))})))||void 0===n?void 0:n.join(""))&&void 0!==o?o:"";return l?'<table class="table-data" border="0" cellspacing="0" cellpadding="0">                     \n        <tr>\n            <th valign="middle" class="left" style="border-top:solid black 1.0pt;"><b>Test</b></th>\n            <th valign="middle" style="border-top:solid black 1.0pt;"><b>Result</b></th>\n            <th valign="middle" style="border-top:solid black 1.0pt;"><b>Ranges</b></th>\n            <th valign="middle" class="left" style="border-top:solid black 1.0pt;"><b>Unit</b></th>             \n        </tr>\n        '.concat(l,"\n      </table>"):""},Na=function(e,t){var n;return null!==(n=null==e?void 0:e.samples.map((function(n){var r,a,o,l,i,s=null==e||null===(r=e.tests)||void 0===r?void 0:r.filter((function(e){var t;return null===(t=e.samples)||void 0===t?void 0:t.some((function(e){return e.uuid==n.uuid}))}));return 0==(null!==(a=null==s?void 0:s.length)&&void 0!==a?a:0)?"":'\n        <div style="margin-left:6.95pt;"><b>'.concat(t("type","Type"),":</b> ").concat(null!==(o=n.sampleTypeName)&&void 0!==o?o:""," | <b>").concat(t("external","External"),":</b> ").concat(null!==(l=n.externalRef)&&void 0!==l?l:""," | <b>").concat(t("internal","Internal"),":</b> ").concat(null!==(i=n.accessionNumber)&&void 0!==i?i:"","</div>\n        ").concat(Oa(0,s))})).join(""))&&void 0!==n?n:""},xa=function(){var e=ka((function(e,t,n,r,a,o){var l,i,s,c,u,d,m,A,p,_,v,f,b,g,y,h,C,w,E,S,k,T,O,N,x,I,D;return Ta(this,(function(r){switch(r.label){case 0:return p=null==n||null===(l=n.tests)||void 0===l?void 0:l.map((function(e){var t,n,r,a;return[(null===(t=e.testResult)||void 0===t?void 0:t.completedDate)?it()(null===(n=e.testResult)||void 0===n?void 0:n.completedDate).toDate():null,(null===(r=e.testResult)||void 0===r?void 0:r.resultDate)?it()(null===(a=e.testResult)||void 0===a?void 0:a.resultDate).toDate():null]})).flatMap((function(e){return e})).filter((function(e){return e})).reduce((function(e,t){return null==e||t.getTime()>e.getTime()?t:e}),null),[4,na(null==e?void 0:e.laboratoryPrintLogoUri,null==e?void 0:e.laboratoryPrintLogoText,'\n<div class="header-content">\n  '.concat(ra(null==e?void 0:e.laboratoryHealthCenterName),"\n</div>\n        "))];case 1:return _=r.sent(),[2,' \n  <table border="0" cellspacing="0" cellpadding="0" style="width:100%;border-bottom: none;border: none;margin-bottom:0;">\n    <thead>\n      <tr>\n        <td  style="width:100%;border-bottom: none;border: none;">\n          <div class="page-header-space"  style="width:100%;border-bottom: none;border: none;">\n            '.concat(_,'          \n            <div class="heading text" style="text-align: center;padding-bottom: 0.6rem;text-transform: uppercase;font-weight: bold;">\n                <span>Laboratory Results</span>\n            </div>\n          </div>\n        </td>\n      </tr>\n    </thead>\n    <tbody class="main-tbody">\n      <tr>\n        <td style="width:100%;border-bottom: none;border: none;">    \n        \n        <table style="width:99%" class="table-data field-label-nowrap" border="0" cellspacing="0" cellpadding="0">            \n          <tr>\n              <td style="text-align: left;width: 10%;border-top:solid black 1.0pt;" class="field-label">Name:</td>\n              <td style="text-align: left;width: 40%;border-top:solid black 1.0pt;" class="field-value">').concat(null!==(g=null==n?void 0:n.referralFromFacilityName)&&void 0!==g?g:"".concat(null!==(v=null==n?void 0:n.patientFamilyName)&&void 0!==v?v:""," ").concat(null!==(f=null==n?void 0:n.patientMiddleName)&&void 0!==f?f:""," ").concat(null!==(b=null==n?void 0:n.patientGivenName)&&void 0!==b?b:""),'</td>\n              <td style="text-align: left;width: 10%;border-top:solid black 1.0pt;" class="field-label">Age:</td>\n              <td style="text-align: left;width: 40%;border-top:solid black 1.0pt;" class="field-value">').concat((null==n?void 0:n.referredIn)?"N/A":"".concat((null==t||null===(i=t.person)||void 0===i?void 0:i.age)?"".concat(null==t||null===(s=t.person)||void 0===s?void 0:s.age," yrs"):"Unknown","  |  <b>Gender:</b> ").concat("M"===(null==t||null===(c=t.person)||void 0===c?void 0:c.gender)?" Male":"F"===(null==t||null===(u=t.person)||void 0===u?void 0:u.gender)?" Female":null!==(y=null==t||null===(d=t.person)||void 0===d?void 0:d.gender)&&void 0!==y?y:"Unknown"),'</td>\n          </tr>\n          <tr>\n              <td style="text-align: left;width: 10%;" class="field-label">Identifier:</td>\n              <td style="text-align: left;width: 40%;" class="field-value">').concat(null!==(h=null==n?void 0:n.referralInExternalRef)&&void 0!==h?h:null==n?void 0:n.patientIdentifier,'</td>\n              <td style="text-align: left;width: 10%;" class="field-label">Request No:</td>\n              <td style="text-align: left;width: 40%;" class="field-value">').concat(null==n?void 0:n.requestNo,'</td>\n          </tr>\n          <tr>\n              <td style="text-align: left;width: 10%;" class="field-label">Received:</td>\n              <td style="text-align: left;width: 40%;" class="field-value">\n              <div>').concat(null==n?void 0:n.atLocationName,"</div> \n              ").concat(It(null==n?void 0:n.dateCreated),'</td>\n              <td style="text-align: left;width: 10%;" class="field-label">Reported:</td>\n              <td style="text-align: left;width: 40%;" class="field-value">').concat(It(p),'</td>\n          </tr>\n          <tr>\n              <td style="text-align: left;width: 10%;" class="field-label">Requested By:</td>\n              <td style="text-align: left;width: 40%;" class="field-value">').concat((null==n?void 0:n.referredIn)?"Referral":"".concat(null!==(C=null==n?void 0:n.providerFamilyName)&&void 0!==C?C:""," ").concat(null!==(w=null==n?void 0:n.providerMiddleName)&&void 0!==w?w:""," ").concat(null!==(E=null==n?void 0:n.providerGivenName)&&void 0!==E?E:""),'</td>\n              <td style="text-align: left;width: 10%;" class="field-label">Submitted By:</td>\n              <td style="text-align: left;width: 40%;" class="field-value">').concat(null!==(S=null==n?void 0:n.creatorFamilyName)&&void 0!==S?S:""," ").concat(null!==(k=null==n?void 0:n.creatorGivenName)&&void 0!==k?k:"",'</td>\n          </tr>\n          <tr>\n              <td style="text-align: left;" colspan="4" class="field-label">Tests Requested</td>\n          </tr>\n          <tr>\n              <td style="text-align: left;white-space:wrap;" colspan="4" class="field-value">').concat(Object.entries(null==n||null===(m=n.tests)||void 0===m?void 0:m.reduce((function(e,t){return e[En(t.testName,t.testShortName)]=!0,e}),{})).map((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Ea(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ea(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0];return r[1],a})).sort((function(e,t){var n,r;return(null!==(n=null==e?void 0:e.toLocaleLowerCase())&&void 0!==n?n:"").localeCompare(null!==(r=null==t?void 0:t.toLocaleLowerCase())&&void 0!==r?r:"",void 0,{ignorePunctuation:!0})})).join(", "),'</td>\n          </tr>\n        </table>\n      <table style="width:99%;margin-left:6.95pt;margin-bottom:0.5rem;border-bottom:none;" border="0" cellspacing="0" cellpadding="0">\n          <tr>\n              <td style="text-align: center;border-bottom:none;padding-bottom:0.6rem;">\n                  <b><span>TESTS RESULTS</span></b>\n              </td>\n          </tr>\n      </table>\n      ').concat(null!==(T=n.referredIn?Na(n,o):Oa(0,null==n?void 0:n.tests))&&void 0!==T?T:"",'      \n      <div style="margin: 10px;display: flex;width: 100%;flex-direction: "row";">\n          <span style="fontSize: 14px;margin-top: 20px;">Sign : .............................................&nbsp;\n            <span style="fontSize: 14px;marginLeft: 50px;">Date : ............................</span>\n          </span>\n        </div>\n    </td>\n   </tr> \n  </tbody>\n  <tfoot>\n    <tr>\n      <td  style="width:100%;border-bottom: none;border: none;">          \n        <div class="page-footer-space">\n            <div style="display:flex;flex-direction:row;align-items:center;justify-content:space-between;">\n                <div>').concat(null==n?void 0:n.requestNo,": ").concat(null!==(I=null==n?void 0:n.referralFromFacilityName)&&void 0!==I?I:"".concat(null!==(O=null==n?void 0:n.patientFamilyName)&&void 0!==O?O:""," ").concat(null!==(N=null==n?void 0:n.patientMiddleName)&&void 0!==N?N:""," ").concat(null!==(x=null==n?void 0:n.patientGivenName)&&void 0!==x?x:""),'</div>\n                <div style="display:flex;flex-direction:column;align-items:flex-end;justify-content:flex-end;flex-grow:1;">\n                  <div>Printed Date: ').concat(It(new Date),"</div>\n                  <div>Printed By: ").concat(null!==(D=null==a||null===(A=a.person)||void 0===A?void 0:A.display)&&void 0!==D?D:"","</div>\n                </div>\n            </div>\n        </div>\n      </td>\n    </tr>\n  </tfoot>\n\n</table>\n\n</body>\n\n</html> \n    ")]}}))}));return function(t,n,r,a,o,l){return e.apply(this,arguments)}}(),Ia=function(){var e=ka((function(e,t,n,r,a,o){var l,i,s;return Ta(this,(function(c){switch(c.label){case 0:return[4,xa(e,t,n,r,a,o)];case 1:return l=c.sent(),aa(ea(l,"Laboratory Results: ".concat(null!==(i=null==n?void 0:n.requestNo)&&void 0!==i?i:""),!0,null===(s=null==e?void 0:e.laboratoryCloseAfterPrint)||void 0===s||s)),[2]}}))}));return function(t,n,r,a,o,l){return e.apply(this,arguments)}}();function Da(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}var Ra=function(){var e,t=(e=function(e,t,n,a,o,l,i){var s,c,u,d,m,A,p,_,v,f,b,g,y,h,C,w;return function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,(function(E){switch(E.label){case 0:if(!t)return[2];E.label=1;case 1:return E.trys.push([1,9,10,11]),n(!0),u="CompletedResults"==e||"Results"==e,[4,(S={v:gt.Full,testRequest:t,allTests:!0,includeTestItemSamples:!0,samples:!0,includeTestItemTestResult:u,testResultApprovals:u},St("".concat(Y).concat(Ct(S)),{method:"GET",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal}))];case 2:if(!(null==(d=E.sent())?void 0:d.data)||0==(null!==(m=null==d||null===(c=d.data)||void 0===c||null===(s=c.results)||void 0===s?void 0:s.length)&&void 0!==m?m:0))return(0,r.showNotification)({title:o("laboratoryPrintError","Error Printing"),kind:"error",critical:!0,description:o("laboratoryPrintTestNotFound","Test not found")}),[2];if(A=d.data.results[0],u)if("CompletedResults"==e){if(null===(p=A.tests)||void 0===p||p.forEach((function(e){var t;e.testResult=(null===(t=e.testResult)||void 0===t?void 0:t.completed)?e.testResult:null})),A.tests=null!==(v=null===(_=A.tests)||void 0===_?void 0:_.filter((function(e){return e.testResult})))&&void 0!==v?v:[],0==A.tests.length)return(0,r.showNotification)({title:o("laboratoryPrintError","Error Printing"),kind:"error",critical:!0,description:o("laboratoryPrintNoCompletedTestResults","No completed test results")}),[2]}else if(A.tests=null!==(b=null===(f=A.tests)||void 0===f?void 0:f.filter((function(e){return e.testResult})))&&void 0!==b?b:[],0==A.tests.length)return(0,r.showNotification)({title:o("laboratoryPrintError","Error Printing"),kind:"error",critical:!0,description:o("laboratoryPrintNoTestResults","No test results")}),[2];return i&&(A.tests=null!==(y=null===(g=A.tests)||void 0===g?void 0:g.filter((function(e){return e.uuid==i})))&&void 0!==y?y:[],0==A.tests.length)?((0,r.showNotification)({title:o("laboratoryPrintError","Error Printing"),kind:"error",critical:!0,description:o("laboratoryPrintTestReuqestNotFound","Test request not found")}),[2]):(h=null,(null==A?void 0:A.referredIn)||!(null==A?void 0:A.patientUuid)?[3,4]:[4,kr(null==A?void 0:A.patientUuid,null)]);case 3:if(!(C=E.sent()).data)return(0,r.showNotification)({title:o("laboratoryPrintError","Error Printing"),kind:"error",critical:!0,description:o("laboratoryPrintPatientNotFound","Patient information not found")}),[2];h=C.data,E.label=4;case 4:return"Request"!=e?[3,6]:[4,ca(a,h,A,null,l,o)];case 5:return E.sent(),[3,8];case 6:return"CompletedResults"!=e&&"Results"!=e?[3,8]:[4,Ia(a,h,A,null,l,o)];case 7:E.sent(),E.label=8;case 8:return[3,11];case 9:return w=E.sent(),n(!1),(0,r.showNotification)({title:o("laboratoryPrintError","Error Printing"),kind:"error",critical:!0,description:Yr(w)}),[3,11];case 10:return n(!1),[7];case 11:return[2]}var S}))},function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){Da(o,r,a,l,i,"next",e)}function i(e){Da(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(e,n,r,a,o,l,i){return t.apply(this,arguments)}}();function Ba(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pa(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function qa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ba(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ba(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const ja=function(e){var t=e.testRequestUuid,n=e.testRequestItemUuid,a=e.enableResults,i=(0,He.useTranslation)().t,s=(0,r.useSession)(),c=rr(),u=c.laboratoryConfig,d=c.configReady,m=qa((0,o.useState)(!1),2),A=m[0],p=m[1],_=qa((0,o.useState)(!1),2),v=_[0],f=_[1];(0,o.useEffect)((function(){f((null==s?void 0:s.user)&&(0,r.userHasAccess)(Wt,s.user)),p((null==a||a)&&(null==s?void 0:s.user)&&(0,r.userHasAccess)($t,s.user))}),[a,s.user]);var b=qa((0,o.useState)(!1),2),g=b[0],y=b[1],h=(0,o.useCallback)(function(){var e,r=(e=function(e){return function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,(function(r){return y(!0),Ra(e,t,y,u,i,null==s?void 0:s.user,n),[2]}))},function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){Pa(o,r,a,l,i,"next",e)}function i(e){Pa(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(e){return r.apply(this,arguments)}}(),[u,i,n,t,null==s?void 0:s.user]),C=(0,o.useCallback)((function(){return h("Request")}),[h]),w=(0,o.useCallback)((function(){return h("Results")}),[h]),E=(0,o.useCallback)((function(){return h("CompletedResults")}),[h]);return d?l().createElement(Vr,{hideMenuOnClick:!0,menuTitle:l().createElement(l().Fragment,null,g?l().createElement(ke.kp8,null):l().createElement(Mr.Ef,{size:16,style:{marginLeft:"0.3rem"}})),render:function(e){var t=e.onMenuItemClick;return l().createElement(l().Fragment,null,!g&&A&&l().createElement(l().Fragment,null,l().createElement(ke.YT$,{itemText:i("laboratoryPrintAllResults","All Results"),onClick:function(){null==t||t(),w()},style:{maxWidth:"100vw"}}),l().createElement(ke.YT$,{itemText:i("laboratoryPrintCompletedResults","Completed Results"),onClick:function(){null==t||t(),E()},style:{maxWidth:"100vw"}})),!g&&v&&l().createElement(ke.YT$,{itemText:i("laboratoryPrintRequest","Request"),onClick:function(){null==t||t(),C()},style:{maxWidth:"100vw"}}))}}):l().createElement(l().Fragment,null)};var Fa=function(e){var t,n,r;return e?(null==e?void 0:e.referralFromFacilityName)?null==e?void 0:e.referralFromFacilityName:"".concat(null!==(t=null==e?void 0:e.patientFamilyName)&&void 0!==t?t:""," ").concat(null!==(n=null==e?void 0:e.patientMiddleName)&&void 0!==n?n:""," ").concat(null!==(r=null==e?void 0:e.patientGivenName)&&void 0!==r?r:""):null},La=function(e){var t,n,r;return e?(null==e?void 0:e.referralFromFacilityName)?null==e?void 0:e.referralFromFacilityName:"".concat(null!==(t=null==e?void 0:e.patientFamilyName)&&void 0!==t?t:""," ").concat(null!==(n=null==e?void 0:e.patientMiddleName)&&void 0!==n?n:""," ").concat(null!==(r=null==e?void 0:e.patientGivenName)&&void 0!==r?r:""):null},Ua=function(e){var t,n,r;return e?(null==e?void 0:e.referralFromFacilityName)?null==e?void 0:e.referralFromFacilityName:"".concat(null!==(t=null==e?void 0:e.patientFamilyName)&&void 0!==t?t:""," ").concat(null!==(n=null==e?void 0:e.patientMiddleName)&&void 0!==n?n:""," ").concat(null!==(r=null==e?void 0:e.patientGivenName)&&void 0!==r?r:""):null};const za=function(e){var t,n,r,a,o=e.testRequest;return o?(null==o?void 0:o.referralFromFacilityName)?l().createElement(l().Fragment,null,null==o?void 0:o.referralFromFacilityName):l().createElement("a",{href:(a=o.patientUuid,"".concat(c,"patient/").concat(a,"/chart/laboratory-orders")),target:"_blank"},null!==(t=null==o?void 0:o.patientFamilyName)&&void 0!==t?t:""," ",null!==(n=null==o?void 0:o.patientMiddleName)&&void 0!==n?n:""," ",null!==(r=null==o?void 0:o.patientGivenName)&&void 0!==r?r:""):l().createElement(l().Fragment,null)};function Ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ga(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ga(e,t,n[t])}))}return e}function Ja(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Wa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ma(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ma(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Va=function(){var e=(0,He.useTranslation)().t,t=Wa((0,o.useState)(""),2),n=t[0],a=t[1],i=(0,r.useSession)(),s=Wa((0,o.useState)(!1),2),c=s[0],u=s[1],d=At().currentOrdersDate,m=Wa((0,o.useState)({}),2),A=m[0],p=m[1];(0,o.useEffect)((function(){u((null==i?void 0:i.user)&&(0,r.userHasAccess)(Vt,i.user))}),[]);var _=sn({v:gt.Full,itemStatus:An,minActivatedDate:d,testConceptTests:!1}),v=_.isLoading,f=_.items,b=_.totalCount,g=_.currentPageSize,y=_.pageSizes,h=_.currentPage,C=_.setCurrentPage,w=_.setPageSize,E=_.setSearchString,S=_.isValidating,k=_.loaded,T=_.setMinActivatedDate,O=_.minActivatedDate,N=_.setMaxActivatedDate,x=_.maxActivatedDate,I=(_.testConcept,_.setTestConcept),D=_.itemLocation,R=_.setItemLocation,B=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){return E(e)}),300)}),[E]);(0,o.useEffect)((function(){O!==d&&T(d)}),[d,O,T]);var P=[{id:0,header:e("date","Date"),key:"date"},{id:1,header:e("laboratoryRequestNumber","Request Number"),key:"requestNumber"},{id:2,header:e("laboratoryRequestEntity","Entity"),key:"patient"},{id:3,header:e("Identification","Identification"),key:"identifier"},{id:5,header:e("orderer","Ordered By"),key:"orderer"},{id:6,header:e("urgency","Urgency"),key:"urgency"},{id:7,header:"",key:"actions"},{id:8,header:"detailsTests",key:"detailsTests"},{id:9,header:"detailsTests",key:"detailsInfo"}],q=[{id:0,header:e("labSection","Lab Section"),key:"toLocationName"},{id:1,header:e("laboratoryTest","Test"),key:"testName"},{id:2,header:e("order#","Order#"),key:"orderNumber"},{id:2,header:"details",key:"details"}],j=(0,o.useMemo)((function(){return null==f?void 0:f.map((function(e,t){var n,a,o,i,s,c;return{id:null==e?void 0:e.uuid,dateCreated:e.dateCreated,date:l().createElement("span",{className:zt["single-line-display"]},(0,r.formatDate)((0,r.parseDate)(null==e?void 0:e.dateCreated))),patient:l().createElement(za,{testRequest:e}),identifier:null!==(a=null==e?void 0:e.referralInExternalRef)&&void 0!==a?a:null==e?void 0:e.patientIdentifier,requestNumber:null==e?void 0:e.requestNo,orderer:"".concat(null!==(o=null==e?void 0:e.providerFamilyName)&&void 0!==o?o:""," ").concat(null!==(i=null==e?void 0:e.providerMiddleName)&&void 0!==i?i:""," ").concat(null!==(s=null==e?void 0:e.providerGivenName)&&void 0!==s?s:""),urgency:null==e?void 0:e.urgency,actions:l().createElement(ja,{testRequestUuid:e.uuid,enableResults:!1}),detailsInfo:l().createElement(Fr,{testRequest:e}),detailsTests:null!==(c=null==e||null===(n=e.tests)||void 0===n?void 0:n.sort((function(e,t){var n,r,a,o;return(null===(n=e.toLocationName)||void 0===n?void 0:n.localeCompare(t.toLocationName,void 0,{ignorePunctuation:!0}))||(null===(r=null!==(a=e.testName)&&void 0!==a?a:e.testShortName)||void 0===r?void 0:r.localeCompare(null!==(o=t.testName)&&void 0!==o?o:t.testShortName,void 0,{ignorePunctuation:!0}))})).map((function(e){return{id:e.uuid,toLocationName:e.toLocationName,testName:En(e.testName,e.testShortName),orderNumber:e.orderNumber,atLocationName:e.atLocationName,details:e.uuid}})))&&void 0!==c?c:[]}}))}),[f]),F=function(){p({})},L=function(){zn(Y)},U=function(){return f.filter((function(e){var t;return A[e.uuid]&&Object.keys(null===(t=A[e.uuid])||void 0===t?void 0:t.tests).length>0})).sort((function(e,t){var n,r;return Object.keys(null===(n=A[t.uuid])||void 0===n?void 0:n.tests).length-Object.keys(null===(r=A[e.uuid])||void 0===r?void 0:r.tests).length})).map((function(e){var t,n;return l().createElement("div",{className:"laboratory-test-request-approve-item"},l().createElement("p",null,e.requestNo,": ",e.patientFamilyName," ",e.patientMiddleName," ",e.patientGivenName),l().createElement("ul",null,null===(n=e.tests)||void 0===n||null===(t=n.filter((function(t){var n,r;return null===(r=A[e.uuid])||void 0===r||null===(n=r.tests)||void 0===n?void 0:n[t.uuid]})))||void 0===t?void 0:t.map((function(e){return l().createElement("li",null,e.orderNumber," -"," ",En(e.testName,e.testShortName))}))))}))},z=(0,o.useCallback)((function(e){return cn({actionType:Lr,action:qn,remarks:e,records:Object.entries(A).map((function(e){var t=Wa(e,2),n=(t[0],t[1]);return Object.keys(n.tests)})).flatMap((function(e){return e}))})}),[A]),M=(0,o.useCallback)((function(e){return cn({actionType:Lr,action:jn,remarks:e,records:Object.entries(A).map((function(e){var t=Wa(e,2),n=(t[0],t[1]);return Object.keys(n.tests)})).flatMap((function(e){return e}))})}),[A]),G=(0,o.useCallback)((function(){var t=(0,r.showModal)("lab-approve-test-request-dialog",{closeModal:function(e){e&&(F(),L()),t()},approvalTitle:e("laboratoryTestRequestCancelTests","Cancel Tests"),approvalDescription:U(),remarksTextLabel:e("laboratoryApproveRejectReason","Reason for rejection"),actionButtonLabel:e("reject","Reject"),remarksRequired:!0,approveCallback:M,kind:"danger",successMessageTitle:e("laboratoryTestRequestCancelTests","Cancel Tests"),successMessageBody:e("laboratoryTestRequestCanceTestsSuccess","Tests cancelled successfully")})}),[U,M]),H=(0,o.useCallback)((function(){var t=(0,r.showModal)("lab-approve-test-request-dialog",{closeModal:function(e){e&&(F(),L()),t()},approvalTitle:e("laboratoryTestRequestApprovedTests","Accept Tests"),approvalDescription:U(),remarksTextLabel:e("laboratoryApproveRemarks","Remarks (optional)"),actionButtonLabel:e("accept","Accept"),remarksRequired:!1,approveCallback:z,kind:"primary",successMessageTitle:e("laboratoryTestRequestApprovedTests","Accept Tests"),successMessageBody:e("laboratoryTestRequestApprovedTestsSuccess","Tests accepted successfully")})}),[U,z]);return v&&!k?l().createElement(ke.m2V,{role:"progressbar"}):l().createElement(l().Fragment,null,(v||S)&&k&&l().createElement(ke.cHM,{size:"small",type:"indented",status:"status",label:"",hideLabel:!0,className:zt.progressBarThin}),l().createElement(ke.iSL,{rows:j,headers:P,isSortable:!0,useZebraStyles:!0,overflowMenuOnHover:!0,render:function(t){var o,i=t.rows,s=t.headers,u=t.getHeaderProps,d=t.getTableProps,m=t.getRowProps,_=t.getBatchActionProps,v=t.getSelectionProps,b=t.getToolbarProps,g=(t.selectedRows,Object.entries(A).reduce((function(e,t){var n=Wa(t,2),r=(n[0],n[1]);e.allCount=e.allCount+(r.allTests?1:0);var a=Object.keys(r.tests).length;return e.testsCount=e.testsCount+a,e.someCount=e.someCount+(r.allTests||a>0?1:0),e}),{allCount:0,someCount:0,testsCount:0})),y=Ha({},_({shouldShowBatchActions:g.someCount>0||g.allCount>0,totalCount:f.length,totalSelected:g.someCount,translateWithId:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{totalSelected:0,totalCount:0};return n.totalSelected,n.totalCount,"carbon.table.batch.cancel"===t?e("cancel","Cancel"):"carbon.table.batch.selectAll"===t?"".concat(e("selectAll","Select all")," (").concat(f.length,")"):"".concat(g.someCount," ").concat(e("requests(s)","requests(s)")," ").concat(g.testsCount," ").concat(e("test(s)","test(s)")," ").concat(e("selected","Selected"))},style:{display:g.someCount>0||g.allCount>0?"":"none"}}),{shouldShowBatchActions:g.someCount>0||g.allCount>0,totalCount:f.length,totalSelected:g.someCount,onCancel:F});return l().createElement(ke._tR,{className:zt.tableContainer},l().createElement(ke.MBp,Ja(Ha({},b()),{style:{position:g.someCount>0||g.allCount>0?"inherit":"static",margin:0}}),l().createElement(ke.a_I,y,c&&l().createElement(l().Fragment,null,l().createElement(ke.eXR,{renderIcon:Mt.aU,iconDescription:e("LaboratoryApproveTest","Accept Test(s)"),onClick:H},e("laboratoryApproveTestRequest","Accept Test(s)")),l().createElement(ke.eXR,{kind:"danger",renderIcon:tt.fT,iconDescription:e("LaboratoryCancelTest","Cancel Test(s)"),onClick:G},e("laboratoryApproveTestRequest","Cancel Test(s)")))),l().createElement(ke.aGn,{style:{display:"flex",alignItems:"center"}},l().createElement(ke.OWJ,{persistent:!0,value:n,onChange:function(e){return t=e.target.value,a(t),void B(t);var t}}),l().createElement(Br,{maxActivatedDate:x,minActivatedDate:O,diagnosticCenterUuid:D,onMaxActivatedDateChanged:N,onDiagnosticCenterChanged:R,onTestChanged:I}))),l().createElement(ke.oJK,Ja(Ha({},d()),{className:zt.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,l().createElement(ke.ugy,null),c&&l().createElement(ke.Wgb,Ja(Ha({},v({onClick:function(e){var t={};e.target.checked&&f.reduce((function(e,t){var n;return e[t.uuid]={allTests:!0,tests:{}},e[t.uuid].tests=null===(n=t.tests)||void 0===n?void 0:n.reduce((function(e,t){return e[t.uuid]=!0,e}),e[t.uuid].tests),e}),t),p(t)}})),{checked:f.length>0&&g.allCount==f.length,indeterminate:g.allCount!=f.length&&g.someCount>0})),s.map((function(e){var t,n;return!e.key.startsWith("details")&&l().createElement(ke.IEe,Ja(Ha({},u({header:e,isSortable:e.isSortable})),{className:r.isDesktop?zt.desktopHeader:zt.tabletHeader,key:"".concat(e.key)}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})),l().createElement(ke.IEe,null))),l().createElement(ke.qqV,null,i.map((function(e){var t,n,a,o;return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.cjO,Ja(Ha({className:r.isDesktop?zt.desktopRow:zt.tabletRow},m({row:e})),{key:e.id}),c&&l().createElement(Pn,Ja(Ha({},v({row:e})),{checked:Boolean(null===(t=A[e.id])||void 0===t?void 0:t.allTests),indeterminate:Boolean(!(null===(n=A[e.id])||void 0===n?void 0:n.allTests)&&(null===(a=A[e.id])||void 0===a?void 0:a.tests)&&Object.keys(null===(o=A[e.id])||void 0===o?void 0:o.tests).length>0),onChange:function(t,n){return r=n,a=e.id,(i=Ha({},A))[a]||(i[a]={tests:{},allTests:!1}),r.checked?(i[a].allTests=!0,i[a].tests=null==f||null===(l=f.find((function(e){return e.uuid==a})))||void 0===l||null===(o=l.tests)||void 0===o?void 0:o.reduce((function(e,t){return e[t.uuid]=!0,e}),{})):(i[a].allTests=!1,delete i[a].tests,i[a].tests={}),void p(i);var r,a,o,l,i}})),e.cells.map((function(e){var t;return!(null==e||null===(t=e.info)||void 0===t?void 0:t.header.startsWith("details"))&&l().createElement(ke.y6P,{key:e.id},e.value)}))),l().createElement(ke.Ocq,{className:zt.tableExpandedRow,colSpan:s.length+1},l().createElement("section",{className:zt.rowExpandedContent},l().createElement(On,{tests:e.cells[e.cells.length-2].value,tableHeaders:q,canApproveTestRequests:c,onSelectionChange:p,selectedItems:A,testRequestId:e.id,enableSelection:c}),e.cells[e.cells.length-1].value)))})))),0===(null!==(o=null==i?void 0:i.length)&&void 0!==o?o:0)?l().createElement("div",{className:zt.tileContainer},l().createElement(ke.g$J,{className:zt.tile},l().createElement("div",{className:zt.tileContent},l().createElement("p",{className:zt.content},e("noPendingApprovalsToDisplay","No pending tests to accept"))))):null)}}),l().createElement(ke.eML,{page:h,pageSize:g,pageSizes:y,totalItems:null!=b?b:0,onChange:function(e){var t=e.page,n=e.pageSize;C(t),w(n)},className:zt.paginationOverride}))};var Ya=n(2344),Qa=n(7256),Ka=n(7096),Za={};Za.styleTagTransform=Ue(),Za.setAttributes=qe(),Za.insert=Be().bind(null,"head"),Za.domAPI=De(),Za.insertStyleElement=Fe(),xe()(Ka.c,Za);const Xa=Ka.c&&Ka.c.locals?Ka.c.locals:void 0;var $a=n(7668),eo={};eo.styleTagTransform=Ue(),eo.setAttributes=qe(),eo.insert=Be().bind(null,"head"),eo.domAPI=De(),eo.insertStyleElement=Fe(),xe()($a.c,eo);const to=$a.c&&$a.c.locals?$a.c.locals:void 0;function no(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ro=function(e){var t=e.testRequest,n=(0,He.useTranslation)().t,a=(0,o.useCallback)((function(){var e=(0,r.showModal)("lab-register-sample-dialog",{closeModal:function(t){e()},testRequest:t})}),[]);return l().createElement(ke.qaq,{size:"sm",className:to.headerButton,iconDescription:"Add Sample",hasIcon:!0,renderIcon:function(e){return l().createElement(Oe.OM,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){no(e,t,n[t])}))}return e}({},e),n=null!=(n={size:16})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t));var t,n},kind:"ghost",onClick:a},n("laboratoryAddSample","Add Sample"))};function ao(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function oo(){var e;return e=function(e){var t;return function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,(function(n){return t=new AbortController,[2,(0,r.openmrsFetch)((a=e,"".concat(r.restBaseUrl,"/generatesampleId?uuid=").concat(null!=a?a:"")),{method:"GET",headers:{"Content-Type":"application/json"},signal:t.signal})];var a}))},oo=function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){ao(o,r,a,l,i,"next",e)}function i(e){ao(o,r,a,l,i,"throw",e)}l(void 0)}))},oo.apply(this,arguments)}var lo=function(e,t){return"ugemr"===e?function(e){return oo.apply(this,arguments)}().then((function(e){return Promise.resolve(e.data.results[0].sampleId)}),(function(e){return Promise.reject(e)})):(n=t,St((r=n,"".concat(m,"/").concat(r,"/identifier")),{method:"POST",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal,body:{}})).then((function(t){if("number_plain"==e)return Promise.resolve(t.data.identifier);if("date_number_48bit"==e){var n=kt(),r=BigInt(n.getFullYear())-BigInt(2024);r<BigInt(0)&&(r=BigInt(-1)*r);var a=BigInt(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=(e.getDay()+6)%7,n=new Date(e);n.setDate(e.getDate()-t+3);var r,a=new Date(n.getFullYear(),0,1);return 4!==a.getDay()&&a.setMonth(0,1+(11-a.getDay())%7),1+Math.floor((n.getTime()-a.getTime()+(r=n,6e4*(a.getTimezoneOffset()-r.getTimezoneOffset())))/6048e5)}(n)),o=r<<48n-7n;o|=a<<48n-7n-6n,o|=BigInt(n.getDay()+1)<<48n-7n-6n-3n;var l=(o|=BigInt(parseInt(t.data.identifier))<<48n-7n-6n-3n-32n).toString(16);if(l.length>4){var i=12-l.length;i>0&&(1==i?l="T"+l:2==i&&(l="LT"+l));for(var s=l.substring(0,4),c=l.substring(4),u=0;u<c.length&&"0"==c[u];u++){if(!(u+1<c.length)){c="";break}c=c.substring(u+1),u--}l=(s+c).toUpperCase()}return Promise.resolve(l)}var d=kt(),m=d.getFullYear().toString(),A=d.getMonth()+1;return Promise.resolve("".concat(m.substring(m.length-2)).concat(A<10?"0".concat(A):A.toString()).concat(d.getDate()<10?"0".concat(d.getDate()):d.getDate().toString()).concat(t.data.identifier))}),(function(e){return Promise.reject(e)}));var n,r},io=function(e){try{if(!e)return e;if(e.indexOf("-")>=0)return e;if(e.length>12)return e;var t=function(e){if(!e)return null;if(e.length<4)throw new Error("Invalid barcode");var t=4;e.startsWith("LT")?(t-=2,e=e.substring(2)):e.startsWith("T")&&(t-=1,e=e.substring(1));var n=e.substring(0,t),r=e.length>t?e.substring(t):"";e=n+r.padStart(8,"0");var a=BigInt("0x"+e),o=a>>48n-7n,l=a>>48n-7n-6n<<3n^a>>48n-7n-6n-3n,i=a>>48n-7n-6n-3n<<32n^a>>48n-7n-6n-3n-32n,s=function(e,t){if(e=parseFloat(e),t=parseFloat(t),e<1||e>53)throw new RangeError("ISO 8601 weeks are numbered from 1 to 53");if(!Number.isInteger(e))throw new TypeError("Week must be an integer");if(!Number.isInteger(t))throw new TypeError("Year must be an integer");var n=new Date(t,0,1+7*(e-1)),r=n.getDay(),a=n;if(a.setDate(n.getDate()-r+1),r>4&&a.setDate(a.getDate()+7),a.getFullYear()>t||a.getFullYear()==t&&11==a.getMonth()&&a.getDate()>28)throw new RangeError("".concat(t," has no ISO week ").concat(e));return a}(a>>48n-7n<<6n^a>>48n-7n-6n,o=BigInt(2024)+o);return s.setDate(s.getDate()+parseInt((l-BigInt(1)-BigInt(s.getDay())).toString())),{date:s,id:i.toString()}}(e);return(null==t?void 0:t.date)?"".concat(Rt(t.date),"-").concat(t.id):e}catch(e){}return e},so=n(9904),co={};co.styleTagTransform=Ue(),co.setAttributes=qe(),co.insert=Be().bind(null,"head"),co.domAPI=De(),co.insertStyleElement=Fe(),xe()(so.c,co);const uo=so.c&&so.c.locals?so.c.locals:void 0;function mo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ao=function(e){var t=e.reference,n=e.className,r=(e.sampleUuid,e.showPrint),a=e.sampleType,o=e.entityName,i=rr().laboratoryConfig.laboratoryBarcodePrintUri,s=io(t);return l().createElement("span",{title:s,className:"".concat(r?uo.showPrint:""," ").concat(null!=n?n:"")},l().createElement("span",null,t),r&&l().createElement(ke.qaq,{hasIconOnly:!0,className:uo.generateBtn,kind:"ghost",size:"sm",onClick:function(e){return n=t,void window.open(i.replace("%BARCODE%",n).replace("%TYPE%",a).replace("%NAME%",o),"_blank","noreferrer");var n},renderIcon:function(e){return l().createElement(Mr.Ef,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){mo(e,t,n[t])}))}return e}({size:16},e))}}))};const po=function(e){var t=e.sample,n=e.testRequest,a=e.refClassName,i=((0,He.useTranslation)().t,(0,o.useCallback)((function(){var e=(0,r.showModal)("lab-register-sample-dialog",{closeModal:function(t){e()},testRequest:n,sample:t})}),[]));return l().createElement(ke.qaq,{size:"sm",className:to.headerButton,iconDescription:"Edit Sample",kind:"ghost",onClick:i},l().createElement(Ao,{reference:t.accessionNumber,className:a,sampleType:t.sampleTypeName,entityName:Ua(n)}))};var _o=n(3588);function vo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const fo=function(e){var t=e.sample,n=e.testRequest,a=(e.refClassName,(0,He.useTranslation)().t),i=(0,o.useCallback)((function(){var e=(0,r.showModal)("lab-register-sample-dialog",{closeModal:function(t){e()},testRequest:n,sample:t})}),[]);return l().createElement(ke.qaq,{kind:"ghost",size:"md",onClick:i,iconDescription:a("editLaboratorySample","Edit Sample"),renderIcon:function(e){return l().createElement(_o._O,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){vo(e,t,n[t])}))}return e}({size:16},e))}})};var bo=n(7424);function go(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ho(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){yo(e,t,n[t])}))}return e}function Co(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return go(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?go(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wo(e){return St(te,{method:"POST",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal,body:e})}function Eo(e,t){return St("".concat(te,"/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal,body:t})}function So(e){(0,He.useTranslation)().t;var t=Co((0,o.useState)((function(){var t;return(null!==(t=null==e?void 0:e.startIndex)&&void 0!==t?t:0)+1})),2),n=t[0],a=t[1],l=Co((0,o.useState)((function(){var t;return null!==(t=null==e?void 0:e.limit)&&void 0!==t?t:10})),2),i=l[0],s=l[1],c=Co((0,o.useState)((function(){return null==e?void 0:e.q})),2),u=c[0],d=c[1],m=Co((0,o.useState)((function(){return null==e?void 0:e.testItemlocation})),2),A=m[0],p=m[1],_=Co((0,o.useState)((function(){return null==e?void 0:e.testConcept})),2),v=_[0],f=_[1],b=Co((0,o.useState)((function(){return null==e?void 0:e.reference})),2),g=b[0],y=b[1],h=Co((0,o.useState)((function(){return null==e?void 0:e.sampleType})),2),C=h[0],w=h[1],E=Co((0,o.useState)((function(){return null==e?void 0:e.patient})),2),S=E[0],k=E[1],T=Co((0,o.useState)((function(){return null==e?void 0:e.minCollectionDate})),2),O=T[0],N=T[1],x=Co((0,o.useState)(null==e?void 0:e.maxCollectionDate),2),I=x[0],D=x[1],R=Co((0,o.useState)((function(){return null==e?void 0:e.minActivatedDate})),2),B=R[0],P=R[1],q=Co((0,o.useState)((function(){return null==e?void 0:e.maxActivatedDate})),2),j=q[0],F=q[1],L=Co((0,o.useState)((function(){return null==e?void 0:e.urgency})),2),U=L[0],z=L[1],M=Co((0,o.useState)((function(){return null==e?void 0:e.referenceOrForWorksheet})),2),G=M[0],H=(M[1],Co((0,o.useState)((function(){return null==e?void 0:e.forWorksheet})),2)),J=H[0],W=(H[1],Co((0,o.useState)(),2)),V=W[0],Y=W[1],Q=Co((0,o.useState)((function(){return null})),2),K=Q[0],Z=Q[1],X=Co((0,o.useState)((function(){return null})),2),$=X[0],ee=X[1],ne=Co((0,o.useState)((function(){return null})),2),re=ne[0],ae=ne[1],oe=Co((0,o.useState)((function(){return!1})),2),le=oe[0],ie=oe[1],se=Co((0,o.useState)((function(){return ho({},{startIndex:n-1,v:gt.Default,limit:10,q:null,totalCount:!0,sort:"-id"},null!=e?e:{})})),2),ce=se[0],ue=se[1],de=function(e){var t="".concat(te).concat(Ct(e)),n=(0,Et.cp)(t,St,{revalidateOnFocus:!1}),r=n.data,a=n.error,o=n.isLoading,l=n.isValidating;return{items:(null==r?void 0:r.data)||{},isLoading:o,isError:a,isValidating:l}}(ce),me=de.items,Ae=de.isLoading,pe=de.isError,_e=de.isValidating,ve=(0,r.usePagination)(me.results,i);return(0,o.useEffect)((function(){ue((function(e){return ho({},e,{startIndex:n-1,limit:i,q:u,totalCount:e.totalCount,v:e.v,minCollectionDate:O,maxCollectionDate:I,testItemlocation:A,testConcept:v,reference:g,patient:S,sampleType:C,minActivatedDate:B,maxActivatedDate:j,urgency:U,referenceOrForWorksheet:G,forWorksheet:J,sampleStatus:K,storage:V,testRequestItemStatuses:$,storageStatus:re})}))}),[u,n,i,O,I,A,v,g,S,C,B,j,U,G,J,K,V,$,re]),(0,o.useEffect)((function(){!le&&Ae&&ie(!0)}),[Ae,le]),{items:ve.results,pagination:ve,totalCount:me.totalCount,currentPageSize:i,currentPage:n,setCurrentPage:a,setPageSize:s,pageSizes:[10,20,30,40,50],isLoading:Ae,isValidating:_e,isError:pe,setSearchString:d,loaded:le,minCollectionDate:O,maxCollectionDate:I,setMinCollectionDate:N,setMaxCollectionDate:D,testItemLocation:A,setTestItemLocation:p,testConcept:v,setTestConcept:f,sampleRef:g,setSampleRef:y,patientUuid:S,setPatientUuid:k,minActivatedDate:B,maxActivatedDate:j,setMinActivatedDate:P,setMaxActivatedDate:F,sampleType:C,setSampleType:w,urgency:U,setUrgency:z,referenceOrForWorksheet:G,forWorksheet:J,setSampleStatus:Z,sampleStatus:K,storage:V,setStorage:Y,testItemStatus:$,setTestItemStatus:ee,setStorageStatus:ae,storageStatus:re}}function ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const To=function(e){var t=e.sample,n=(0,He.useTranslation)().t,a=(0,o.useCallback)((function(e){return n=t.uuid,St("".concat(te,"/").concat(n),{method:"DELETE",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal,body:{reason:"N/A"}});var n}),[t.uuid]),i=(0,o.useCallback)((function(){var e,o,i=(0,r.showModal)("lab-approve-test-request-dialog",{closeModal:function(e){e&&(zn(Y),zn(te)),i()},hideRemarks:!0,approvalTitle:n("laboratorySampleDelete","Delete Sample"),approvalDescription:l().createElement("div",{className:"laboratory-test-request-approve-item",style:{width:"100%"}},l().createElement("p",null,n("sampleType","Sample Type"),": ",t.sampleTypeName),l().createElement("p",null,n("laboratorySampleReference","Sample ID"),":",t.accessionNumber),(null==t||null===(e=t.tests)||void 0===e?void 0:e.length)>0?l().createElement(l().Fragment,null,l().createElement("p",null,n("laboratorySampleAssociatedTests","Associated Tests")),l().createElement("ul",null,null==t||null===(o=t.tests)||void 0===o?void 0:o.map((function(e){return l().createElement("li",null,En(e.testName,e.testShortName))})))):l().createElement("p",null,n("laboratorySampleNoAssociatedTests","No Associated Tests"))),actionButtonLabel:n("delete","Delete"),remarksRequired:!1,approveCallback:a,kind:"danger",successMessageTitle:n("laboratorySampleDelete","Delete Sample"),successMessageBody:n("laboratorySampleDeleteSuccess","Sample deleted successfully")})}),[]);return l().createElement(ke.qaq,{kind:"danger--ghost",size:"md",onClick:i,iconDescription:n("deleteLaboratorySample","Delete Sample"),renderIcon:function(e){return l().createElement(bo.Gi,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ko(e,t,n[t])}))}return e}({size:16},e))}})};function Oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function No(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Oo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Io=function(e){var t=e.sampleIds,n=e.sampleCollection,a=(0,He.useTranslation)().t,i=(0,o.useCallback)((function(e){return cn({actionType:"SAMPLE_RELEASE_FOR_TESTING",records:Object.entries(t).filter((function(e){var t=xo(e,2);return t[0],t[1]})).map((function(e){var t=xo(e,2),n=t[0];return t[1],n})),testRequestUuid:n[0].testRequestUuid})}),[n,t]),s=(0,o.useCallback)((function(){var e=(0,r.showModal)("lab-approve-test-request-dialog",{closeModal:function(t){t&&(zn(Y),zn(te)),e()},hideRemarks:!0,approvalTitle:a("laboratorySampleReleaseForTesting","Release For Testing"),approvalDescription:Object.entries(t).filter((function(e){var t=xo(e,2);return t[0],t[1]})).map((function(e){var t,r,o=xo(e,2),i=o[0],s=(o[1],n.find((function(e){return e.uuid==i})));return l().createElement("div",{className:"laboratory-test-request-approve-item"},l().createElement("p",null,s.sampleTypeName),l().createElement("div",null,s.accessionNumber),(null==s||null===(t=s.tests)||void 0===t?void 0:t.length)>0?l().createElement(l().Fragment,null,l().createElement("p",null,a("laboratorySampleAssociatedTests","Associated Tests")),l().createElement("ul",null,null==s||null===(r=s.tests)||void 0===r?void 0:r.map((function(e){return l().createElement("li",null,En(e.testName,e.testShortName))})))):l().createElement("p",null,a("laboratorySampleNoAssociatedTests","No Associated Tests")))})),actionButtonLabel:a("laboratorySampleRelease","Release"),remarksRequired:!1,approveCallback:i,kind:"primary",successMessageTitle:a("laboratorySampleReleaseForTesting","Release For Testing"),successMessageBody:a("laboratorySampleReleaseForTestingSuccess","Sample(s) released for testing successfully")})}),[i,n,t]);return l().createElement(ke.qaq,{kind:"primary",size:"md",onClick:s,iconDescription:a("laboratorySampleReleaseForTesting","Release For Testing"),renderIcon:function(e){return l().createElement(Oe.wL,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){No(e,t,n[t])}))}return e}({size:16},e))}},a("laboratorySampleReleaseForTesting","Release For Testing"))};function Do(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ro=function(e){var t=e.testRequest,n=(0,He.useTranslation)().t,a=(0,o.useCallback)((function(){var e=(0,r.showModal)("lab-use-existing-sample-dialog",{closeModal:function(t){e()},testRequest:t})}),[]);return l().createElement(ke.qaq,{size:"sm",className:to.headerButton,iconDescription:"Use Existing Sample",hasIcon:!0,renderIcon:function(e){return l().createElement(Oe.OM,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Do(e,t,n[t])}))}return e}({},e),n=null!=(n={size:16})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t));var t,n},kind:"ghost",onClick:a},n("laboratoryUseExistingSample","Use Existing Sample"))};function Bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Po(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Po(e,t,n[t])}))}return e}function jo(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Fo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Bo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Lo=function(e){var t=e.samples,n=e.canEditSamples,a=e.testRequest,i=e.canDoSampleCollecton,s=e.disableReleaseForTesting,c=(0,He.useTranslation)().t,u=Fo((0,o.useState)({}),2),d=u[0],m=u[1],A=[{id:0,header:c("sampleType","Sample Type"),key:"sampleType"},{id:1,header:c("laboratorySampleReference","Sample ID"),key:"accessionNumber"},{id:2,header:c("collectionDate","Collection Date"),key:"collectionDate"},{id:3,header:c("volume","Volume"),key:"volume"},{id:4,header:c("containerType","Container"),key:"containerType"},{id:5,header:c("laboratorySampleTests","Tests"),key:"tests"},{id:6,header:c("laboratoryReferred","Referred"),key:"referrerOut"},{id:7,header:"",key:"actions"}],p=(0,o.useMemo)((function(){return null==t?void 0:t.map((function(e,t){var r,o,i,u,d,m,A,p,_;return{id:null==e?void 0:e.uuid,disabled:s||!(null==e||null===(r=e.permission)||void 0===r?void 0:r.canReleaseForTesting),sampleType:e.sampleTypeName,accessionNumber:n&&(null==e||null===(o=e.permission)||void 0===o?void 0:o.canEdit)?l().createElement(po,{testRequest:a,sample:e,refClassName:zt.testSampleReference}):l().createElement(ke.EDW,{type:"cyan"},l().createElement(Ao,{showPrint:!0,reference:e.accessionNumber,className:zt.testSampleReference,sampleUuid:e.uuid,sampleType:e.sampleTypeName,entityName:Ua(a)})),collectionDate:l().createElement("div",null,e.collectionDate?qt(e.collectionDate):"Unknown",l().createElement("div",null,e.collectedByFamilyName," ",e.collectedByMiddleName," ",e.collectedByGivenName)),volume:e.volume?"".concat(null!==(A=null===(i=e.volume)||void 0===i?void 0:i.toLocaleString())&&void 0!==A?A:"").concat(e.volumeUnitName):"N/A",containerType:"".concat(null!==(p=e.containerCount)&&void 0!==p?p:"").concat(null!==(_=e.containerTypeName)&&void 0!==_?_:"N/A"),tests:l().createElement("div",null,null===(u=e.tests)||void 0===u?void 0:u.map((function(e){return l().createElement(ke.EDW,{type:"blue"},l().createElement("span",{className:zt.testRequestSampleTest},En(e.testName,e.testShortName)," "))}))),referrerOut:e.referredOut?l().createElement("div",null,"".concat(c("yes","Yes")," - ").concat(e.referralToFacilityName),l().createElement("div",null,qt(e.referralOutDate)),l().createElement("div",null,e.referralOutByFamilyName," ",e.referralOutByMiddleName," ",e.referralOutByGivenName)):l().createElement("div",null,c("no","No"),e.storageStatus?l().createElement(l().Fragment,null," (",c(e.storageStatus),")"):""),actions:n&&(null==e||null===(d=e.permission)||void 0===d?void 0:d.canEdit)?l().createElement("div",{className:"".concat(zt.clearGhostButtonPadding," ").concat(zt.rowActions)},l().createElement(fo,{sample:e,testRequest:a}),(null==e||null===(m=e.permission)||void 0===m?void 0:m.canDelete)&&l().createElement(To,{sample:e,testRequest:a})):""}}))}),[t]);return l().createElement(l().Fragment,null,l().createElement(ke.iSL,{headers:A,rows:p,isSortable:!0,useZebraStyles:!0,overflowMenuOnHover:!0,render:function(e){var o,s=e.rows,u=e.headers,A=e.getHeaderProps,p=e.getTableProps,_=e.getRowProps,v=e.getSelectionProps,f=Object.entries(d).reduce((function(e,t){var n=Fo(t,2),r=(n[0],n[1]);return e.selCount=e.selCount+(r?1:0),e}),{allCount:t.filter((function(e){var t;return null===(t=e.permission)||void 0===t?void 0:t.canReleaseForTesting})).length,selCount:0}),b=t.some((function(e){var t;return null===(t=e.permission)||void 0===t?void 0:t.canReleaseForTesting}));return l().createElement(ke._tR,{className:zt.tableContainer},l().createElement(ke.MBp,{style:{position:"static",margin:0}},l().createElement(ke.aGn,{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l().createElement("div",{className:zt.tableToolbarContentHeaderText},c("laboratoryPatientCollectedSamples","Collected Samples")),i&&l().createElement(l().Fragment,null,Object.entries(d).filter((function(e){var t=Fo(e,2);return t[0],t[1]})).length>0&&l().createElement(Io,{sampleIds:d,sampleCollection:t})),i&&l().createElement("div",{style:{display:"flex",flexDirection:"row"}},l().createElement(Ro,{testRequest:a}),l().createElement(ro,{testRequest:a})))),l().createElement(ke.oJK,jo(qo({},p()),{className:zt.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,i&&b&&l().createElement(ke.Wgb,jo(qo({},v({onClick:function(e){var n={};e.target.checked&&t.reduce((function(e,t){var n;return(null==t||null===(n=t.permission)||void 0===n?void 0:n.canReleaseForTesting)&&(e[t.uuid]=!0),e}),n),m(n)}})),{checked:t.length>0&&f.allCount==f.selCount,indeterminate:f.allCount!=f.selCount&&f.selCount>0})),u.map((function(e){var t,n;return"details"!==e.key&&l().createElement(ke.IEe,jo(qo({},A({header:e,isSortable:e.isSortable})),{className:r.isDesktop?zt.desktopHeader:zt.tabletHeader,key:"".concat(e.key)}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})),n&&l().createElement(ke.iy5,null))),l().createElement(ke.qqV,null,s.map((function(e){var n,a;return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.CGA,jo(qo({className:r.isDesktop?zt.desktopRow:zt.tabletRow},_({row:e})),{key:e.id,id:"tr-test-".concat(e.id)}),i&&((null===(a=t.find((function(t){return t.uuid==e.id})))||void 0===a||null===(n=a.permission)||void 0===n?void 0:n.canReleaseForTesting)?l().createElement(ke.qwX,jo(qo({},v({row:e})),{classNames:zt.selectionCheckbox,checked:Boolean(d[e.id]),onChange:function(t,n){return r=t,a=e.id,(o=qo({},d))[a]=r,void m(o);var r,a,o}})):b&&l().createElement(ke.y6P,null)),e.cells.map((function(e){var t;return"details"!==(null==e||null===(t=e.info)||void 0===t?void 0:t.header)&&l().createElement(ke.y6P,{key:e.id},e.value)}))))})))),0===(null!==(o=null==t?void 0:t.length)&&void 0!==o?o:0)?l().createElement("div",{className:zt.tileContainer},l().createElement(ke.g$J,{className:zt.tile},l().createElement("div",{className:zt.tileContent},l().createElement("p",{className:zt.content},c("noLaboratorySamplesToDisplay","No samples to display"))))):null)}}))};function Uo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const zo=function(e){var t=e.className,n=e.testRequest,a=e.testRequestItem,i=(0,He.useTranslation)().t,s=(0,o.useCallback)((function(e){return cn({actionType:Lr,action:jn,remarks:e,records:[a.uuid]})}),[a.uuid]),c=(0,o.useCallback)((function(){var e=(0,r.showModal)("lab-approve-test-request-dialog",{closeModal:function(t){t&&zn(Y),e()},approvalTitle:i("laboratoryTestRequestCancelTests","Reject Tests"),approvalDescription:l().createElement("div",{className:"laboratory-test-request-approve-item"},l().createElement("p",null,n.requestNo,": ",n.patientFamilyName," ",n.patientMiddleName," ",n.patientGivenName),l().createElement("ul",null,l().createElement("li",null,a.orderNumber," -"," ",En(a.testName,a.testShortName)))),remarksTextLabel:i("laboratoryApproveRejectReason","Reason for rejection"),actionButtonLabel:i("reject","Reject"),remarksRequired:!0,approveCallback:s,kind:"danger",successMessageTitle:i("laboratoryTestRequestCancelTests","Cancel Tests"),successMessageBody:i("laboratoryTestRequestCanceTestsSuccess","Tests cancelled successfully")})}),[]);return l().createElement(ke.qaq,{className:t,kind:"danger--ghost",onClick:c,renderIcon:function(e){return l().createElement(bo.Gi,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Uo(e,t,n[t])}))}return e}({size:16},e))}})};var Mo=n(7516),Go={};Go.styleTagTransform=Ue(),Go.setAttributes=qe(),Go.insert=Be().bind(null,"head"),Go.domAPI=De(),Go.insertStyleElement=Fe(),xe()(Mo.c,Go);const Ho=Mo.c&&Mo.c.locals?Mo.c.locals:void 0;var Jo=n(6048),Wo=n(4256);const Vo=function(e){var t=e.patientUuid,n=e.onPatientChange,a=(0,r.usePatient)(t),i=a.patient,s=a.isLoading,c=(0,o.useMemo)((function(){if(i)return null==n||n(i),{patient:i,patientUuid:t,hideActionsOverflow:!0}}),[n,i,t]);return l().createElement(l().Fragment,null,s&&l().createElement(ke.kp8,{iconDescription:"Loading",description:"Loading banner",status:"active"}),i&&l().createElement(r.ExtensionSlot,{name:"patient-header-slot",state:c}))};function Yo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Yo(e,t,n[t])}))}return e}function Ko(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Zo=function(e){e.concept;var t=e.control,n=e.errors,r=(e.isPanel,e.isCoded,e.isTextOrNumeric,e.controllerName),a=e.hideLabel,o=e.rowIndex,i=(0,He.useTranslation)().t,s=(0,Wo.QL)({control:t,name:r}).fields;return l().createElement(l().Fragment,null,s.map((function(e,s){var c=e;return c.isTextOrNumeric?l().createElement(Wo.Mc,{key:e.id,control:t,name:"".concat(r,".").concat(s,".value"),render:function(e){var t,r,i,u,d,m,A,p,_,v,f,b,g,y,h,C,w=e.field;return l().createElement(ke.gf6,Ko(Qo({key:c.concept.uuid},w),{className:Ho.textInput,type:"text",hideLabel:a,placeholder:"Numeric"===(null===(r=c.concept)||void 0===r||null===(t=r.datatype)||void 0===t?void 0:t.display)&&null!==(h=ya(c.concept,null===(y=null===(i=c.concept)||void 0===i?void 0:i.allowDecimal)||void 0===y||y?"Decimal Number":"Whole Number"))&&void 0!==h?h:"",labelText:(null===(u=c.concept)||void 0===u?void 0:u.display)+("Numeric"===c.concept.datatype.display&&null!==(C=ya(c.concept))&&void 0!==C?C:""),onChange:function(e){w.onChange(e.target.value)},invalid:null==n||null===(p=n.worksheetItems)||void 0===p||null===(A=p[o])||void 0===A||null===(m=A.setMembers)||void 0===m||null===(d=m[s])||void 0===d?void 0:d.value,invalidText:null==n||null===(g=n.worksheetItems)||void 0===g||null===(b=g[o])||void 0===b||null===(f=b.setMembers)||void 0===f||null===(v=f[s])||void 0===v||null===(_=v.value)||void 0===_?void 0:_.message}))}}):c.isCoded?l().createElement(Wo.Mc,{name:"".concat(r,".").concat(s,".value"),key:e.id,control:t,render:function(e){var t,r,u,d,m,A,p,_,v,f,b,g,y=e.field;return l().createElement(ke.M1e,Ko(Qo({key:c.concept.uuid},y),{className:Ho.textInput,type:"text",hideLabel:a,labelText:null===(t=c.concept)||void 0===t?void 0:t.display,onChange:function(e){y.onChange(e.target.value)},invalid:null==n||null===(m=n.worksheetItems)||void 0===m||null===(d=m[o])||void 0===d||null===(u=d.setMembers)||void 0===u||null===(r=u[s])||void 0===r?void 0:r.value,invalidText:null==n||null===(f=n.worksheetItems)||void 0===f||null===(v=f[o])||void 0===v||null===(_=v.setMembers)||void 0===_||null===(p=_[s])||void 0===p||null===(A=p.value)||void 0===A?void 0:A.message}),l().createElement(ke.gV5,{text:i("option","Choose an Option"),value:""}),null===(g=c.concept)||void 0===g||null===(b=g.answers)||void 0===b?void 0:b.map((function(e){return l().createElement(ke.gV5,{key:e.uuid,text:e.display,value:e.uuid},e.display)})))}}):void 0})))};function Xo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Xo(e,t,n[t])}))}return e}function el(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const tl=function(e){var t=e.concept,n=e.control,r=e.errors,a=e.isPanel,o=e.isCoded,i=e.isTextOrNumeric,s=e.controllerName,c=e.register,u=e.hideLabel,d=e.rowIndex,m=(0,He.useTranslation)().t;return l().createElement(l().Fragment,null,i&&l().createElement(Wo.Mc,{key:t.uuid,name:"".concat(s,".value"),control:n,render:function(e){var n,a,o,i,s,c,m,A,p=e.field;return l().createElement(ke.gf6,el($o({className:Ho.textInput},p),{type:"text",onChange:function(e){p.onChange(e.target.value)},hideLabel:u,placeholder:"Numeric"===t.datatype.display&&null!==(m=ya(t,null===(c=t.allowDecimal)||void 0===c||c?"Decimal Number":"Whole Number"))&&void 0!==m?m:"",labelText:(null==t?void 0:t.display)+("Numeric"===t.datatype.display&&null!==(A=ya(t))&&void 0!==A?A:""),invalid:null==r||null===(a=r.worksheetItems)||void 0===a||null===(n=a[d])||void 0===n?void 0:n.value,invalidText:null==r||null===(s=r.worksheetItems)||void 0===s||null===(i=s[d])||void 0===i||null===(o=i.value)||void 0===o?void 0:o.message}))}}),o&&l().createElement(Wo.Mc,{key:t.uuid,name:"".concat(s,".value"),control:n,render:function(e){var n,a,o,i,s,c,A=e.field;return l().createElement(ke.M1e,el($o({},A),{className:Ho.textInput,type:"text",hideLabel:u,labelText:null==t?void 0:t.display,onChange:function(e){A.onChange(e.target.value)},invalid:null==r||null===(a=r.worksheetItems)||void 0===a||null===(n=a[d])||void 0===n?void 0:n.value,invalidText:null==r||null===(s=r.worksheetItems)||void 0===s||null===(i=s[d])||void 0===i||null===(o=i.value)||void 0===o?void 0:o.message}),l().createElement(ke.gV5,{text:m("option","Choose an Option"),value:""}),null==t||null===(c=t.answers)||void 0===c?void 0:c.map((function(e){return l().createElement(ke.gV5,{key:e.uuid,text:e.display,value:e.uuid},e.display)})))}}),a&&l().createElement(Zo,{concept:t,control:n,errors:r,isPanel:a,isCoded:o,isTextOrNumeric:i,controllerName:"".concat(s,".setMembers"),register:c,hideLabel:u,rowIndex:d}))};function nl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const rl=function(e){return l().createElement(Wo.Mc,{name:e.controllerName,control:e.control,render:function(t){var n,r,a=t.field,o=a.onChange,i=a.value,s=a.ref;return l().createElement(ke.IF6,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){nl(e,t,n[t])}))}return e}({},e),r=null!=(r={onChange:function(t){o(t.target.value),e.onChange&&e.onChange(t)},ref:s,value:i,id:null==e?void 0:e.id})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))})),n))}})};var al=n(6200),ol={};ol.styleTagTransform=Ue(),ol.setAttributes=qe(),ol.insert=Be().bind(null,"head"),ol.domAPI=De(),ol.insertStyleElement=Fe(),xe()(al.c,ol);const ll=al.c&&al.c.locals?al.c.locals:void 0;function il(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sl(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function cl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return il(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?il(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const ul=function(e){var t=e.mode,n=e.testResult,a=e.worksheetUuid,i=e.readonly,s=e.closeForm,c=(0,He.useTranslation)().t,u=cl((0,o.useState)(!1),2),d=u[0],m=u[1],A=cl((0,o.useState)(),2),p=A[0],_=A[1],v=cl((0,o.useState)(!0),2),f=v[0],b=v[1],g=cl((0,o.useState)(!1),2),y=(g[0],g[1]),h=cl((0,o.useState)(),2),C=(h[0],h[1]),w=cl((0,o.useState)(0),2),E=w[0],S=w[1];return l().createElement(l().Fragment,null,l().createElement("section",{className:ll.section},l().createElement("div",{className:ll.testResultFileItems},l().createElement("div",null,l().createElement("p",null,c("laboratoryTestResultFile","Test Result File"),":"," ","TestResult"==t&&((null==n?void 0:n.hasAttachment)||E>0)&&l().createElement("a",{target:"_blank",href:Ee(n.uuid)},"Download")))),!i&&l().createElement(l().Fragment,null,l().createElement("div",{className:ll.testResultFileUpload,key:E},l().createElement(ke.ySg,{buttonKind:"tertiary",multiple:!1,name:"file",buttonLabel:"Select file",labelDescription:"Files at 2mb or less",filenameStatus:"edit",labelTitle:"",size:"small",onChange:function(e){var t,n,r=null==e||null===(n=e.target)||void 0===n||null===(t=n.files)||void 0===t?void 0:t[0];r?(_(r),b(!1)):e.preventDefault()},onDelete:function(){b(!0)}}),!f&&l().createElement("div",{style:{alignSelf:"flex-end"}},l().createElement(ke.qaq,{onClick:function(){if(p){y(!1);var e=new FormData;p&&(e.append("file",p),"Worksheet"==t?e.append("worksheetUuid",a):e.append("testResultUuid",n.uuid)),m(!0),function(e){return Xn.apply(this,arguments)}(e).then(function(){var e,t=(e=function(e){var t,n;return function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,(function(a){switch(a.label){case 0:return zn(Y),zn(X),[4,e.json()];case 1:return t=a.sent(),C(t),m(!1),t.success?(S((function(e){return e+1})),b(!0),(0,r.showSnackbar)({isLowContrast:!0,title:c("laboratoryAttachTestResult","Attach Test Result"),kind:"success",subtitle:c("laboratoryAttachTestResultSuccess","Test Result Attached Successfully")}),null==s||s()):(0,r.showNotification)({title:c("laboratoryAttachTestResultError","Error attaching test results"),kind:"error",critical:!0,description:null==t||null===(n=t.errors)||void 0===n?void 0:n.join("\n")}),[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){sl(o,r,a,l,i,"next",e)}function i(e){sl(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}(),(function(e){zn(Y),zn(X),m(!1),(0,r.showNotification)({title:c("laboratoryAttachTestResultError","Error attaching test results"),kind:"error",critical:!0,description:null==e?void 0:e.message})}))}},kind:"danger"},d?l().createElement(ke.kp8,null):c("laboratoryUploadTestResults","Upload Test Result")))))))};function dl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ml(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function Al(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){ml(o,r,a,l,i,"next",e)}function i(e){ml(o,r,a,l,i,"throw",e)}l(void 0)}))}}function pl(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}const _l=function(e){var t,n,a,i=e.testRequest,s=e.testRequestItem,c=e.testConcept,u=(0,He.useTranslation)().t,d=(0,r.useSession)(),m=(n=(0,o.useState)(!1),a=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(n,a)||function(e,t){if(e){if("string"==typeof e)return dl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dl(e,t):void 0}}(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),A=m[0],p=m[1],_=(0,Wo.aS)({defaultValues:{worksheetItems:[s].map((function(e){var t,n,r,a,o,l,i,s,u={id:e.uuid,worksheetItem:null,worksheetItemUuid:e.uuid,concept:c,isCoded:_a(c),isPanel:va(c),isTextOrNumeric:fa(c),orderUuid:e.orderUuid,testResultUuid:null===(t=e.testResult)||void 0===t?void 0:t.uuid,conceptUuid:c.uuid,remarks:null!==(r=null===(n=e.testResult)||void 0===n?void 0:n.remarks)&&void 0!==r?r:"",isNumeric:ba(c),minValue:null,maxValue:null,allowDecimals:!0};if(u.isNumeric&&(u.minValue=null==c?void 0:c.lowAbsolute,u.maxValue=null==c?void 0:c.hiAbsolute,u.allowDecimals=null===(a=null==c?void 0:c.allowDecimal)||void 0===a||a),u.isPanel&&(u.setMembers=c.setMembers.map((function(t,n){var r,a,o,l,i,s,c=null===(o=e.testResult)||void 0===o||null===(a=o.obs)||void 0===a||null===(r=a.groupMembers)||void 0===r?void 0:r.find((function(e){var n;return(null===(n=e.concept)||void 0===n?void 0:n.uuid)==t.uuid})),u={id:"".concat(e.uuid,"-").concat(n),concept:t,isCoded:_a(t),isPanel:va(t),isTextOrNumeric:fa(t),orderUuid:e.orderUuid,conceptUuid:t.uuid,isNumeric:ba(t),minValue:null,maxValue:null,allowDecimals:!0};if(u.isNumeric&&(u.minValue=null==t?void 0:t.lowAbsolute,u.maxValue=null==t?void 0:t.hiAbsolute,u.allowDecimals=null===(l=null==t?void 0:t.allowDecimal)||void 0===l||l),u.isCoded)u.value=null!==(s=null==c||null===(i=c.value)||void 0===i?void 0:i.uuid)&&void 0!==s?s:"";else if(u.isTextOrNumeric){var d;u.value=null!==(d=null==c?void 0:c.value)&&void 0!==d?d:""}return u}))),u.isCoded)u.value=null!==(s=null===(i=e.testResult)||void 0===i||null===(l=i.obs)||void 0===l||null===(o=l.value)||void 0===o?void 0:o.uuid)&&void 0!==s?s:"";else if(u.isTextOrNumeric){var d,m,A;u.value=null!==(A=null===(m=e.testResult)||void 0===m||null===(d=m.obs)||void 0===d?void 0:d.value)&&void 0!==A?A:""}return u}))}}),v=_.control,f=_.register,b=_.formState,g=(b.isSubmitting,b.errors),y=(_.getValues,_.handleSubmit),h=(0,Wo.QL)({control:v,name:"worksheetItems"}).fields,C=function(){var e=Al((function(e){var t,n,a,o,l,i;return pl(this,(function(m){switch(m.label){case 0:if(0==(n=null===(t=e.worksheetItems)||void 0===t?void 0:t.map((function(e){var t,n,r,a,o,l,i,u,d=s,m={concept:{uuid:c.uuid},status:"FINAL",order:{uuid:d.orderUuid}};if(e.isCoded&&(m.value={uuid:null===(l=d.testResult)||void 0===l||null===(o=l.obs)||void 0===o||null===(a=o.value)||void 0===a?void 0:a.uuid}),e.isTextOrNumeric&&(m.value=(null===(u=d.testResult)||void 0===u||null===(i=u.obs)||void 0===i?void 0:i.value)+""),e.isPanel&&e.setMembers){var A=e.setMembers.map((function(e){var t,n,r,a,o=null==d||null===(r=d.testResult)||void 0===r||null===(n=r.obs)||void 0===n||null===(t=n.groupMembers)||void 0===t?void 0:t.find((function(t){var n;return(null===(n=t.concept)||void 0===n?void 0:n.uuid)==e.conceptUuid})),l={concept:{uuid:e.conceptUuid},status:"FINAL",order:{uuid:e.orderUuid},value:void 0};return e.isCoded&&(l.value={uuid:null==o||null===(a=o.value)||void 0===a?void 0:a.uuid}),e.isTextOrNumeric&&(l.value=(null==o?void 0:o.value)+""),l})).filter((function(e){return e.value})).sort((function(e,t){var n,r,a;return null===(a=e.concept)||void 0===a||null===(r=a.uuid)||void 0===r?void 0:r.localeCompare(null===(n=t.concept)||void 0===n?void 0:n.uuid,void 0,{ignorePunctuation:!0})}));A.length>0&&(m.groupMembers=A)}var p,_,v={concept:{uuid:c.uuid},status:"FINAL",order:{uuid:d.orderUuid}};if(e.isCoded&&e.value&&(v.value={uuid:e.value}),e.isTextOrNumeric&&e.value&&(v.value=e.value),e.isPanel&&e.setMembers){var f=e.setMembers.map((function(e){var t={concept:{uuid:e.conceptUuid},status:"FINAL",order:{uuid:e.orderUuid},value:void 0};return e.isCoded&&e.value&&(t.value={uuid:e.value}),e.isTextOrNumeric&&e.value&&(t.value=e.value),t})).filter((function(e){return e.value})).sort((function(e,t){var n,r,a;return null===(a=e.concept)||void 0===a||null===(r=a.uuid)||void 0===r?void 0:r.localeCompare(null===(n=t.concept)||void 0===n?void 0:n.uuid,void 0,{ignorePunctuation:!0})}));f.length>0&&(v.groupMembers=f)}return(0,Jo.c)(m,v)&&(null!==(p=e.remarks)&&void 0!==p?p:"")===(null!==(_=null==d||null===(t=d.testResult)||void 0===t?void 0:t.remarks)&&void 0!==_?_:"")?null:{testRequestItemSampleUuid:null==d||null===(r=d.samples)||void 0===r||null===(n=r.find((function(e){return!0})))||void 0===n?void 0:n.testRequestItemSampleUuid,obs:v,remarks:e.remarks}})).filter((function(e){var t,n;return e&&((null===(t=e.obs)||void 0===t?void 0:t.value)||(null===(n=e.obs)||void 0===n?void 0:n.groupMembers))}))).length)return(0,r.showSnackbar)({isLowContrast:!0,title:u("laboratoryTestResultSubmitNoChanges","No test result changes detected"),kind:"error",subtitle:"Check and verify you have made changes you want to save",autoClose:!0}),[2];m.label=1;case 1:return m.trys.push([1,3,,4]),(o=n[0]).atLocationUuid=null==d||null===(a=d.sessionLocation)||void 0===a?void 0:a.uuid,p(!0),[4,(A=o,St(me,{method:"POST",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal,body:A}))];case 2:return l=m.sent(),p(!1),zn(ne),zn(re),zn(Y),zn(X),(null==l?void 0:l.data)&&(0,r.showSnackbar)({isLowContrast:!0,title:u("laboratoryUpdateTestResult","Update Test Results"),kind:"success",subtitle:u("laboratorySavedTestResultSuccess","Test Result saved Successfully")}),Qe(),[3,4];case 3:return i=m.sent(),p(!1),(0,r.showNotification)({title:u("laboratoryUpdateTestResultError","Error updating test result(s)"),kind:"error",critical:!0,description:Yr(i)}),[3,4];case 4:return[2]}var A}))}));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Al((function(e){return pl(this,(function(e){return(0,r.showSnackbar)({isLowContrast:!0,title:u("laboratoryTestResultSubmitError","Error saving test result"),kind:"error",subtitle:"Check and complete the required fields",autoClose:!0}),[2]}))}));return function(t){return e.apply(this,arguments)}}();return l().createElement(l().Fragment,null,l().createElement("div",null,l().createElement(ke.aUI,{className:Ho.modalBody},(null==i?void 0:i.referredIn)?l().createElement(l().Fragment,null,l().createElement("h6",null,null==i?void 0:i.referralFromFacilityName),l().createElement("div",{style:{display:"flex",flexDirection:"column",rowGap:"0.5rem"}},l().createElement("div",null,En(null==s?void 0:s.testName,null==s?void 0:s.testShortName)),l().createElement("div",null,null===(t=s.samples)||void 0===t?void 0:t.map((function(e){return l().createElement(ke.EDW,{type:"green"},l().createElement(Ao,{showPrint:!0,reference:e.accessionNumber,className:Ho.testSampleReference,sampleUuid:e.uuid,sampleType:e.sampleTypeName,entityName:Ua(i)}))}))))):l().createElement(Vo,{patientUuid:null==i?void 0:i.patientUuid}),c.setMembers.length>0&&l().createElement("div",null,c.display),c&&l().createElement("section",{className:Ho.section},l().createElement("form",null,h.map((function(e,t){var n,r,a,o,i,c,d,m,A,p,_,b,y,h,C,w,E,S,k,T,O,N=e;return l().createElement(l().Fragment,null,(null==g||null===(a=g.worksheetItems)||void 0===a||null===(r=a[t])||void 0===r||null===(n=r.setMembers)||void 0===n?void 0:n.root)&&l().createElement("div",{className:Ho.errorDiv,style:{gridColumn:"1 / span 2",paddingLeft:"0.5rem",paddingTop:"0.5rem"}},null==g||null===(c=g.worksheetItems)||void 0===c||null===(i=c[t])||void 0===i||null===(o=i.setMembers)||void 0===o?void 0:o.root.message),l().createElement(tl,{rowIndex:t,concept:N.concept,control:v,errors:g,isCoded:N.isCoded,isPanel:N.isPanel,isTextOrNumeric:N.isTextOrNumeric,register:f,controllerName:"worksheetItems.".concat(t),key:N.worksheetItemUuid,hideLabel:!1}),l().createElement("section",null,l().createElement(rl,{id:"worksheetItems.".concat(t,".remarks"),name:"worksheetItems.".concat(t,".remarks"),control:v,controllerName:"worksheetItems.".concat(t,".remarks"),maxLength:500,value:"".concat(null!==(S=N.remarks)&&void 0!==S?S:""),labelText:u("laboratoryTestResultAdditionalRemarks","Additional Remarks"),invalid:!!(null===(m=g.worksheetItems)||void 0===m||null===(d=m[t])||void 0===d?void 0:d.remarks),invalidText:null===(_=g.worksheetItems)||void 0===_||null===(p=_[t])||void 0===p||null===(A=p.remarks)||void 0===A?void 0:A.message})),(null==s?void 0:s.testResult)&&l().createElement("section",null,u("lastResultsBy","Last result(s) by")," ",l().createElement("strong",null,null!==(k=null==s||null===(b=s.testResult)||void 0===b?void 0:b.resultByFamilyName)&&void 0!==k?k:""," ",null!==(T=null==s||null===(y=s.testResult)||void 0===y?void 0:y.resultByMiddleName)&&void 0!==T?T:""," ",null!==(O=null==s||null===(h=s.testResult)||void 0===h?void 0:h.resultByGivenName)&&void 0!==O?O:""," "),u("on","On"),l().createElement("strong",null," ",qt(null==s||null===(C=s.testResult)||void 0===C?void 0:C.resultDate)," "),(null==s||null===(w=s.testResult)||void 0===w?void 0:w.atLocationName)&&l().createElement(l().Fragment,null," ",u("at","At"),l().createElement("strong",null," ",null==s||null===(E=s.testResult)||void 0===E?void 0:E.atLocationName))))}))),(null==s?void 0:s.testResult)&&l().createElement(ul,{testResult:null==s?void 0:s.testResult,mode:"TestResult",readonly:!1}))),l().createElement(ke._AC,null,l().createElement(ke.qaq,{disabled:A,onClick:function(){return Qe()},kind:"secondary"},u("cancel","Cancel")),l().createElement(ke.qaq,{onClick:y(C,w)},A?l().createElement(ke.kp8,null):u("laboratoryWorksheetSaveTestResults","Save Test Results")))))};function vl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const fl=function(e){var t=e.className,n=e.testRequest,r=e.testRequestItem,a=(0,He.useTranslation)().t;return l().createElement(ke.qaq,{className:t,kind:"ghost",size:"md",onClick:function(){Ye(a("resultForm","Lab Results Form"),l().createElement(_l,{testRequestItem:r,testRequest:n,testConcept:null==r?void 0:r.testConcept}))},renderIcon:function(e){return l().createElement(tt.aI,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){vl(e,t,n[t])}))}return e}({size:16},e))},iconDescription:a("laboratoryTestResultEdit","Edit Test Result")})};var bl=n(4388);const gl=function(e){var t,n=e.approvals,r=(0,He.useTranslation)().t;return l().createElement(l().Fragment,null,l().createElement("div",{className:zt.listItems},0===(null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0)?l().createElement("div",{className:zt.listItem},r("noLaboratoryTestApprovalsToDisplay","No approvals to display")):n.map((function(e){var t,n,a;return l().createElement("div",{key:e.uuid,className:zt.listItem},l().createElement("div",{className:"".concat(zt.avatar," ").concat(e.approvalResult==qn?zt.avatarSuccess:e.approvalResult==Ln?zt.avatarNoApproval:e.approvalResult==jn||e.approvalResult==Fn?zt.avatarDanger:zt.avatarPending)},e.approvalResult==qn?l().createElement(Mt.aU,null):e.approvalResult==Ln?l().createElement(Mt.DB,null):e.approvalResult==jn||e.approvalResult==Fn?l().createElement(Te.eA,null):l().createElement(bl.Ef,null)),l().createElement("div",{className:zt.approvalInfo},l().createElement("div",{className:zt.approvalTitle},l().createElement("h6",{className:zt.productiveHeading01},e.approvalTitle),l().createElement("span",null,"-"),l().createElement("span",null,qt(e.activatedDate))),e.approvalResult?l().createElement("div",{className:zt.approvalContent},r(e.approvalResult)," ",r("by","By")," ",(e.approvedByFamilyName||e.approvedByMiddleName||e.approvedByGivenName)&&l().createElement(l().Fragment,null,l().createElement("strong",{className:zt.italic}," ",null!==(t=e.approvedByFamilyName)&&void 0!==t?t:""," ",null!==(n=e.approvedByMiddleName)&&void 0!==n?n:""," ",null!==(a=e.approvedByGivenName)&&void 0!==a?a:"")," On ",l().createElement("strong",{className:zt.italic},qt(e.approvalDate)),(null==e?void 0:e.remarks)&&l().createElement("div",{className:zt.approvalRemarks},e.remarks))):l().createElement("div",null,r("laboratoryTestApprovalPendingApproval","Pending Approval"))))}))))};function yl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){hl(e,t,n[t])}))}return e}function wl(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const El=function(e){var t,n,a=e.tests,i=(e.canApproveTestRequests,e.tableHeaders),s=e.onSelectionChange,c=e.selectedItems,u=e.testRequestId,d=e.enableSelection,m=e.testRequest,A=(0,He.useTranslation)().t,p=(t=(0,o.useState)({}),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return yl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yl(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),_=p[0];return p[1],l().createElement(l().Fragment,null,l().createElement(ke.iSL,{rows:a,headers:i,isSortable:!0,useZebraStyles:!0,overflowMenuOnHover:!0,render:function(e){var t,n,o,i,p,v=e.rows,f=e.headers,b=e.getHeaderProps,g=e.getTableProps,y=e.getRowProps,h=(e.getBatchActionProps,e.getSelectionProps),C=(e.getToolbarProps,e.selectedRows,e.expandRow);return l().createElement(ke._tR,{className:zt.tableContainer},l().createElement(ke.oJK,wl(Cl({},g()),{className:zt.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,l().createElement(ke.ugy,null),d&&l().createElement(ke.Wgb,wl(Cl({},h()),{onSelect:function(e){var t=e.target.checked,n=Cl({},c);n[u]||(n[u]={tests:{},allTests:!1}),t?(n[u].allTests=!0,n[u].tests=null==v?void 0:v.reduce((function(e,t){return e[t.id]=!0,e}),{})):(n[u].allTests=!1,delete n[u].tests,n[u].tests={}),s(n)},checked:Boolean(null===(t=c[u])||void 0===t?void 0:t.allTests),indeterminate:Boolean(!(null===(n=c[u])||void 0===n?void 0:n.allTests)&&(null===(o=c[u])||void 0===o?void 0:o.tests)&&Object.keys(null===(i=c[u])||void 0===i?void 0:i.tests).length>0)})),f.map((function(e){var t,n;return"details"!==e.key&&l().createElement(ke.IEe,wl(Cl({},b({header:e,isSortable:e.isSortable})),{className:r.isDesktop?zt.desktopHeader:zt.tabletHeader,key:"".concat(e.key)}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})))),l().createElement(ke.qqV,null,v.map((function(e){var t,n,o,i,A,p,v,b,g,w,E=null==m||null===(t=m.tests)||void 0===t?void 0:t.find((function(t){return t.uuid==e.id}));return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.cjO,wl(Cl({className:"".concat(r.isDesktop?zt.desktopRow:zt.tabletRow," ").concat(((null==E||null===(n=E.permission)||void 0===n?void 0:n.canEditTestResults)||(null==E||null===(o=E.permission)||void 0===o?void 0:o.canViewTestResults))&&(null==E?void 0:E.testResult)?"":zt.noTestResultsRow)},y({row:e})),{key:e.id,id:"tr-test-".concat(e.id),isExpanded:Boolean(_[e.id]),onExpand:function(t){return n=e.id,_[n]=Boolean(!_[n]),void C(n);var n}}),d&&l().createElement(ke.qwX,wl(Cl({},h({row:e})),{checked:Boolean(null===(A=c[u])||void 0===A||null===(i=A.tests)||void 0===i?void 0:i[e.id]),onChange:function(t,n,r){return o=t,l=e.id,(i=Cl({},c))[u]||(i[u]={tests:{},allTests:!1}),o?(i[u].allTests=Object.keys(i[u].tests).length+1==a.length,i[u].tests[l]=!0):(i[u].allTests=!1,i[u].tests[l]&&delete i[u].tests[l]),void s(i);var o,l,i},classNames:zt.selectionCheckbox})),e.cells.map((function(e){var t;return"details"!==(null==e||null===(t=e.info)||void 0===t?void 0:t.header)&&l().createElement(ke.y6P,{key:e.id},e.value)}))),((null==E||null===(p=E.permission)||void 0===p?void 0:p.canEditTestResults)||(null==E||null===(v=E.permission)||void 0===v?void 0:v.canViewTestResults))&&(null==E?void 0:E.testResult)&&_[e.id]&&l().createElement(ke.Ocq,{className:"".concat(zt.tableExpandedRow," ").concat(zt.worksheetItemTableExpandedRow),colSpan:f.length+1},l().createElement("div",{className:zt.worksheetItemRowDetails},l().createElement(wa,{testConcept:null==E?void 0:E.testConcept,testResult:null==E?void 0:E.testResult}),(null==E||null===(g=E.testResult)||void 0===g||null===(b=g.approvals)||void 0===b?void 0:b.length)>0&&l().createElement(gl,{approvals:null==E||null===(w=E.testResult)||void 0===w?void 0:w.approvals}))))})))),0===(null!==(p=null==v?void 0:v.length)&&void 0!==p?p:0)?l().createElement("div",{className:zt.tileContainer},l().createElement(ke.g$J,{className:zt.tile},l().createElement("div",{className:zt.tileContent},l().createElement("p",{className:zt.content},A("noLaboratoryTestsToDisplay","No tests to display"))))):null)}}))};var Sl=function(e,t){return e?(t||(t=new Date),it()(t).toDate().getTime()-it()(e).toDate().getTime()):null},kl=function(e,t){var n=Math.floor(e/31536e6);e-=365*n*864e5;var r=Math.floor(e/864e5);e-=864e5*r;var a=Math.floor(e/36e5);e-=36e5*a;var o=Math.floor(e/6e4);return 0==n&&0==r&&0==a&&0==o?"0m":[n>0?"".concat(n).concat(t("yearShortLetter","y")):null,r>0?"".concat(r).concat(t("dayShortLetter","d")):null,a>0?"".concat(a).concat(t("hourShortLetter","h")):null,o>0?"".concat(o).concat(t("minuteShortLetter","m")):null].filter((function(e){return e})).join(" ")};const Tl=function(e){var t=e.testRequestItem,n=e.translator,r=(e.mode,(0,o.useMemo)((function(){var e,r;return t.referredOut||!t.samples||t.status==vn?"":function(e,t,n){var r=Sl(e,t);return r?kl(r,n):null}(null===(e=t.samples)||void 0===e?void 0:e.reduce((function(e,n){var r,a,o=null!==(r=null==t?void 0:t.requestApprovalDate)&&void 0!==r?r:null==t?void 0:t.dateCreated;if(!e){var l,i=(null==n?void 0:n.collectionDate)&&o?it()(null==n?void 0:n.collectionDate).toDate().getTime()<it()(o).toDate().getTime()?o:null==n?void 0:n.collectionDate:null!==(l=null==n?void 0:n.collectionDate)&&void 0!==l?l:o;return i?it()(i).toDate():null}var s=(null==n?void 0:n.collectionDate)&&o?it()(null==n?void 0:n.collectionDate).toDate().getTime()<it()(o).toDate().getTime()?o:null==n?void 0:n.collectionDate:null!==(a=null==n?void 0:n.collectionDate)&&void 0!==a?a:o;if(!s)return e;var c=it()(s).toDate();return c.getTime()<e.getTime()?c:e}),null),null!==(r=null==t?void 0:t.resultDate)&&void 0!==r?r:null==t?void 0:t.completedDate,n)}),[null==t?void 0:t.completedDate,null==t?void 0:t.dateCreated,t.referredOut,null==t?void 0:t.requestApprovalDate,null==t?void 0:t.resultDate,t.samples,t.status,n]));return l().createElement(l().Fragment,null,null!=r?r:"")};function Ol(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Nl(e,t,n[t])}))}return e}function Il(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Dl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ol(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ol(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Rl=function(){var e=(0,He.useTranslation)().t,t=Dl((0,o.useState)(""),2),n=t[0],a=t[1],i=(0,r.useSession)(),s=Dl((0,o.useState)(!1),2),c=s[0],u=s[1],d=Dl((0,o.useState)(!1),2),m=(d[0],d[1]),A=Dl((0,o.useState)(!1),2),p=A[0],_=A[1],v=At().currentOrdersDate,f=Dl((0,o.useState)({}),2),b=f[0],g=f[1],y=Dl((0,o.useState)({}),2),h=y[0];y[1],(0,o.useEffect)((function(){u((null==i?void 0:i.user)&&(0,r.userHasAccess)(Kt,i.user)),m((null==i?void 0:i.user)&&(0,r.userHasAccess)(Qt,i.user)),_((null==i?void 0:i.user)&&(0,r.userHasAccess)(Vt,i.user))}),[]);var C=sn({v:gt.Full,itemStatus:_n,minActivatedDate:v,testConceptTests:!1,samples:!0,includeTestItemSamples:!0,allTests:!1,includeTestItemTestResult:!0,testResultApprovals:!0,includeItemConcept:!0,worksheetInfo:!0}),w=C.isLoading,E=C.items,S=C.totalCount,k=C.currentPageSize,T=C.pageSizes,O=C.currentPage,N=C.setCurrentPage,x=C.setPageSize,I=C.setSearchString,D=C.isValidating,R=C.loaded,B=C.setMinActivatedDate,P=C.minActivatedDate,q=C.setMaxActivatedDate,j=C.maxActivatedDate,F=(C.testConcept,C.setTestConcept),L=C.itemLocation,U=C.setItemLocation,z=C.allTests,G=C.setAllTests,H=C.itemMatch,J=C.setItemMatch,W=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){return I(e)}),300)}),[I]);(0,o.useEffect)((function(){P!==v&&B(v)}),[v,P,B]);var V=[{id:0,header:e("date","Date"),key:"date"},{id:1,header:e("laboratoryRequestNumber","Request Number"),key:"requestNumber"},{id:2,header:e("laboratoryRequestEntity","Entity"),key:"patient"},{id:3,header:e("Identification","Identification"),key:"identifier"},{id:4,header:e("orderer","Ordered By"),key:"orderer"},{id:5,header:e("urgency","Urgency"),key:"urgency"},{id:7,header:"",key:"actions"},{id:6,header:"detailsTests",key:"detailsTests"},{id:7,header:"detailsTests",key:"detailsInfo"},{id:8,header:"detailsSamples",key:"detailsSamples"}],Y=[{id:0,header:e("labSection","Lab Section"),key:"toLocationName"},{id:1,header:e("laboratoryTest","Test"),key:"testName"},{id:2,header:e("order#","Order#"),key:"orderNumber"},{id:3,header:e("laboratoryTestSamplesCollected","Samples"),key:"samples"},{id:4,header:e("status","Status"),key:"status"},{id:5,header:e("waitTime","Wait Time"),key:"waitTime"},{id:6,header:"",key:"actions"}],Q=(0,o.useMemo)((function(){return null==E?void 0:E.map((function(t,n){var a,o,i,s,c,u,d,m;return{id:null==t?void 0:t.uuid,dateCreated:t.dateCreated,date:l().createElement("span",{className:zt["single-line-display"]},(0,r.formatDate)((0,r.parseDate)(null==t?void 0:t.dateCreated))),patient:l().createElement(za,{testRequest:t}),identifier:null!==(i=null==t?void 0:t.referralInExternalRef)&&void 0!==i?i:null==t?void 0:t.patientIdentifier,requestNumber:null==t?void 0:t.requestNo,orderer:"".concat(null!==(s=null==t?void 0:t.providerFamilyName)&&void 0!==s?s:""," ").concat(null!==(c=null==t?void 0:t.providerMiddleName)&&void 0!==c?c:""," ").concat(null!==(u=null==t?void 0:t.providerGivenName)&&void 0!==u?u:""),urgency:null==t?void 0:t.urgency,actions:l().createElement(ja,{testRequestUuid:t.uuid,enableResults:null==t||null===(a=t.tests)||void 0===a?void 0:a.some((function(e){return e.testResult}))}),detailsSamples:null!==(d=null==t?void 0:t.samples)&&void 0!==d?d:[],detailsInfo:l().createElement(Fr,{testRequest:t}),detailsTests:null!==(m=null==t||null===(o=t.tests)||void 0===o?void 0:o.sort((function(e,t){var n,r,a,o;return(null===(n=e.toLocationName)||void 0===n?void 0:n.localeCompare(t.toLocationName,void 0,{ignorePunctuation:!0}))||(null===(r=null!==(a=e.testName)&&void 0!==a?a:e.testShortName)||void 0===r?void 0:r.localeCompare(null!==(o=t.testName)&&void 0!==o?o:t.testShortName,void 0,{ignorePunctuation:!0}))})).map((function(n){var a,o,i,s,c,u,d,m,A,_,v,f,b,g,y,h;return{id:n.uuid,toLocationName:n.toLocationName,testName:En(n.testName,n.testShortName),orderNumber:n.orderNumber,atLocationName:n.atLocationName,samples:l().createElement("div",null,null===(a=n.samples)||void 0===a?void 0:a.map((function(e){return l().createElement(ke.EDW,{type:"green"},l().createElement(Ao,{showPrint:!0,reference:e.accessionNumber,className:zt.testSampleReference,sampleUuid:e.uuid,sampleType:e.sampleTypeName,entityName:Ua(t)}))}))),status:l().createElement(l().Fragment,null,e(gn(n,e)),(null==n?void 0:n.worksheetNo)&&l().createElement("div",null,l().createElement("a",{href:M(null==n?void 0:n.worksheetUuid),onClick:function(e){e.preventDefault(),(0,r.navigate)({to:M(null==n?void 0:n.worksheetUuid)})}},null==n?void 0:n.worksheetNo)),(null==n||null===(o=n.permission)||void 0===o?void 0:o.canViewTestResults)&&l().createElement("div",null,(null==n||null===(c=n.testResult)||void 0===c||null===(s=c.obs)||void 0===s||null===(i=s.display)||void 0===i?void 0:i.indexOf(":"))>0?null==n||null===(v=n.testResult)||void 0===v||null===(_=v.obs)||void 0===_||null===(A=_.display)||void 0===A?void 0:A.substring((null==n||null===(m=n.testResult)||void 0===m||null===(d=m.obs)||void 0===d||null===(u=d.display)||void 0===u?void 0:u.indexOf(":"))+1):null==n||null===(b=n.testResult)||void 0===b||null===(f=b.obs)||void 0===f?void 0:f.display),(n.status==vn||n.requestApprovalRemarks)&&l().createElement("div",null,l().createElement("div",{className:zt.approvalRemarks},n.requestApprovalRemarks))),waitTime:l().createElement(Tl,{testRequestItem:n,translator:e}),actions:l().createElement("div",{className:"".concat(zt.clearGhostButtonPadding," ").concat(zt.rowActions)},(null==n||null===(g=n.permission)||void 0===g?void 0:g.canEditTestResults)&&l().createElement(fl,{testRequest:t,testRequestItem:n}),p&&(null==n||null===(y=n.permission)||void 0===y?void 0:y.canReject)&&!(null==n||null===(h=n.testResult)||void 0===h?void 0:h.obs)&&l().createElement(zo,{testRequest:t,testRequestItem:n}),l().createElement(ja,{testRequestUuid:t.uuid,enableResults:Boolean(n.testResult)}))}})))&&void 0!==m?m:[]}}))}),[p,E]);return w&&!R?l().createElement(ke.m2V,{role:"progressbar"}):l().createElement(l().Fragment,null,(w||D)&&R&&l().createElement(ke.cHM,{size:"small",type:"indented",status:"status",label:"",hideLabel:!0,className:zt.progressBarThin}),l().createElement(ke.iSL,{rows:Q,headers:V,isSortable:!0,useZebraStyles:!0,overflowMenuOnHover:!0,render:function(t){var o,i=t.rows,s=t.headers,u=t.getHeaderProps,d=t.getTableProps,m=t.getRowProps,A=t.getToolbarProps,p=t.expandRow;return l().createElement(ke._tR,{className:zt.tableContainer},l().createElement(ke.MBp,Il(xl({},A()),{style:{position:"static",margin:0}}),l().createElement(ke.aGn,{style:{display:"flex",alignItems:"center"}},l().createElement(ke.OWJ,{placeholder:e("laboratoryFilterWorksheets","Filter Requests..."),persistent:!0,value:n,onChange:function(e){return t=e.target.value,a(t),void W(t);var t}}),l().createElement(Br,{maxActivatedDate:j,minActivatedDate:P,diagnosticCenterUuid:L,onMaxActivatedDateChanged:q,onDiagnosticCenterChanged:U,onTestChanged:F,enableFocus:!0,focus:z,onFocusChanged:G,enableItemMatch:!0,onItemMatchChanged:J,itemMatch:H}))),l().createElement(ke.oJK,Il(xl({},d()),{className:zt.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,l().createElement(ke.ugy,null),s.map((function(e){var t,n;return!e.key.startsWith("details")&&l().createElement(ke.IEe,Il(xl({},u({header:e,isSortable:e.isSortable})),{className:r.isDesktop?zt.desktopHeader:zt.tabletHeader,key:"".concat(e.key)}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})),l().createElement(ke.IEe,null))),l().createElement(ke.qqV,null,i.map((function(e,t){return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.cjO,Il(xl({className:r.isDesktop?zt.desktopRow:zt.tabletRow},m({row:e})),{key:e.id,isExpanded:Boolean(h[e.id]),onExpand:function(t){return n=e.id,h[n]=Boolean(!h[n]),void p(n);var n}}),e.cells.map((function(e){var t;return!(null==e||null===(t=e.info)||void 0===t?void 0:t.header.startsWith("details"))&&l().createElement(ke.y6P,{key:e.id},e.value)}))),Boolean(h[e.id])&&l().createElement(ke.Ocq,{className:zt.tableExpandedRow,colSpan:s.length+1},l().createElement("section",{className:"".concat(zt.rowExpandedContent," ").concat(zt.worksheetItems)},l().createElement(El,{tests:e.cells[e.cells.length-3].value,tableHeaders:Y,canApproveTestRequests:c,onSelectionChange:g,selectedItems:b,testRequestId:e.id,testRequest:E.find((function(t){return t.uuid==e.id}))}),l().createElement(l().Fragment,null,e.cells[e.cells.length-2].value),l().createElement("div",{style:{width:"100%"}}),l().createElement(Lo,{testRequest:E.find((function(t){return t.uuid==e.id})),canEditSamples:!0,canDoSampleCollecton:!1,testRequestId:e.id,samples:e.cells[e.cells.length-1].value,expandRow:p}))))})))),0===(null!==(o=null==i?void 0:i.length)&&void 0!==o?o:0)?l().createElement("div",{className:zt.tileContainer},l().createElement(ke.g$J,{className:zt.tile},l().createElement("div",{className:zt.tileContent},l().createElement("p",{className:zt.content},e("noPendingItemsToDisplay","No pending items to display"))))):null)}}),l().createElement(ke.eML,{page:O,pageSize:k,pageSizes:T,totalItems:null!=S?S:0,onChange:function(e){var t=e.page,n=e.pageSize;N(t),x(n)},className:zt.paginationOverride}))};function Bl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ql(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Pl(e,t,n[t])}))}return e}function jl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Bl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fl(e){return St(X,{method:"POST",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal,body:e})}function Ll(e,t){return St($(e),{method:"POST",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal,body:t})}function Ul(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const zl=function(e){var t=e.worksheet,n=(0,He.useTranslation)().t,a=(0,o.useCallback)((function(e){return n=t.uuid,r=e,St($(n),{method:"POST",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal,body:{reason:r}});var n,r}),[t.uuid]),i=(0,o.useCallback)((function(){var e=(0,r.showModal)("lab-approve-test-request-dialog",{closeModal:function(t){t&&(zn(Y),zn(te)),e()},hideRemarks:!0,approvalTitle:n("laboratoryWorksheetSampleDelete","Remove Item"),approvalDescription:l().createElement("div",{className:"laboratory-test-request-approve-item",style:{width:"100%"}},l().createElement("p",null,n("sampleType","Sample Type"),": ",t.sampleTypeName),l().createElement("p",null,n("laboratoryWorksheetSampleReference","Sample ID"),":",t.sampleAccessionNumber),l().createElement(l().Fragment,null,l().createElement("p",null,n("laboratoryWorksheetSampleAssociatedTests","Associated Tests")),l().createElement("ul",null,l().createElement("li",null,En(t.testName,t.testShortName))))),actionButtonLabel:n("remove","Remove"),remarksRequired:!1,approveCallback:a,kind:"danger",successMessageTitle:n("laboratoryWorksheetItemRemove","Remove Item"),successMessageBody:n("laboratoryWorksheetItemRemoveSuccess","Item removed successfully")})}),[]);return l().createElement(ke.qaq,{kind:"danger--ghost",size:"md",onClick:i,iconDescription:n("remoteLaboratoryWorksheetItem","Remove Item"),renderIcon:function(e){return l().createElement(bo.Gi,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ul(e,t,n[t])}))}return e}({size:16},e))}})};var Ml=n(1720),Gl=n(8360),Hl=Gl.z.object({id:Gl.z.string().optional().nullable().nullish(),conceptUuid:Gl.z.string().optional().nullable().nullish(),worksheetItemUuid:Gl.z.string().optional().nullable().nullish(),testResultUuid:Gl.z.string().nullable().optional(),orderUuid:Gl.z.string().optional().nullable().nullish(),isNumeric:Gl.z.boolean().nullable().optional(),isTextOrNumeric:Gl.z.boolean().nullable().optional(),isCoded:Gl.z.boolean().nullable().optional(),isPanel:Gl.z.boolean().nullable().optional(),value:Gl.z.coerce.string().nullish().optional(),allowDecimals:Gl.z.boolean().nullable().optional(),minValue:Gl.z.coerce.number().nullable().optional().nullish(),maxValue:Gl.z.coerce.number().nullable().optional().nullish(),resultFilled:Gl.z.boolean().nullable().optional()}).partial(),Jl=Hl.extend({remarks:Gl.z.string().max(1e3,"1000 char(s) max").optional().nullable().nullish(),setMembers:Gl.z.array(Hl.refine((function(e){var t=e.isNumeric,n=e.value;if(!t)return!0;if(!n)return!0;if("string"==typeof n){if(0==n.length)return!0;n=n.replace(" ","X")}return!Number.isNaN(Number(n))}),{message:"Number required",path:["value"]}).refine((function(e){var t=e.isNumeric,n=e.value,r=e.allowDecimals;if(!t)return!0;if(!n)return!0;if("string"==typeof n){if(0==n.length)return!0;n=n.replace(" ","X")}var a=Number(n);return!!Number.isNaN(a)||!!(r=null==r||r)||Math.ceil(a)==a}),{message:"Decimals not allowed",path:["value"]}).refine((function(e){var t=e.isNumeric,n=e.value,r=e.minValue;if(!t)return!0;if(!r)return!0;if(!n)return!0;if("string"==typeof n){if(0==n.length)return!0;n=n.replace(" ","X")}return Number(n)>=Number(r)}),{message:"Lower than supported minimum value",path:["value"]}).refine((function(e){var t=e.isNumeric,n=e.value,r=e.maxValue;if(!t)return!0;if(!r)return!0;if(!n)return!0;if("string"==typeof n){if(0==n.length)return!0;n=n.replace(" ","X")}return Number(n)<=Number(r)}),{message:"Higher than supported maximum value",path:["value"]})).optional().superRefine((function(e,t){if(e&&e.length>0&&(null==e?void 0:e.find((function(e){return e.value}))))for(var n=0;n<e.length;n++)e[n].value||t.addIssue({code:"custom",path:[n,"value"],message:"Required"})}))}).refine((function(e){var t=e.isNumeric,n=e.value;if(!t)return!0;if(!n)return!0;if("string"==typeof n){if(0==n.length)return!0;n=n.replace(" ","X")}return!Number.isNaN(Number(n))}),{message:"Number required",path:["value"]}).refine((function(e){var t=e.isNumeric,n=e.value,r=e.allowDecimals;if(!t)return!0;if(!n)return!0;if("string"==typeof n){if(0==n.length)return!0;n=n.replace(" ","X")}var a=Number(n);return!!Number.isNaN(a)||!!(r=null==r||r)||Math.ceil(a)==a}),{message:"Decimals not allowed",path:["value"]}).refine((function(e){var t=e.isNumeric,n=e.value,r=e.minValue;if(!t)return!0;if(!r)return!0;if(!n)return!0;if("string"==typeof n){if(0==n.length)return!0;n=n.replace(" ","X")}return Number(n)>=Number(r)}),{message:"Lower than supported minimum value",path:["value"]}).refine((function(e){var t=e.isNumeric,n=e.value,r=e.maxValue;if(!t)return!0;if(!r)return!0;if(!n)return!0;if("string"==typeof n){if(0==n.length)return!0;n=n.replace(" ","X")}return Number(n)<=Number(r)}),{message:"Higher than supported maximum value",path:["value"]}).refine((function(e){var t=e.isPanel,n=e.isCoded,r=e.isTextOrNumeric,a=e.setMembers,o=e.value;return!t||!!a&&(!(a.find((function(e){return!!e.value}))||(r||n)&&o)||!a.some((function(e){return!Boolean(e.value)}))&&(!r&&!n||Boolean(o)))}),{message:"All fields required if any is set",path:["setMembers"]}),Wl=Gl.z.object({worksheetItems:Gl.z.array(Jl)});function Vl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ql(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Vl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Jl.refine((function(e){var t=e.isPanel,n=e.isCoded,r=e.isTextOrNumeric,a=e.setMembers,o=e.value;return!t||!!a&&(!(a.find((function(e){return!!e.value}))||(r||n)&&o)||a.some((function(e){return!Boolean(e.value)}))&&(!r&&!n||Boolean(o)))}),{message:"All fields required if any is set",path:["setMembers"]});const Kl=function(e){var t=e.worksheetItems,n=e.loadTestResults,a=e.disableImport,i=(0,He.useTranslation)().t,s=(0,o.useMemo)((function(){var e=Object.entries(null==t?void 0:t.reduce((function(e,t){var n;return(null==t||null===(n=t.permission)||void 0===n?void 0:n.canEditTestResults)&&(e[t.testUuid]=En(t.testName,t.testShortName)),e}),{})).sort((function(e,t){var n=Ql(e,2)[1],r=Ql(t,2)[1];return null==n?void 0:n.localeCompare(r,void 0,{ignorePunctuation:!0})}));return e}),[t]);return s.length>0?l().createElement(ke.qaq,{size:"sm",iconDescription:"Import",hasIcon:!0,renderIcon:function(e){return l().createElement(bo.sD,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Yl(e,t,n[t])}))}return e}({},e),n=null!=(n={size:16})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t));var t,n},kind:"ghost",onClick:function(){var e=(0,r.showModal)("lab-import-test-results-dialog",{closeModal:function(t){e()},availableTests:s,loadTestResults:n})},disabled:a||!s||0==s.length},i("laboratoryImportTestResults","Load Results")):l().createElement(l().Fragment,null)};var Zl="DO NOT FILL",Xl=n(1072);function $l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ei(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function ti(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){ei(o,r,a,l,i,"next",e)}function i(e){ei(o,r,a,l,i,"throw",e)}l(void 0)}))}}function ni(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ni(e,t,n[t])}))}return e}function ai(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function oi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function li(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}const ii=function(e){var t=e.worksheetItems,n=e.worksheetUuid,a=e.atLocationUuid,i=e.requireSingleTestTypeForResultsImport,s=(0,He.useTranslation)().t,c=oi((0,o.useState)(!1),2),u=c[0],d=c[1],m=oi((0,o.useState)(0),2),A=m[0],p=m[1],_=oi((0,o.useState)({}),2),v=_[0],f=(_[1],[{id:0,header:s("sampleType","Sample Type"),key:"sampleType"},{id:1,header:s("laboratorySampleReference","Sample ID"),key:"accessionNumber"},{id:2,header:s("collectionDate","Collection Date"),key:"collectionDate"},{id:3,header:s("volume","Volume"),key:"volume"},{id:4,header:s("containerType","Container"),key:"containerType"},{id:5,header:s("laboratorySampleTest","Test"),key:"test"},{id:6,header:s("laboratorySampleTestResult","Result"),key:"result"},{id:7,header:"",key:"actions"}]),b=(0,o.useMemo)((function(){var e,n,r=null!==(n=null==t||null===(e=t.filter((function(e){var t;return null===(t=e.permission)||void 0===t?void 0:t.canEditTestResults})))||void 0===e?void 0:e.length)&&void 0!==n?n:0,a=null==t?void 0:t.reduce((function(e,t){var n,r;return e[t.testUuid]=!0,e.attachment=e.attachment||null!==(r=null===(n=t.testResult)||void 0===n?void 0:n.hasAttachment)&&void 0!==r&&r,e}),{attachment:!1}),o=2==Object.keys(a).length;return{singleTestType:o,canEditSome:r>0,allEditable:r==(null==t?void 0:t.length),canAttachResultFile:o&&(!a.attachment||r==(null==t?void 0:t.length))&&!t.some((function(e){return!e.testResult}))}}),[t]),g=!(!i||(null==b?void 0:b.singleTestType)),y=(0,Wo.aS)({defaultValues:{worksheetItems:t.sort((function(e,t){var n,r,a,o,l,i;return(null!==(l=null===(r=it()(e.dateCreated))||void 0===r||null===(n=r.toDate())||void 0===n?void 0:n.getTime())&&void 0!==l?l:0)-(null!==(i=null===(o=it()(t.dateCreated))||void 0===o||null===(a=o.toDate())||void 0===a?void 0:a.getTime())&&void 0!==i?i:0)})).map((function(e){var t,n,r,a,o,l,i,s,c,u,d,m={id:e.uuid,worksheetItem:e,worksheetItemUuid:e.uuid,concept:e.testConcept,isCoded:_a(e.testConcept),isPanel:va(e.testConcept),isTextOrNumeric:fa(e.testConcept),orderUuid:e.orderUuid,testResultUuid:null===(t=e.testResult)||void 0===t?void 0:t.uuid,conceptUuid:e.testConcept.uuid,remarks:null!==(r=null===(n=e.testResult)||void 0===n?void 0:n.remarks)&&void 0!==r?r:"",isNumeric:ba(e.testConcept),minValue:null,maxValue:null,allowDecimals:!0};if(m.isNumeric&&(m.minValue=null===(a=e.testConcept)||void 0===a?void 0:a.lowAbsolute,m.maxValue=null===(o=e.testConcept)||void 0===o?void 0:o.hiAbsolute,m.allowDecimals=null===(i=null===(l=e.testConcept)||void 0===l?void 0:l.allowDecimal)||void 0===i||i),m.isPanel&&(m.setMembers=e.testConcept.setMembers.map((function(t,n){var r,a,o,l,i,s,c=null===(o=e.testResult)||void 0===o||null===(a=o.obs)||void 0===a||null===(r=a.groupMembers)||void 0===r?void 0:r.find((function(e){var n;return(null===(n=e.concept)||void 0===n?void 0:n.uuid)==t.uuid})),u={id:"".concat(e.uuid,"-").concat(n),worksheetItem:e,worksheetItemUuid:e.uuid,concept:t,isCoded:_a(t),isPanel:va(t),isTextOrNumeric:fa(t),orderUuid:e.orderUuid,conceptUuid:t.uuid,isNumeric:ba(t),minValue:null,maxValue:null,allowDecimals:!0};if(u.isNumeric&&(u.minValue=null==t?void 0:t.lowAbsolute,u.maxValue=null==t?void 0:t.hiAbsolute,u.allowDecimals=null===(l=null==t?void 0:t.allowDecimal)||void 0===l||l),u.isCoded)u.value=null!==(s=null==c||null===(i=c.value)||void 0===i?void 0:i.uuid)&&void 0!==s?s:"";else if(u.isTextOrNumeric){var d;u.value=null!==(d=null==c?void 0:c.value)&&void 0!==d?d:""}return u}))),m.isCoded)m.value=null!==(d=null===(u=e.testResult)||void 0===u||null===(c=u.obs)||void 0===c||null===(s=c.value)||void 0===s?void 0:s.uuid)&&void 0!==d?d:"";else if(m.isTextOrNumeric){var A,p,_;m.value=null!==(_=null===(p=e.testResult)||void 0===p||null===(A=p.obs)||void 0===A?void 0:A.value)&&void 0!==_?_:""}return m}))},mode:"all",resolver:(0,Ml.C)(Wl)}),h=y.control,C=y.register,E=y.formState,S=(E.isSubmitting,E.errors),k=y.getValues,T=y.handleSubmit,O=y.setFocus,N=y.setValue,x=(0,Wo.QL)({control:h,name:"worksheetItems"}).fields,I=function(){var e=ti((function(e){var o,l,i,c,u;return li(this,(function(m){switch(m.label){case 0:if(0==(l=null===(o=e.worksheetItems)||void 0===o?void 0:o.map((function(e){var n,r,a=t.find((function(t){return t.uuid==e.worksheetItemUuid}));if(!(null===(n=a.permission)||void 0===n?void 0:n.canEditTestResults))return null;var o,l,i,s,c,u={concept:{uuid:a.testConcept.uuid},status:"FINAL",order:{uuid:a.orderUuid}};if(e.isCoded&&(u.value={uuid:null===(i=a.testResult)||void 0===i||null===(l=i.obs)||void 0===l||null===(o=l.value)||void 0===o?void 0:o.uuid}),e.isTextOrNumeric&&(u.value=(null===(c=a.testResult)||void 0===c||null===(s=c.obs)||void 0===s?void 0:s.value)+""),e.isPanel&&e.setMembers){var d=e.setMembers.map((function(e){var t,n,r,o,l=null==a||null===(r=a.testResult)||void 0===r||null===(n=r.obs)||void 0===n||null===(t=n.groupMembers)||void 0===t?void 0:t.find((function(t){var n;return(null===(n=t.concept)||void 0===n?void 0:n.uuid)==e.conceptUuid})),i={concept:{uuid:e.conceptUuid},status:"FINAL",order:{uuid:e.orderUuid},value:void 0};return e.isCoded&&(i.value={uuid:null==l||null===(o=l.value)||void 0===o?void 0:o.uuid}),e.isTextOrNumeric&&(i.value=(null==l?void 0:l.value)+""),i})).filter((function(e){return e.value})).sort((function(e,t){var n,r,a;return null===(a=e.concept)||void 0===a||null===(r=a.uuid)||void 0===r?void 0:r.localeCompare(null===(n=t.concept)||void 0===n?void 0:n.uuid,void 0,{ignorePunctuation:!0})}));d.length>0&&(u.groupMembers=d)}var m,A,p={concept:{uuid:a.testConcept.uuid},status:"FINAL",order:{uuid:a.orderUuid}};if(e.isCoded&&e.value&&(p.value={uuid:e.value}),e.isTextOrNumeric&&e.value&&(p.value=e.value),e.isPanel&&e.setMembers){var _=e.setMembers.map((function(e){var t={concept:{uuid:e.conceptUuid},status:"FINAL",order:{uuid:e.orderUuid},value:void 0};return e.isCoded&&e.value&&(t.value={uuid:e.value}),e.isTextOrNumeric&&e.value&&(t.value=e.value),t})).filter((function(e){return e.value})).sort((function(e,t){var n,r,a;return null===(a=e.concept)||void 0===a||null===(r=a.uuid)||void 0===r?void 0:r.localeCompare(null===(n=t.concept)||void 0===n?void 0:n.uuid,void 0,{ignorePunctuation:!0})}));_.length>0&&(p.groupMembers=_)}return(0,Jo.c)(u,p)&&(null!==(m=e.remarks)&&void 0!==m?m:"")===(null!==(A=null==a||null===(r=a.testResult)||void 0===r?void 0:r.remarks)&&void 0!==A?A:"")?null:{worksheetItemUuid:a.uuid,obs:p,remarks:e.remarks}})).filter((function(e){var t,n;return e&&((null===(t=e.obs)||void 0===t?void 0:t.value)||(null===(n=e.obs)||void 0===n?void 0:n.groupMembers))}))).length)return(0,r.showSnackbar)({isLowContrast:!0,title:s("laboratoryTestResultSubmitNoChanges","No test result changes detected"),kind:"error",subtitle:"Check and verify you have input the test results for the worksheet item you want to save",autoClose:!0}),[2];m.label=1;case 1:return m.trys.push([1,3,,4]),l.forEach((function(e){e.atLocationUuid=a})),i={testResults:l,worksheetUuid:n},d(!0),[4,(A=i,St(ee,{method:"POST",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal,body:A}))];case 2:return c=m.sent(),d(!1),zn(ne),zn(re),zn(Y),zn(X),(null==c?void 0:c.data)&&(0,r.showSnackbar)({isLowContrast:!0,title:s("laboratoryUpdateTestResult","Update Test Results"),kind:"success",subtitle:s("laboratorySavedTestResultSuccess","Test Result saved Successfully")}),[3,4];case 3:return u=m.sent(),d(!1),(0,r.showNotification)({title:s("laboratoryUpdateTestResultError","Error updating test result(s)"),kind:"error",critical:!0,description:Yr(u)}),[3,4];case 4:return[2]}var A}))}));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=ti((function(e){return li(this,(function(e){return(0,r.showSnackbar)({isLowContrast:!0,title:s("laboratoryTestResultSubmitError","Error saving test result"),kind:"error",subtitle:"Check and complete the required fields",autoClose:!0}),[2]}))}));return function(t){return e.apply(this,arguments)}}(),R=(0,o.useCallback)((function(e,n,a,o){var l=e.concept,i=t.filter((function(e){var t,n;return(null===(t=e.permission)||void 0===t?void 0:t.canEditTestResults)&&(null===(n=e.testConcept)||void 0===n?void 0:n.uuid)==l}));if(!o||0==o.length)return s("laboratoryTestResultFillResultsNodata","No data to fill the results");if(0==i.length)return s("laboratoryTestResultFillResultsNoPendingTests","No Pending tests to fill the results");var c=n.reduce((function(e,t){return e[t.name]=t.index,e}),{}),u=c[a];if(!u)return s("laboratoryTestResultFillResultsSampleIdFieldNotFound","Sample ID field not found");if(u<0||u>=o[0].length)return s("laboratoryTestResultFillResultsSampleIdPosNotFound","Sample ID not found in data to fill");var d=i.reduce((function(e,t){return e[t.sampleAccessionNumber.toLowerCase().trim()]=!0,e}),{}),m=Object.entries(o.reduce((function(e,t){var n;return e[t[u].toLowerCase().trim()]=(null!==(n=e[t[u].toLowerCase().trim()])&&void 0!==n?n:0)+1,e}),{})).filter((function(e){var t=oi(e,2);return t[0],t[1]>1}));if(m.length>0)return s("laboratoryTestResultFillResultsSampleIdDuplicate","Sample ID ".concat(m[0][0]," has ").concat(m[0][1]," duplicate entries in the file"));if(0==(o=o.filter((function(e){return d[e[u].toLowerCase().trim()]}))).length)return s("laboratoryTestResultFillResultsNoMatchingSamples","No matching samples found to fill the results");var A=[],_=k(),v=[];o.forEach((function(t){var n,r,a,o,i,s=null===(r=t[u])||void 0===r||null===(n=r.toLowerCase())||void 0===n?void 0:n.trim(),d=null===(a=_.worksheetItems)||void 0===a?void 0:a.findIndex((function(e){var t,n,r,a,o,i=e;return s&&(null==i||null===(n=i.worksheetItem)||void 0===n||null===(t=n.sampleAccessionNumber)||void 0===t?void 0:t.trim().toLowerCase())==s&&(null==i||null===(a=i.worksheetItem)||void 0===a||null===(r=a.permission)||void 0===r?void 0:r.canEditTestResults)&&(null==i||null===(o=i.concept)||void 0===o?void 0:o.uuid)==l}));if(d<0)A.push({sampleId:t[u],message:"Not found in pending results",success:!1});else{var m=_.worksheetItems[d];if(e.concept==m.conceptUuid){var p=!1;if(e.value&&e.value!=Zl){var f=c[e.value];if(f&&f<t.length){var b=t[f];if(m.isNumeric){var g=new Xl.c(1);if(ga(e.scale)&&(g=new Xl.c(e.scale)),b&&ga(b)){var y=new Xl.c(b).mul(g);v.push({fieldPath:"worksheetItems.".concat(d,".value"),value:y.toString()}),p=!0}}else if(m.isTextOrNumeric)v.push({fieldPath:"worksheetItems.".concat(d,".value"),value:b}),p=!0;else if(m.isCoded){var h,C,w,E=null===(h=e.answers)||void 0===h?void 0:h.find((function(e){return e.value==b}));if(!E&&ga(b)){var S,k=new Xl.c(b);E=null===(S=e.answers)||void 0===S?void 0:S.find((function(e){var t;if((null===(t=e.value)||void 0===t?void 0:t.startsWith("<"))||e.value.startsWith(">")){var n,r;if(e.value.length<2)return!1;var a=new Xl.c(null===(n=e.value)||void 0===n?void 0:n.substring(1).trim());return(null===(r=e.value)||void 0===r?void 0:r.startsWith("<"))?k.comparedTo(a)<0:k.comparedTo(a)>0}var o=e.value.indexOf("><");if(o<0||0==o||o==e.value.length-1)return!1;var l=e.value.split("><",2);return 2==l.length&&!(!ga(l[0])||!ga(l[1]))&&k.comparedTo(new Xl.c(l[0]))>0&&k.comparedTo(new Xl.c(l[1]))<0}))}E&&(null===(w=m.concept)||void 0===w||null===(C=w.answers)||void 0===C?void 0:C.find((function(e){return e.uuid==E.concept})))&&(v.push({fieldPath:"worksheetItems.".concat(d,".value"),value:E.concept}),p=!0)}}}(null===(o=e.setMembers)||void 0===o?void 0:o.length)>0&&m.isPanel&&(null===(i=m.setMembers)||void 0===i?void 0:i.length)>0&&e.setMembers.forEach((function(e){if(e.value&&e.value!=Zl){var n=c[e.value];if(n&&n<t.length){var r,a=t[n],o=null==m||null===(r=m.setMembers)||void 0===r?void 0:r.findIndex((function(t){return(null==t?void 0:t.conceptUuid)==(null==e?void 0:e.concept)}));if(o<0)return;var l=m.setMembers[o];if(l.isNumeric){var i=new Xl.c(1);if(ga(e.scale)&&(i=new Xl.c(e.scale)),a&&ga(a)){var s=new Xl.c(a).mul(i);v.push({fieldPath:"worksheetItems.".concat(d,".setMembers.").concat(o,".value"),value:s.toString()}),p=!0}}else if(l.isTextOrNumeric)v.push({fieldPath:"worksheetItems.".concat(d,".setMembers.").concat(o,".value"),value:a}),p=!0;else if(l.isCoded){var u,A,_,f=null===(u=e.answers)||void 0===u?void 0:u.find((function(e){return e.value==a}));if(!f&&ga(a)){var b,g=new Xl.c(a);f=null===(b=e.answers)||void 0===b?void 0:b.find((function(e){var t;if((null===(t=e.value)||void 0===t?void 0:t.startsWith("<"))||e.value.startsWith(">")){var n,r;if(e.value.length<2)return!1;var a=new Xl.c(null===(n=e.value)||void 0===n?void 0:n.substring(1).trim());return(null===(r=e.value)||void 0===r?void 0:r.startsWith("<"))?g.comparedTo(a)<0:g.comparedTo(a)>0}var o=e.value.indexOf("><");if(o<0||0==o||o==e.value.length-1)return!1;var l=e.value.split("><",2);return 2==l.length&&!(!ga(l[0])||!ga(l[1]))&&g.comparedTo(new Xl.c(l[0]))>0&&g.comparedTo(new Xl.c(l[1]))<0}))}f&&(null===(_=l.concept)||void 0===_||null===(A=_.answers)||void 0===A?void 0:A.find((function(e){return e.uuid==f.concept})))&&(v.push({fieldPath:"worksheetItems.".concat(d,".setMembers.").concat(o,".value"),value:f.concept}),p=!0)}}}})),p&&v.push({fieldPath:"worksheetItems.".concat(d,".resultFilled"),value:!0})}else A.push({sampleId:t[u],message:"Concept mismatch or duplicate Sample IDs in the file",success:!1})}})),v.length>0&&(v.forEach((function(e){return N(e.fieldPath,e.value)})),(0,r.showSnackbar)({isLowContrast:!0,title:s("laboratoryUpdateTestResultFillSuccess","Fill Test Results"),kind:"success",subtitle:s("laboratoryUpdateTestResultImportHighlight","Samples with filled results are highlighted")}),p((function(e){return e+1})));var f=(A=A.filter((function(e){return!e.success}))).reduce((function(e,t){return e?e="".concat(t.sampleId,": ").concat(t.message):e+=", \n"+"".concat(t.sampleId,": ").concat(t.message)}),"");return 0==v.length?f:(f&&(0,r.showNotification)({title:s("laboratoryUpdateTestResultImportError","Error filling test result(s)"),kind:"error",critical:!0,description:f}),null)}),[k,t,N,s]);return l().createElement("div",{className:zt.worksheetItemWrapper},l().createElement(ke.iSL,{headers:f,rows:x,isSortable:!1,useZebraStyles:!0,overflowMenuOnHover:!0,render:function(e){var n,a=e.headers,o=e.getHeaderProps,i=e.getTableProps,c=e.getRowProps,d=e.expandRow,m=e.getToolbarProps;return l().createElement(ke._tR,{className:"".concat(zt.tableContainer)},l().createElement(ke.MBp,ai(ri({},m()),{style:{position:"static",margin:0}}),l().createElement(ke.aGn,{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},l().createElement("div",{style:{paddingLeft:"1rem",display:"flex",flexDirection:"row",gap:"1rem"}},l().createElement("span",null,t.length,"-",s("items","Item(s)")),l().createElement("span",null,t.filter((function(e){return e.testResult||e.status==ar})).length,"-",s("laboratoryResulted","Resulted"))),(null==t?void 0:t.some((function(e){var t;return null===(t=e.permission)||void 0===t?void 0:t.canEditTestResults})))&&l().createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"}},l().createElement(Kl,{disableImport:g,loadTestResults:R,worksheetItems:t}),l().createElement(ke.qaq,{onClick:T(I,D),size:"md",kind:"secondary"},u?l().createElement(ke.kp8,null):s("laboratoryWorksheetSaveTestResults","Save Test Results"))))),l().createElement(ke.oJK,ai(ri({},i()),{className:zt.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,l().createElement(ke.ugy,null),a.map((function(e){var t,n;return"details"!==e.key&&l().createElement(ke.IEe,ai(ri({},o({header:e,isSortable:!1})),{className:r.isDesktop?zt.desktopHeader:zt.tabletHeader,key:"".concat(e.key)}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})))),l().createElement(ke.qqV,{key:A},x.map((function(e,t){var n,o,i,u,m,A,p,_,f,b,g,y,E,T,N,x,I,D,R,B,P,q,j,F,L,U,z,M,G,H,J,W,V,Y,Q,K,Z,X,$,ee,te,ne,re,ae,oe,le,ie,se,ce,ue,de,me,Ae,pe,_e,ve,fe,be,ge,ye,he,Ce,we,Ee,Se,Te,Oe,Ne,xe,Ie,De,Re,Be,Pe,qe,je,Fe,Le,Ue,ze,Me,Ge,He=e;return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.cjO,ai(ri({className:"".concat(r.isDesktop?zt.desktopRow:zt.tabletRow," ").concat((null===(n=He.worksheetItem.permission)||void 0===n?void 0:n.canEditTestResults)||(null==He||null===(o=He.worksheetItem.permission)||void 0===o?void 0:o.canViewTestResults)&&(null==He||null===(i=He.worksheetItem)||void 0===i?void 0:i.testResult)?"":zt.noTestResultsRow," ").concat(k("worksheetItems.".concat(t,".resultFilled"))&&null!==(Re=zt.highlightTestResult)&&void 0!==Re?Re:"")},c({row:e})),{key:e.id,isExpanded:Boolean(v[e.id]),onExpand:function(t){return n=e.id,v[n]=Boolean(!v[n]),void d(n);var n}}),l().createElement(ke.y6P,null,He.worksheetItem.sampleTypeName),l().createElement(ke.y6P,null,l().createElement(ke.EDW,{type:"green"},l().createElement(Ao,{showPrint:!0,reference:He.worksheetItem.sampleAccessionNumber,className:zt.testSampleReference,sampleType:He.worksheetItem.sampleTypeName,entityName:La(He.worksheetItem)}))),l().createElement(ke.y6P,null,l().createElement("div",null,He.worksheetItem.sampleCollectionDate?qt(He.worksheetItem.sampleCollectionDate):"Unknown",l().createElement("div",null,He.worksheetItem.sampleCollectedByFamilyName," ",He.worksheetItem.sampleCollectedByMiddleName," ",He.worksheetItem.sampleCollectedByGivenName))),l().createElement(ke.y6P,null,He.worksheetItem.sampleVolume?"".concat(null!==(Be=null===(u=He.worksheetItem.sampleVolume)||void 0===u?void 0:u.toLocaleString())&&void 0!==Be?Be:"").concat(He.worksheetItem.sampleVolumeUnitName):"N/A"),l().createElement(ke.y6P,null,"".concat(null!==(Pe=He.worksheetItem.sampleContainerCount)&&void 0!==Pe?Pe:""," ").concat(null!==(qe=He.worksheetItem.sampleContainerTypeName)&&void 0!==qe?qe:"N/A")),l().createElement(ke.y6P,null,l().createElement("div",null,l().createElement(ke.EDW,{type:"blue"},l().createElement("span",{className:zt.testRequestSampleTest},En(He.worksheetItem.testName,He.worksheetItem.testShortName)," ")),l().createElement("div",{className:zt.worksheetTestFooter},l().createElement("a",{href:w(He.worksheetItem.testRequestNo,""),target:"_blank"},He.worksheetItem.testRequestNo),", ",He.worksheetItem.orderNumber,", ",He.worksheetItem.referralFromFacilityName?"".concat(He.worksheetItem.referralInExternalRef?He.worksheetItem.referralInExternalRef+"-":"").concat(He.worksheetItem.referralFromFacilityName):"".concat(He.worksheetItem.patientIdentifier,"-").concat(null!==(je=He.worksheetItem.patientFamilyName)&&void 0!==je?je:""," \n                ").concat(null!==(Fe=He.worksheetItem.patientGivenName)&&void 0!==Fe?Fe:""," \n                ").concat(null!==(Le=He.worksheetItem.patientMiddleName)&&void 0!==Le?Le:"")))),l().createElement(ke.y6P,null,(null===(m=He.worksheetItem.permission)||void 0===m?void 0:m.canEditTestResults)?(null==He?void 0:He.isPanel)?l().createElement(ke.qaq,{size:"sm",className:zt.headerButton,iconDescription:"Edit Results",kind:"ghost",onClick:function(n){return function(e,t){v[e]||(v[e]=!0,d(e)),setTimeout((function(){O("worksheetItems.".concat(t,".setMembers.0.value")),O("worksheetItems.".concat(t,".value"))}),100)}(e.id,t)}},(null==He||null===(A=He.worksheetItem)||void 0===A?void 0:A.testResult)?s("laboratoryEditResults","Edit Results"):s("laboratoryAddResults","Add Results")):l().createElement("div",null,l().createElement(tl,{rowIndex:t,concept:He.concept,control:h,errors:S,isCoded:He.isCoded,isPanel:He.isPanel,isTextOrNumeric:He.isTextOrNumeric,register:C,controllerName:"worksheetItems.".concat(t),key:He.worksheetItemUuid,hideLabel:!0})):(null==He||null===(p=He.worksheetItem.permission)||void 0===p?void 0:p.canViewTestResults)?l().createElement(l().Fragment,null,(null==He||null===(g=He.worksheetItem)||void 0===g||null===(b=g.testResult)||void 0===b||null===(f=b.obs)||void 0===f||null===(_=f.display)||void 0===_?void 0:_.indexOf(":"))>0?null==He||null===(R=He.worksheetItem)||void 0===R||null===(D=R.testResult)||void 0===D||null===(I=D.obs)||void 0===I||null===(x=I.display)||void 0===x?void 0:x.substring((null==He||null===(N=He.worksheetItem)||void 0===N||null===(T=N.testResult)||void 0===T||null===(E=T.obs)||void 0===E||null===(y=E.display)||void 0===y?void 0:y.indexOf(":"))+1):null==He||null===(q=He.worksheetItem)||void 0===q||null===(P=q.testResult)||void 0===P||null===(B=P.obs)||void 0===B?void 0:B.display):He.worksheetItem.testResultUuid?s("accessDenied","Access Denied"):s("No Test Results")),l().createElement(ke.y6P,null,(null==He||null===(j=He.worksheetItem.permission)||void 0===j?void 0:j.canDelete)?l().createElement("div",{className:"".concat(zt.clearGhostButtonPadding," ").concat(zt.rowActions)},(null==He||null===(F=He.worksheetItem.permission)||void 0===F?void 0:F.canDelete)&&l().createElement(zl,{worksheet:He})):"")),((null===(L=He.worksheetItem.permission)||void 0===L?void 0:L.canEditTestResults)||(null==He||null===(U=He.worksheetItem.permission)||void 0===U?void 0:U.canViewTestResults)&&(null==He||null===(z=He.worksheetItem)||void 0===z?void 0:z.testResult))&&l().createElement(ke.Ocq,{className:"".concat(zt.tableExpandedRow," ").concat(zt.worksheetItemTableExpandedRow),colSpan:a.length+1},v[e.id]&&l().createElement("div",{className:zt.worksheetItemRowDetails},(null===(M=He.worksheetItem.permission)||void 0===M?void 0:M.canEditTestResults)&&l().createElement("div",{className:zt.worksheetItemInput},He.isPanel&&l().createElement("div",{className:zt.worksheetItemInlineExpField},(null==S||null===(J=S.worksheetItems)||void 0===J||null===(H=J[t])||void 0===H||null===(G=H.setMembers)||void 0===G?void 0:G.root)&&l().createElement("div",{className:zt.errorDiv,style:{gridColumn:"1 / span 2",paddingLeft:"0.5rem",paddingTop:"0.5rem"}},null==S||null===(Y=S.worksheetItems)||void 0===Y||null===(V=Y[t])||void 0===V||null===(W=V.setMembers)||void 0===W?void 0:W.root.message),l().createElement(tl,{rowIndex:t,concept:He.concept,control:h,errors:S,isCoded:He.isCoded,isPanel:He.isPanel,isTextOrNumeric:He.isTextOrNumeric,register:C,controllerName:"worksheetItems.".concat(t),key:He.worksheetItemUuid,hideLabel:!1})),l().createElement(rl,{id:"worksheetItems.".concat(t,".remarks"),name:"worksheetItems.".concat(t,".remarks"),control:h,controllerName:"worksheetItems.".concat(t,".remarks"),maxLength:500,value:"".concat(null!==(Ue=He.remarks)&&void 0!==Ue?Ue:""),labelText:s("laboratoryTestResultAdditionalRemarks","Additional Remarks"),invalid:!!(null===(K=S.worksheetItems)||void 0===K||null===(Q=K[t])||void 0===Q?void 0:Q.remarks),invalidText:null===($=S.worksheetItems)||void 0===$||null===(X=$[t])||void 0===X||null===(Z=X.remarks)||void 0===Z?void 0:Z.message}),(null==He||null===(ee=He.worksheetItem)||void 0===ee?void 0:ee.testResult)&&l().createElement("div",{style:{padding:"1rem"}},l().createElement("div",{className:(null==He||null===(re=He.worksheetItem)||void 0===re||null===(ne=re.testResult)||void 0===ne||null===(te=ne.approvals)||void 0===te?void 0:te.length)>0?zt.lastResultBy:"",style:{paddingBottom:"0.5rem"}},s("lastResultsBy","Last results by")," ",l().createElement("strong",null,null!==(ze=null==He||null===(oe=He.worksheetItem)||void 0===oe||null===(ae=oe.testResult)||void 0===ae?void 0:ae.resultByFamilyName)&&void 0!==ze?ze:""," ",null!==(Me=null==He||null===(ie=He.worksheetItem)||void 0===ie||null===(le=ie.testResult)||void 0===le?void 0:le.resultByMiddleName)&&void 0!==Me?Me:""," ",null!==(Ge=null==He||null===(ce=He.worksheetItem)||void 0===ce||null===(se=ce.testResult)||void 0===se?void 0:se.resultByGivenName)&&void 0!==Ge?Ge:""," "),s("on","On"),l().createElement("strong",null," ",qt(null==He||null===(de=He.worksheetItem)||void 0===de||null===(ue=de.testResult)||void 0===ue?void 0:ue.resultDate)," "),(null==He||null===(Ae=He.worksheetItem)||void 0===Ae||null===(me=Ae.testResult)||void 0===me?void 0:me.atLocationName)&&l().createElement(l().Fragment,null," ",s("at","At"),l().createElement("strong",null," ",null==He||null===(_e=He.worksheetItem)||void 0===_e||null===(pe=_e.testResult)||void 0===pe?void 0:pe.atLocationName))),(null==He||null===(ve=He.worksheetItem)||void 0===ve?void 0:ve.testResult)&&l().createElement(ul,{testResult:null==He||null===(fe=He.worksheetItem)||void 0===fe?void 0:fe.testResult,mode:"TestResult",readonly:!1}),(null==He||null===(ye=He.worksheetItem)||void 0===ye||null===(ge=ye.testResult)||void 0===ge||null===(be=ge.approvals)||void 0===be?void 0:be.length)>0&&l().createElement(gl,{approvals:null==He||null===(Ce=He.worksheetItem)||void 0===Ce||null===(he=Ce.testResult)||void 0===he?void 0:he.approvals}))),!(null===(we=He.worksheetItem.permission)||void 0===we?void 0:we.canEditTestResults)&&(null==He||null===(Ee=He.worksheetItem.permission)||void 0===Ee?void 0:Ee.canViewTestResults)&&(null==He?void 0:He.worksheetItem.testResult)&&l().createElement(l().Fragment,null,l().createElement(wa,{testConcept:null==He||null===(Se=He.worksheetItem)||void 0===Se?void 0:Se.testConcept,testResult:null==He||null===(Te=He.worksheetItem)||void 0===Te?void 0:Te.testResult}),(null==He||null===(xe=He.worksheetItem)||void 0===xe||null===(Ne=xe.testResult)||void 0===Ne||null===(Oe=Ne.approvals)||void 0===Oe?void 0:Oe.length)>0&&l().createElement(gl,{approvals:null==He||null===(De=He.worksheetItem)||void 0===De||null===(Ie=De.testResult)||void 0===Ie?void 0:Ie.approvals})))))})))),0===(null!==(n=null==t?void 0:t.length)&&void 0!==n?n:0)?l().createElement("div",{className:zt.tileContainer},l().createElement(ke.g$J,{className:zt.tile},l().createElement("div",{className:zt.tileContent},l().createElement("p",{className:zt.content},s("noLaboratorySamplesToDisplay","No samples to display"))))):null)}}),(null==b?void 0:b.canAttachResultFile)&&l().createElement(ul,{worksheetUuid:n,mode:"Worksheet",readonly:!1}))};function si(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ci(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ci(e,t,n[t])}))}return e}function di(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function mi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return si(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?si(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Ai=function(){var e=(0,He.useTranslation)().t,t=mi((0,o.useState)(""),2),n=t[0],a=t[1],i=(0,r.useSession)(),s=mi((0,o.useState)(!1),2),c=s[0],u=s[1],d=At().currentOrdersDate,m=mi((0,o.useState)({}),2),A=m[0],p=(m[1],rr().laboratoryConfig.laboratoryRequireSingleTestTypeForResultsImport);(0,o.useEffect)((function(){u((null==i?void 0:i.user)&&(0,r.userHasAccess)("Task: labmanagement.worksheets.mutate",i.user))}),[]);var _=function(e){(0,He.useTranslation)().t;var t,n=jl((0,o.useState)(1),2),a=n[0],l=n[1],i=jl((0,o.useState)(10),2),s=i[0],c=i[1],u=jl((0,o.useState)(null),2),d=u[0],m=u[1],A=jl((0,o.useState)(null),2),p=A[0],_=A[1],v=jl((0,o.useState)(null),2),f=v[0],b=v[1],g=jl((0,o.useState)(null==e?void 0:e.status),2),y=g[0],h=g[1],C=jl((0,o.useState)(null==e?void 0:e.minActivatedDate),2),w=C[0],E=C[1],S=jl((0,o.useState)(null==e?void 0:e.maxActivatedDate),2),k=S[0],T=S[1],O=jl((0,o.useState)(null===(t=null==e?void 0:e.allItems)||void 0===t||t),2),N=O[0],x=O[1],I=jl((0,o.useState)(!1),2),D=I[0],R=I[1],B=jl((0,o.useState)((function(){return ql({},{startIndex:a-1,v:gt.Default,limit:10,q:null,totalCount:!0,sort:"-id"},null!=e?e:{})})),2),P=B[0],q=B[1],j=function(e){var t="".concat(X).concat(Ct(e)),n=(0,Et.cp)(t,St),r=n.data,a=n.error,o=n.isLoading,l=n.isValidating;return{items:(null==r?void 0:r.data)||{},isLoading:o,isError:a,isValidating:l}}(P),F=j.items,L=j.isLoading,U=j.isError,z=j.isValidating,M=(0,r.usePagination)(F.results,s);return(0,o.useEffect)((function(){q((function(e){return ql({},e,{startIndex:a-1,limit:s,q:d,totalCount:e.totalCount,v:e.v,minActivatedDate:w,maxActivatedDate:k,itemLocation:p,testConcept:f,allItems:N,status:y})}))}),[d,a,s,w,k,p,f,N,y]),(0,o.useEffect)((function(){!D&&L&&R(!0)}),[L,D]),{items:M.results,pagination:M,totalCount:F.totalCount,currentPageSize:s,currentPage:a,setCurrentPage:l,setPageSize:c,pageSizes:[10,20,30,40,50],isLoading:L,isValidating:z,isError:U,setSearchString:m,loaded:D,minActivatedDate:w,maxActivatedDate:k,setMinActivatedDate:E,setMaxActivatedDate:T,itemLocation:p,setItemLocation:_,testConcept:f,setTestConcept:b,allItems:N,setAllItems:x,status:y,setStatus:h}}({v:gt.Full,minActivatedDate:d,testConceptTests:!1,allItems:!0,includeWorksheetItemConcept:!0,includeWorksheetItemTestResult:!0,testResultApprovals:!0}),v=_.isLoading,f=_.items,b=_.totalCount,g=_.currentPageSize,y=_.pageSizes,h=_.currentPage,C=_.setCurrentPage,w=_.setPageSize,E=_.setSearchString,S=_.isValidating,k=_.loaded,T=_.setMinActivatedDate,O=_.minActivatedDate,N=_.setMaxActivatedDate,x=_.maxActivatedDate,I=(_.testConcept,_.setTestConcept),D=_.itemLocation,R=_.setItemLocation,B=_.allItems,P=_.setAllItems,q=_.status,j=_.setStatus,F=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){return E(e)}),300)}),[E]);(0,o.useEffect)((function(){O!==d&&T(d)}),[d,O,T]);var L=[{id:0,header:e("date","Date"),key:"worksheetDate"},{id:1,header:e("laboratoryWorksheetLocation","Lab Section"),key:"atLocationName"},{id:1,header:e("laboratoryWorksheetNumber","Sheet Number"),key:"worksheetNo"},{id:2,header:e("laboratoryWorksheetTestName","Test"),key:"testName"},{id:3,header:e("laboratoryWorksheetResponsiblePerson","Assigned To"),key:"responsiblePerson"},{id:3,header:e("laboratoryWorksheetCreated","Created"),key:"created"},{id:4,header:e("laboratoryWorksheetRemarks","Remarks"),key:"remarks"},{id:5,header:e("laboratoryWorksheetStatus","Status"),key:"status"},{id:6,header:"",key:"actions"},{id:7,header:"",key:"detailsItems"}],U=(0,o.useMemo)((function(){return null==f?void 0:f.map((function(t,n){var a,o,i,s,u,d;return{id:null==t?void 0:t.uuid,dateCreated:t.dateCreated,worksheetDate:l().createElement("span",{className:zt["single-line-display"]},Pt(null==t?void 0:t.worksheetDate)),atLocationName:null!==(a=t.atLocationName)&&void 0!==a?a:"",worksheetNo:t.worksheetNo,testName:En(t.testName,t.testShortName),responsiblePerson:(null==t?void 0:t.responsiblePersonUuid)?"".concat(null!==(o=null==t?void 0:t.responsiblePersonFamilyName)&&void 0!==o?o:""," ").concat(null!==(i=null==t?void 0:t.responsiblePersonMiddleName)&&void 0!==i?i:""," ").concat(null!==(s=null==t?void 0:t.responsiblePersonGivenName)&&void 0!==s?s:""):t.responsiblePersonOther,created:l().createElement("div",null,l().createElement("div",null,qt(t.dateCreated)),l().createElement("div",null,t.creatorFamilyName," ",t.creatorGivenName)),remarks:null!==(u=t.remarks)&&void 0!==u?u:"",status:e(null==t?void 0:t.status),actions:l().createElement(ke.qaq,{kind:"ghost",size:"md",onClick:function(){return e=t,void(0,r.navigate)({to:M(e.uuid)});var e},iconDescription:e("editLaboratoryWorksheet","Edit Worksheet"),renderIcon:function(e){var n;return c&&(null==t||null===(n=t.permission)||void 0===n?void 0:n.canEdit)?l().createElement(_o._O,ui({size:16},e)):l().createElement(bo.Uv,ui({size:16},e))}}),detailsItems:null!==(d=null==t?void 0:t.worksheetItems)&&void 0!==d?d:[]}}))}),[c,f]),G=function(){(0,r.navigate)({to:z})};return v&&!k?l().createElement(ke.m2V,{role:"progressbar"}):l().createElement(l().Fragment,null,(v||S)&&k&&l().createElement(ke.cHM,{size:"small",type:"indented",status:"status",label:"",hideLabel:!0,className:zt.progressBarThin}),l().createElement(ke.iSL,{rows:U,headers:L,isSortable:!0,useZebraStyles:!0,overflowMenuOnHover:!0,render:function(t){var o,s=t.rows,c=t.headers,u=t.getHeaderProps,d=t.getTableProps,m=t.getRowProps,_=t.getToolbarProps,v=t.expandRow;return l().createElement(ke._tR,{className:zt.tableContainer},l().createElement(ke.MBp,di(ui({},_()),{style:{position:"static",margin:0}}),l().createElement(ke.aGn,{style:{display:"flex",alignItems:"center"}},l().createElement(ke.OWJ,{placeholder:e("laboratoryFilterWorksheets","Filter Worksheets..."),persistent:!0,value:n,onChange:function(e){return t=e.target.value,a(t),void F(t);var t}}),l().createElement(Br,{maxActivatedDate:x,minActivatedDate:O,diagnosticCenterUuid:D,onMaxActivatedDateChanged:N,onDiagnosticCenterChanged:R,onTestChanged:I,enableFocus:!0,focus:B,onFocusChanged:P,enableWorksheetStatus:!0,onWorksheetStatusChanged:j,worksheetStatus:q}),l().createElement(ke.qaq,{onClick:G,size:"md",kind:"primary"},e("laboratoryNewWorksheet","New Worksheet")))),l().createElement(ke.oJK,di(ui({},d()),{className:zt.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,l().createElement(ke.ugy,null),c.map((function(e){var t,n;return!e.key.startsWith("details")&&l().createElement(ke.IEe,di(ui({},u({header:e,isSortable:e.isSortable})),{className:r.isDesktop?zt.desktopHeader:zt.tabletHeader,key:"".concat(e.key)}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})),l().createElement(ke.IEe,null))),l().createElement(ke.qqV,null,s.map((function(e,t){var n,a;return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.cjO,di(ui({className:r.isDesktop?zt.desktopRow:zt.tabletRow},m({row:e})),{key:e.id,isExpanded:Boolean(A[e.id]),onExpand:function(t){return n=e.id,A[n]=Boolean(!A[n]),void v(n);var n}}),e.cells.map((function(e){var t;return!(null==e||null===(t=e.info)||void 0===t?void 0:t.header.startsWith("details"))&&l().createElement(ke.y6P,{key:e.id},e.value)}))),l().createElement(ke.Ocq,{className:zt.tableExpandedRow,colSpan:c.length+1},A[e.id]&&l().createElement("section",{className:"".concat(zt.rowExpandedContent," ").concat(zt.worksheetItems)},l().createElement(ii,{atLocationUuid:null==i||null===(n=i.sessionLocation)||void 0===n?void 0:n.uuid,worksheetUuid:e.id,key:"".concat(e.id).concat(null===(a=e.cells[e.cells.length-1].value)||void 0===a?void 0:a.length),worksheetItems:e.cells[e.cells.length-1].value,expandRow:v,requireSingleTestTypeForResultsImport:p}))))})))),0===(null!==(o=null==s?void 0:s.length)&&void 0!==o?o:0)?l().createElement("div",{className:zt.tileContainer},l().createElement(ke.g$J,{className:zt.tile},l().createElement("div",{className:zt.tileContent},l().createElement("p",{className:zt.content},e("noPendingWorksheetsToDisplay","No pending worksheets to display"))))):null)}}),l().createElement(ke.eML,{page:h,pageSize:g,pageSizes:y,totalItems:null!=b?b:0,onChange:function(e){var t=e.page,n=e.pageSize;C(t),w(n)},className:zt.paginationOverride}))};function pi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _i=function(e){return l().createElement(Wo.Mc,{name:e.controllerName,control:e.control,render:function(t){var n,r,a=t.field,o=a.onChange,i=a.value,s=a.ref;return l().createElement(ke.gf6,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){pi(e,t,n[t])}))}return e}({},e),r=null!=(r={onChange:function(t){o(t.target.value),e.onChange&&e.onChange(t)},id:e.name,ref:s,value:i})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))})),n))}})};function vi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var bi={uuid:"Other",display:"Other",person:{display:"Other"}},gi=Gl.z.object({testRequestItemSampleUuid:Gl.z.string()}),yi=Gl.z.object({uuid:Gl.z.string().nullish(),atLocationUuid:Gl.z.string(),worksheetDate:Gl.z.date(),testUuid:Gl.z.string().optional().nullish(),diagnosisTypeUuid:Gl.z.string().optional().nullish(),responsiblePersonUuid:Gl.z.string().optional().nullish(),responsiblePersonOther:Gl.z.string().max(150).optional().nullish(),remarks:Gl.z.string().max(255).optional().nullish(),worksheetItems:Gl.z.array(gi).nonempty("Required")}).refine((function(e){var t=e.responsiblePersonUuid;return Boolean(t)}),{message:"Required",path:["responsiblePersonUuid"]}).refine((function(e){var t=e.responsiblePersonUuid,n=e.responsiblePersonOther;return t!==bi.uuid||Boolean(n)}),{message:"Required",path:["responsiblePersonOther"]});function hi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ci(e){return function(e){if(Array.isArray(e))return hi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||wi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wi(e,t){if(e){if("string"==typeof e)return hi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hi(e,t):void 0}}const Ei=function(e){var t,n,a=function(){var e=fi((0,o.useState)(!0),2),t=e[0],n=e[1],a=fi((0,o.useState)(),2),l=a[0],i=a[1],s=(0,wt.c)("".concat(r.restBaseUrl,"/concept"),(function(){return St("".concat(r.restBaseUrl,"/user").concat(Ct(l)))})),c=s.data,u=s.error,d=s.trigger,m=s.isMutating,A=(0,o.useCallback)((function(e){i(e),n(!1)}),[]);return(0,o.useEffect)((function(){t||d()}),[l,t,d]),{getUsers:A,items:(null==c?void 0:c.data)||{},isLoading:!1,isError:u,isValidating:!t&&m}}(),i=a.items.results,s=a.isLoading,c=a.isValidating,u=a.getUsers,d=(t=(0,o.useState)(""),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||wi(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=d[0],A=d[1],p=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){u({v:gt.Default,q:e,startIndex:0,limit:10})}),300)}),[u]),_=function(e){A(e),p(e)},v=Ci(null!=i?i:[]).concat([bi]);return s?l().createElement(ke.Qrc,null):l().createElement("div",null,l().createElement(Wo.Mc,{name:e.controllerName,control:e.control,render:function(t){var n,r=t.field,a=r.onChange,o=r.ref;return l().createElement(ke.Q1m,{titleText:e.title,name:e.name,control:e.control,controllerName:e.controllerName,id:e.name,size:"md",items:e.selectedId?Ci((null==v?void 0:v.some((function(t){return t.uuid===e.selectedId})))?[]:[{uuid:e.selectedId,display:e.selectedText}]).concat(Ci(null!=v?v:[])):v||[],onChange:function(t){var n,r;null===(n=e.onUserChanged)||void 0===n||n.call(e,t.selectedItem),a(null===(r=t.selectedItem)||void 0===r?void 0:r.uuid)},initialSelectedItem:e.selectedId?null!==(n=null==v?void 0:v.find((function(t){return t.uuid===e.selectedId})))&&void 0!==n?n:{uuid:e.selectedId,display:e.selectedText}:null,itemToString:function(e){var t,n,r;return"".concat(null!==(r=null!==(n=null==e||null===(t=e.person)||void 0===t?void 0:t.display)&&void 0!==n?n:null==e?void 0:e.display)&&void 0!==r?r:"")},shouldFilterItem:function(){return!0},onInputChange:_,placeholder:e.placeholder,inputValue:m,invalid:e.invalid,invalidText:e.invalidText,ref:o})}}),c&&l().createElement(ke.kp8,{status:"active",iconDescription:"Searching",description:"Searching..."}))};function Si(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ki(e){return function(e){if(Array.isArray(e))return Si(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Si(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Si(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Ti=function(e){var t,n=Yn({active:null===(t=e.active)||void 0===t||t}),r=n.items.results;return n.isLoading?l().createElement(ke.Qrc,null):l().createElement(Wo.Mc,{name:e.controllerName,control:e.control,render:function(t){var n,a=t.field.onChange;return l().createElement(ke.Q1m,{titleText:e.title,name:e.name,control:e.control,controllerName:e.controllerName,id:"".concat(e.name,"-").concat(e.idSuffix),direction:e.popUpDirection,size:"md",items:e.selectedId?ki((null==r?void 0:r.some((function(t){return t.testUuid===e.selectedId})))?[]:[{testUuid:e.selectedId,testName:e.selectedText}]).concat(ki(null!=r?r:[])):r||[],onChange:function(t){var n,r;null===(n=e.onChange)||void 0===n||n.call(e,null==t?void 0:t.selectedItem),a(null==t||null===(r=t.selectedItem)||void 0===r?void 0:r.testUuid)},initialSelectedItem:e.selectedId?null!==(n=null==r?void 0:r.find((function(t){return t.testUuid===e.selectedId})))&&void 0!==n?n:{testUuid:e.selectedId,testName:e.selectedText}:null,itemToString:function(e){return e?En(e.testName,e.testShortName):""},shouldFilterItem:function(){return!0},placeholder:e.placeholder,invalid:e.invalid,invalidText:e.invalidText})}})};function Oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ni(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ni(e,t,n[t])}))}return e}function Ii(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Di=function(e){var t=e.worksheetSelectedItems,n=e.itemOptions,a=e.selectedItemOptions,i=e.setSelectedItemOptions,s=e.onTransferItem,c=(0,He.useTranslation)().t,u=[{id:0,header:c("laboratoryWorksheetAvailablesampleType","Type"),key:"sampleType"},{id:1,header:c("laboratorySampleReference","Sample ID"),key:"accessionNumber"},{id:2,header:c("laboratorySampleTest","Test"),key:"test"},{id:3,header:"",key:"actions"}],d=(0,o.useCallback)((function(e){s(e)}),[s]),m=(0,o.useMemo)((function(){var e,r=null==t?void 0:t.reduce((function(e,t){return e[t.testRequestItemSampleUuid]=!0,e}),{});return null==n||null===(e=n.map((function(e){var t,n,r;return{testRequestItemSampleUuid:e.testRequestItemSampleUuid,id:e.testRequestItemSampleUuid,sampleType:e.sampleTypeName,accessionNumber:l().createElement("div",null,l().createElement(ke.EDW,{type:lr},l().createElement(Ao,{showPrint:!0,reference:e.sampleAccessionNumber,className:Xa.testSampleReference,sampleUuid:e.uuid,sampleType:e.sampleTypeName,entityName:La(e)}))),test:l().createElement("div",null,En(e.testName,e.testShortName),l().createElement("div",{className:Xa.worksheetTestFooter},[e.urgency,", ",e.toLocationName,", ",l().createElement("a",{href:w(e.testRequestNo,Rt(e.dateCreated)),target:"_blank"},e.testRequestNo),", ",e.orderNumber,", ",e.referralFromFacilityName?"".concat(e.referralInExternalRef?e.referralInExternalRef+"-":"").concat(e.referralFromFacilityName):"".concat(e.patientIdentifier,"-").concat(null!==(t=e.patientFamilyName)&&void 0!==t?t:""," \n          ").concat(null!==(n=e.patientGivenName)&&void 0!==n?n:""," \n          ").concat(null!==(r=e.patientMiddleName)&&void 0!==r?r:"")].filter((function(e){return e})).map((function(e,t){return l().createElement(l().Fragment,{key:t},e)})))),actions:l().createElement(ke.qaq,{size:"lg",className:Xa.clearIconButtonPadding,kind:"ghost",onClick:function(t){return d(e)},renderIcon:function(e){return l().createElement(Oe.wL,xi({size:16},e))}})}})))||void 0===e?void 0:e.filter((function(e){return e&&!r[e.id]}))}),[d,n,t]);return l().createElement(l().Fragment,null,l().createElement(ke.iSL,{headers:u,rows:m,isSortable:!0,useZebraStyles:!0,overflowMenuOnHover:!0,render:function(e){var t,o,s=e.rows,u=e.headers,d=e.getHeaderProps,A=e.getTableProps,p=e.getRowProps,_=e.getSelectionProps,v=Object.entries(a).reduce((function(e,t){var n,r,a=(r=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(n,r)||function(e,t){if(e){if("string"==typeof e)return Oi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oi(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],l=a[1];return e.selCount=e.selCount+((null==l?void 0:l.isSelected)&&(null==m?void 0:m.find((function(e){return e.id==o})))?1:0),e}),{allCount:null!==(t=null==m?void 0:m.length)&&void 0!==t?t:0,selCount:0});return l().createElement(ke._tR,{className:"".concat(Xa.tableContainer," ").concat(Xa.clearMargin," ").concat(Xa.wrapWhiteSpace)},l().createElement(ke.oJK,Ii(xi({},A()),{className:Xa.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,l().createElement(ke.Wgb,Ii(xi({},_({onClick:function(e){var t={};e.target.checked&&(null==n||n.reduce((function(e,t){return e[t.testRequestItemSampleUuid]={testRequestItemSampleUuid:t.testRequestItemSampleUuid,isSelected:!0},e}),t)),i(t)}})),{checked:m.length>0&&v.allCount==v.selCount,indeterminate:v.allCount!=v.selCount&&v.selCount>0})),u.map((function(e){var t,n;return"details"!==e.key&&l().createElement(ke.IEe,Ii(xi({},d({header:e,isSortable:e.isSortable})),{className:r.isDesktop?Xa.desktopHeader:Xa.tabletHeader,key:"".concat(e.key)}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})),l().createElement(ke.iy5,null))),l().createElement(ke.qqV,null,s.map((function(e){var t,n;return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.CGA,Ii(xi({className:"".concat(r.isDesktop?Xa.desktopRow:Xa.tabletRow," ").concat(Boolean(null===(t=a[e.id])||void 0===t?void 0:t.isSelected)?Xa.sampleSelected:"")},p({row:e})),{key:e.id,id:"tr-test-".concat(e.id)}),l().createElement(ke.qwX,Ii(xi({},_({row:e})),{classNames:Xa.selectionCheckbox,checked:Boolean(null===(n=a[e.id])||void 0===n?void 0:n.isSelected),onChange:function(t,n){return function(e,t){var n=m.find((function(e){return e.id==t}));if(n){var r=xi({},a);r[t]={isSelected:e,testRequestItemSampleUuid:n.testRequestItemSampleUuid},i(r)}}(t,e.id)}})),e.cells.map((function(e){var t;return"details"!==(null==e||null===(t=e.info)||void 0===t?void 0:t.header)&&l().createElement(ke.y6P,{key:e.id},e.value)}))))})))),0===(null!==(o=null==m?void 0:m.length)&&void 0!==o?o:0)?l().createElement("div",{className:Xa.tileContainer},l().createElement(ke.g$J,{className:Xa.tile},l().createElement("div",{className:Xa.tileContent},l().createElement("p",{className:Xa.content},c("noLaboratorySamplesToDisplay","No samples to display"))))):null)}}))};function Ri(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ri(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ri(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pi(){var e=Bi((0,o.useState)(!0),2),t=e[0],n=e[1],a=Bi((0,o.useState)(),2),l=a[0],i=a[1],s=(0,wt.c)("".concat(r.restBaseUrl,"/concept/").concat(l),(function(){return St("".concat(r.restBaseUrl,"/concept/").concat(l))})),c=s.data,u=s.error,d=s.trigger,m=s.isMutating,A=(0,o.useCallback)((function(e){n(!1),i(e)}),[]);return(0,o.useEffect)((function(){t||d()}),[l,t,d]),{getConcept:A,items:(null==c?void 0:c.data)||{},isLoading:!1,isError:u,isValidating:!t&&m}}function qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ji(e){return function(e){if(Array.isArray(e))return qi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return qi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qi(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Fi=function(e){var t,n,r,a,i,s,c=Pi(),u=c.items,d=u.answers,m=u.setMembers,A=c.getConcept,p=c.isLoading;if((0,o.useEffect)((function(){!e.concept&&e.conceptUuid&&A(e.conceptUuid)}),[]),p||!e.concept&&e.conceptUuid&&!d&&!m||!e.concept&&!e.conceptUuid)return l().createElement(ke.Qrc,null);var _=(null!==(s=e.concept?(null===(t=e.concept)||void 0===t?void 0:t.answers)&&(null===(r=e.concept)||void 0===r||null===(n=r.answers)||void 0===n?void 0:n.length)>0?null===(a=e.concept)||void 0===a?void 0:a.answers:null===(i=e.concept)||void 0===i?void 0:i.setMembers:d&&(null==d?void 0:d.length)>0?d:m)&&void 0!==s?s:[]).filter((function(t){return!e.excludeOptions||!e.excludeOptions.includes(t.uuid)}));return l().createElement(Wo.Mc,{name:e.controllerName,control:e.control,render:function(t){var n,r=t.field.onChange;return l().createElement(ke.Q1m,{className:e.className,titleText:e.title,name:e.name,control:e.control,controllerName:e.controllerName,id:"".concat(e.name,"-").concat(e.idSuffix),direction:e.popUpDrirection,size:"md",items:e.selectedId?ji((null==_?void 0:_.some((function(t){return t.uuid===e.selectedId})))?[]:[{uuid:e.selectedId,display:e.selectedText}]).concat(ji(null!=_?_:[])):_||[],onChange:function(t){var n,a;null===(n=e.onChange)||void 0===n||n.call(e,null==t?void 0:t.selectedItem),r(null==t||null===(a=t.selectedItem)||void 0===a?void 0:a.uuid)},initialSelectedItem:e.selectedId?null!==(n=null==_?void 0:_.find((function(t){return t.uuid===e.selectedId})))&&void 0!==n?n:{uuid:e.selectedId,display:e.selectedText}:null,itemToString:function(e){return e&&(null==e?void 0:e.display)?"".concat(null==e?void 0:e.display):""},shouldFilterItem:function(){return!0},placeholder:e.placeholder,invalid:e.invalid,invalidText:e.invalidText})}})};var Li=["ROUTINE","STAT"];function Ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zi(e){return function(e){if(Array.isArray(e))return Ui(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Mi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mi(e,t){if(e){if("string"==typeof e)return Ui(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ui(e,t):void 0}}const Gi=function(e){var t,n,r=Tr(),a=r.items.results,i=r.isLoading,s=(r.isValidating,r.getPatients),c=(t=(0,o.useState)(""),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||Mi(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],d=c[1],m=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){s({q:e,startIndex:0,limit:10,includeDead:!0,v:"custom:(patientId,uuid,display,patientIdentifier:(uuid,identifier),person:(gender,age,birthdate,display))"})}),300)}),[s]);return i?l().createElement(ke.Qrc,null):l().createElement(Wo.Mc,{name:e.controllerName,control:e.control,render:function(t){var n,r=t.field,o=r.onChange,i=r.ref;return l().createElement(ke.Q1m,{titleText:e.title,name:e.name,control:e.control,controllerName:e.controllerName,id:e.name,size:"md",onChange:function(t){var n,r;null===(n=e.onPatientUuidChange)||void 0===n||n.call(e,t.selectedItem),o(null===(r=t.selectedItem)||void 0===r?void 0:r.uuid)},items:e.selectedId?zi((null==a?void 0:a.some((function(t){return t.uuid===e.selectedId})))?[]:[{uuid:e.selectedId,display:e.selectedText}]).concat(zi(null!=a?a:[])):a||[],initialSelectedItem:e.selectedId?null!==(n=null==a?void 0:a.find((function(t){return t.uuid===e.selectedId})))&&void 0!==n?n:{uuid:e.selectedId,display:e.selectedText}:null,itemToString:function(e){var t,n,r,a,o,l;return e&&(null==e?void 0:e.display)?"".concat(null==e?void 0:e.display).concat((null==e||null===(t=e.person)||void 0===t?void 0:t.age)||(null==e||null===(n=e.person)||void 0===n?void 0:n.gender)?" (".concat(null!==(o=null==e||null===(r=e.person)||void 0===r?void 0:r.age)&&void 0!==o?o:"").concat(null!==(l=null==e||null===(a=e.person)||void 0===a?void 0:a.gender)&&void 0!==l?l:"",")"):""):""},shouldFilterItem:function(){return!0},onInputChange:function(e){return d(t=e),void m(t);var t},inputValue:u,placeholder:e.placeholder,ref:i,invalid:e.invalid,invalidText:e.invalidText})}})};function Hi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ji(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ji(e,t,n[t])}))}return e}function Vi(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Yi=function(e){var t=e.worksheetSelectedItems,n=e.selectedItemOptions,a=e.setSelectedItemOptions,i=e.onTransferItem,s=e.canEdit,c=(0,He.useTranslation)().t,u=[{id:0,header:"",key:"actions"},{id:1,header:c("laboratoryWorksheetAvailablesampleType","Type"),key:"sampleType"},{id:2,header:c("laboratorySampleReference","Sample ID"),key:"accessionNumber"},{id:3,header:c("laboratorySampleTest","Test"),key:"test"}],d=(0,o.useCallback)((function(e){i(e)}),[i]),m=(0,o.useMemo)((function(){return t.sort((function(e,t){var n;return null===(n=e.sampleAccessionNumber)||void 0===n?void 0:n.localeCompare(t.sampleAccessionNumber,void 0,{ignorePunctuation:!0})})).map((function(e,t){var n,r,a,o,i;return{testRequestItemSampleUuid:e.testRequestItemSampleUuid,disabled:Boolean(null==e||null===(n=e.testResult)||void 0===n?void 0:n.obs),id:e.testRequestItemSampleUuid,sampleType:e.sampleTypeName,accessionNumber:l().createElement("div",null,l().createElement(ke.EDW,{type:lr},l().createElement(Ao,{showPrint:!0,reference:e.sampleAccessionNumber,className:Xa.testSampleReference,sampleUuid:e.uuid,sampleType:e.sampleTypeName,entityName:La(e)}))),test:l().createElement("div",null,En(e.testName,e.testShortName),l().createElement("div",{className:Xa.worksheetTestFooter},[e.urgency,", ",e.toLocationName,", ",l().createElement("a",{href:w(e.testRequestNo,""),target:"_blank"},e.testRequestNo),", ",e.orderNumber,", ",e.referralFromFacilityName?"".concat(e.referralInExternalRef?e.referralInExternalRef+"-":"").concat(e.referralFromFacilityName):"".concat(e.patientIdentifier,"-").concat(null!==(a=e.patientFamilyName)&&void 0!==a?a:""," \n                ").concat(null!==(o=e.patientGivenName)&&void 0!==o?o:""," \n                ").concat(null!==(i=e.patientMiddleName)&&void 0!==i?i:"")].filter((function(e){return e})).map((function(e,t){return l().createElement(l().Fragment,{key:t},e)})))),actions:Boolean(null==e||null===(r=e.testResult)||void 0===r?void 0:r.obs)?l().createElement(l().Fragment,null):l().createElement(ke.qaq,{size:"lg",className:Xa.clearIconButtonPadding,kind:"ghost",onClick:function(t){return d(e)},renderIcon:function(e){return l().createElement(Oe.KS,Wi({size:16},e))}})}}))}),[d,t]);return l().createElement(l().Fragment,null,l().createElement(ke.iSL,{headers:u,rows:m,isSortable:!0,useZebraStyles:!0,overflowMenuOnHover:!0,render:function(e){var o,i,u,d=e.rows,A=e.headers,p=e.getHeaderProps,_=e.getTableProps,v=e.getRowProps,f=e.getSelectionProps,b=Object.entries(n).reduce((function(e,t){var n,r,a=(r=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(n,r)||function(e,t){if(e){if("string"==typeof e)return Hi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hi(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],l=a[1];return e.selCount=e.selCount+((null==l?void 0:l.isSelected)&&(null==m?void 0:m.find((function(e){return e.id==o})))?1:0),e}),{allCount:null!==(i=null==m||null===(o=m.filter((function(e){return!(null==e?void 0:e.disabled)})))||void 0===o?void 0:o.length)&&void 0!==i?i:0,selCount:0});return l().createElement(ke._tR,{className:"".concat(Xa.tableContainer," ").concat(Xa.clearMargin," ").concat(Xa.wrapWhiteSpace)},l().createElement(ke.oJK,Vi(Wi({},_()),{className:Xa.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,s&&l().createElement(ke.Wgb,Vi(Wi({},f({onClick:function(e){var n={};e.target.checked&&(null==t||t.reduce((function(e,t){var n;return(null==t||null===(n=t.testResult)||void 0===n?void 0:n.obs)||(e[t.testRequestItemSampleUuid]={testRequestItemSampleUuid:t.testRequestItemSampleUuid,isSelected:!0}),e}),n)),a(n)}})),{checked:m.length>0&&b.allCount>0&&b.allCount==b.selCount,indeterminate:b.allCount!=b.selCount&&b.selCount>0})),A.map((function(e){var t,n;return"details"!==e.key&&l().createElement(ke.IEe,Vi(Wi({},p({header:e,isSortable:e.isSortable})),{className:r.isDesktop?Xa.desktopHeader:Xa.tabletHeader,key:"".concat(e.key)}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})),l().createElement(ke.iy5,null))),l().createElement(ke.qqV,null,d.map((function(e){var o,i;return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.CGA,Vi(Wi({className:"".concat(r.isDesktop?Xa.desktopRow:Xa.tabletRow," ").concat(Boolean(null===(o=n[e.id])||void 0===o?void 0:o.isSelected)?Xa.sampleSelected:"")},v({row:e})),{key:e.id,id:"tr-test-".concat(e.id)}),s&&l().createElement(l().Fragment,null,(null==t?void 0:t.find((function(e){var t;return null===(t=e.testResult)||void 0===t?void 0:t.obs})))?l().createElement(ke.y6P,null):l().createElement(ke.qwX,Vi(Wi({},f({row:e})),{classNames:Xa.selectionCheckbox,checked:Boolean(null===(i=n[e.id])||void 0===i?void 0:i.isSelected),onChange:function(t,r){return function(e,t){var r=m.find((function(e){return e.id==t}));if(r){var o=Wi({},n);o[t]={isSelected:e,testRequestItemSampleUuid:r.testRequestItemSampleUuid},a(o)}}(t,e.id)}}))),e.cells.map((function(e){var t;return"details"!==(null==e||null===(t=e.info)||void 0===t?void 0:t.header)&&l().createElement(ke.y6P,{key:e.id},e.value)}))))})))),0===(null!==(u=null==m?void 0:m.length)&&void 0!==u?u:0)?l().createElement("div",{className:Xa.tileContainer},l().createElement(ke.g$J,{className:Xa.tile},l().createElement("div",{className:Xa.tileContent},l().createElement("p",{className:Xa.content},c("noLaboratorySamplesToDisplay","No samples to display"))))):null)}}))};function Qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ki(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function Zi(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){Ki(o,r,a,l,i,"next",e)}function i(e){Ki(o,r,a,l,i,"throw",e)}l(void 0)}))}}function Xi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Xi(e,t,n[t])}))}return e}function es(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||ns(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ts(e){return function(e){if(Array.isArray(e))return Qi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ns(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ns(e,t){if(e){if("string"==typeof e)return Qi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qi(e,t):void 0}}function rs(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}const as=function(e){var t,n,a,i,s,c,u,d,m,A=e.model,p=(0,He.useTranslation)().t,_=es((0,o.useState)((function(){var e;return null==A||(null===(e=A.permission)||void 0===e?void 0:e.canEdit)})),1)[0],v=rr().laboratoryConfig,f=v.laboratoryLocationTag,b=v.laboratorySpecimenTypeConcept,g=es((0,o.useState)({}),2),y=g[0],h=g[1],C=es((0,o.useState)({}),2),w=C[0],E=C[1],S=(0,r.useLocations)(f),k=At().currentOrdersDate,T=kt(),O=es((0,o.useState)(0),2),N=O[0],x=O[1],I=(0,r.useSession)(),D=es((0,o.useState)(),2),R=D[0],B=D[1],P=es((0,o.useState)((function(){var e;return null!==(e=null==A?void 0:A.worksheetItems)&&void 0!==e?e:[]})),1),q=P[0],j=So({v:gt.Full,sampleStatus:sr,testRequestItemStatuses:_n,minActivatedDate:k,testConcept:(null==A?void 0:A.testUuid)?A.testUuid:null,includeTestResultId:!0,tests:!0,allTests:!1,limit:100,forWorksheet:!0}),F=j.items,U=j.minActivatedDate,z=j.setMinActivatedDate,G=j.setTestConcept,H=j.testItemLocation,J=j.setTestItemLocation,W=j.patientUuid,V=j.setPatientUuid,Q=j.sampleType,K=j.setSampleType,Z=j.urgency,$=j.setUrgency,ee=j.setSampleRef;(0,o.useEffect)((function(){U!==k&&z(k)}),[k,U,z]);var te,ae,oe,le,ie,se,ce,ue,de,me,Ae,pe,_e,ve=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){ee(e),K(null),$(null),G(null)}),1e3)}),[ee,K,G,$]),fe=(0,Wo.aS)({defaultValues:$i({},null!=A?A:{},(null==A?void 0:A.worksheetDate)?{worksheetDate:it()(A.worksheetDate).toDate()}:{worksheetDate:kt()},{worksheetItems:null!==(te=null==A?void 0:A.worksheetItems)&&void 0!==te?te:new Array,atLocationUuid:null==A?void 0:A.atLocationUuid,responsiblePersonUuid:(null==A?void 0:A.uuid)?(null==A?void 0:A.responsiblePersonUuid)?null==A?void 0:A.responsiblePersonUuid:bi.uuid:null!==(ae=null==A?void 0:A.responsiblePersonUuid)&&void 0!==ae?ae:null==I||null===(t=I.user)||void 0===t?void 0:t.uuid}),resolver:(0,Ml.C)(yi)}),be=fe.handleSubmit,ge=fe.control,ye=fe.formState,he=fe.watch,Ce=fe.setValue,we=es((0,o.useState)(!1),2),Ee=we[0],Se=we[1],Te=function(){var e=Zi((function(e){return rs(this,(function(t){return[2,Ne(e,!1)]}))}));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Zi((function(e,t){var n,a,o,l,i,s,c,u;return rs(this,(function(d){switch(d.label){case 0:n=e,d.label=1;case 1:return d.trys.push([1,3,,4]),a=n.worksheetItems.map((function(e){return{testRequestItemSampleUuid:e.testRequestItemSampleUuid}})).filter((function(e){return null!=e})),i={atLocationUuid:e.atLocationUuid,worksheetDate:Rt(n.worksheetDate),remarks:n.remarks,testUuid:null!==(o=n.testUuid)&&void 0!==o?o:null,diagnosisTypeUuid:null!==(l=n.diagnosisTypeUuid)&&void 0!==l?l:null,responsiblePersonUuid:n.responsiblePersonUuid==bi.uuid?null:n.responsiblePersonUuid,responsiblePersonOther:n.responsiblePersonOther,worksheetItems:a},Se(!0),[4,(null==A?void 0:A.uuid)?Ll(null==A?void 0:A.uuid,i):Fl(i)];case 2:return s=d.sent(),Se(!1),zn(ne),zn(re),zn(Y),zn(X),(null==s?void 0:s.data)&&((0,r.showSnackbar)({isLowContrast:!0,title:(null==A?void 0:A.uuid)?p("laboratoryUpdateWorksheet","Update Worksheet"):p("laboratoryAddWorksheet","Add Worksheet"),kind:"success",subtitle:p("laboratorySavedWorksheetSuccess","Worksheet saved Successfully")}),t?(0,r.navigate)({to:L}):(null==A?void 0:A.uuid)||(0,r.navigate)({to:M(null===(c=s.data)||void 0===c?void 0:c.uuid)})),[3,4];case 3:return u=d.sent(),Se(!1),(0,r.showNotification)({title:(null==A?void 0:A.uuid)?p("laboratoryUpdateWorksheetError","Error updating worksheet"):p("laboratoryAddWorksheetError","Error adding worksheet"),kind:"error",critical:!0,description:Yr(u)}),[3,4];case 4:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),xe=ye.errors,Ie=function(){var e=Zi((function(){return rs(this,(function(e){return(0,r.showSnackbar)({isLowContrast:!0,title:p("laboratoryWorksheetSubmitError","Error saving worksheet"),kind:"error",subtitle:"Check and complete the required fields",autoClose:!0}),[2]}))}));return function(){return e.apply(this,arguments)}}(),De=he("responsiblePersonUuid",null==A?void 0:A.responsiblePersonUuid),Re=he("worksheetItems",ts(null!==(oe=null==A?void 0:A.worksheetItems)&&void 0!==oe?oe:[])),Be=(0,o.useCallback)((function(e){Ce("worksheetItems",e)}),[Ce]),Pe=(0,o.useMemo)((function(){var e,t,n,r,a,o=null!==(n=null==q?void 0:q.filter((function(e){return!(null==Re?void 0:Re.some((function(t){return t.uuid==e.uuid})))})))&&void 0!==n?n:[],l=null!==(r=null==Re?void 0:Re.reduce((function(e,t){return e[t.testRequestItemSampleUuid]=!0,e}),{}))&&void 0!==r?r:{};return(null!==(a=null===(t=F.map((function(e){var t;return null===(t=e.tests)||void 0===t?void 0:t.map((function(t){var n=e.testRequestItemSampleUuid;return l[n]?null:{sampleUuid:e.uuid,testRequestItemUuid:t.uuid,testRequestItemSampleUuid:e.testRequestItemSampleUuid,id:n,sampleTypeName:e.sampleTypeName,sampleAccessionNumber:e.accessionNumber,sampleExternalRef:e.externalRef,sampleProvidedRef:e.providedRef,testName:t.testName,testShortName:t.testShortName,urgency:t.urgency,toLocationName:t.toLocationName,patientIdentifier:t.patientIdentifier,patientGivenName:t.patientGivenName,patientMiddleName:t.patientMiddleName,patientFamilyName:t.patientFamilyName,referralFromFacilityName:e.referralFromFacilityName,referralInExternalRef:e.referralInExternalRef,isNewlySelected:!0,testRequestNo:e.testRequestNo,orderNumber:t.orderNumber}}))})))||void 0===t||null===(e=t.flatMap((function(e){return e})))||void 0===e?void 0:e.filter((function(e){return null!=e})))&&void 0!==a?a:[]).concat(o).sort((function(e,t){var n;return null===(n=e.sampleAccessionNumber)||void 0===n?void 0:n.localeCompare(t.sampleAccessionNumber,void 0,{ignorePunctuation:!0})}))}),[q,F,Re]),qe=(0,o.useCallback)((function(e){Be(Re.filter((function(t){return!(t.testRequestItemSampleUuid==e.testRequestItemSampleUuid)})));var t=e.testRequestItemSampleUuid;if(w[t]){var n=$i({},w);delete n[t],E(n)}}),[w,Be,Re]),je=(0,o.useCallback)((function(e){var t=e.testRequestItemSampleUuid;if(y[t]){var n=$i({},y);delete n[t],h(n)}var r=(null==e?void 0:e.uuid)?e:$i({},e);Be(ts(Re).concat(ts([r])))}),[y,Be,Re]);return l().createElement("div",{className:Xa.formWrapper},l().createElement("form",{className:Xa.form},l().createElement("div",{className:Xa.modalBody},l().createElement(l().Fragment,null,l().createElement(ke.kZJ,{className:Xa.tabs,onChange:function(e){var t=e.selectedIndex;x(t)},selectedIndex:N},l().createElement(ke.qc_,{className:Xa.tablist,"aria-label":"List tabs",contained:!0},l().createElement(ke.sOW,{className:Xa.tab},(null==A?void 0:A.uuid)?"".concat(p("laboratoryWorksheet","Worksheet"),": ").concat(null==A?void 0:A.worksheetNo):p("laboratoryNewWorksheetInfo","New Worksheet Information")),l().createElement(ke.sOW,{className:Xa.tab},p("laboratoryWorksheetItems","Items"))),l().createElement(ke.on1,null,l().createElement(ke.Gke,{className:Xa.tabPanel},l().createElement("div",{className:"".concat(Xa.panelContainer," ").concat(Xa.worksheetInfo," ").concat(Xa.inputWhite)},l().createElement("div",{className:"".concat(Xa.panelContainer)},_&&(!S||0==S.length)&&l().createElement(ke.Qrc,null),_&&(null==S?void 0:S.length)>0&&l().createElement(Wo.Mc,{name:"atLocationUuid",control:ge,render:function(e){var t,n=e.field,r=n.onChange,a=n.value;return l().createElement(ke.M1e,{className:Xa.textInput,type:"text",labelText:p("laboratoryDiagonisticCenter","Lab Section"),rules:{required:!0},value:a,invalid:!!xe.atLocationUuid,invalidText:null==xe||null===(t=xe.atLocationUuid)||void 0===t?void 0:t.message,onChange:function(e){r(e.target.value)}},!(null==A?void 0:A.atLocationUuid)&&l().createElement(ke.gV5,{text:p("laboratoryDiagonisticCenterSelect","Select Location"),value:""}),null==S?void 0:S.map((function(e){return l().createElement(ke.gV5,{key:e.uuid,text:e.display,value:e.uuid},e.display)})))}}),!_&&l().createElement(ke.gf6,{value:null==A?void 0:A.atLocationName,readOnly:!0,labelText:p("laboratoryDiagonisticCenter","Lab Section")})),_&&l().createElement(Wo.Mc,{control:ge,name:"worksheetDate",render:function(e){var t,n=e.field,r=n.onChange,a=n.value;return l().createElement(ke.I4g,{datePickerType:"single",maxDate:Dt(T),locale:"en",dateFormat:Tt,onChange:function(e){r(e[0])},value:a},l().createElement(ke.Mjs,{invalid:!!xe.worksheetDate,invalidText:xe.worksheetDate&&(null==xe||null===(t=xe.worksheetDate)||void 0===t?void 0:t.message),id:"worksheetDate",name:"worksheetDate",placeholder:Ot,labelText:p("date","Date"),value:Dt(a),defaultValue:a}))}}),!_&&l().createElement(ke.gf6,{value:Pt(null==A?void 0:A.worksheetDate),readOnly:!0,labelText:p("date","Date")}),_&&l().createElement(l().Fragment,null,l().createElement(Ei,{selectedId:null!==(le=null==A?void 0:A.responsiblePersonUuid)&&void 0!==le?le:null==I||null===(n=I.user)||void 0===n?void 0:n.uuid,selectedText:(null==A?void 0:A.responsiblePersonFamilyName)||(null==A?void 0:A.responsiblePersonMiddleName)||(null==A?void 0:A.responsiblePersonGivenName)?"".concat(null!==(ie=null==A?void 0:A.responsiblePersonFamilyName)&&void 0!==ie?ie:""," ").concat(null!==(se=null==A?void 0:A.responsiblePersonMiddleName)&&void 0!==se?se:""," ").concat(null!==(ce=null==A?void 0:A.responsiblePersonGivenName)&&void 0!==ce?ce:"").trim():null!==(ue=null==I||null===(a=I.user)||void 0===a?void 0:a.display)&&void 0!==ue?ue:"",controllerName:"responsiblePersonUuid",name:"responsiblePersonUuid",control:ge,title:p("laboratoryResponsiblePerson","Responsible Person"),placeholder:p("filter","Filter ..."),invalid:!!(null==xe?void 0:xe.responsiblePersonUuid),invalidText:null==xe||null===(i=xe.responsiblePersonUuid)||void 0===i?void 0:i.message}),De&&De===bi.uuid&&l().createElement(_i,{name:"responsiblePersonOther",control:ge,controllerName:"responsiblePersonOther",maxLength:150,placeholder:p("pleaseSpecify","Please Specify"),size:"sm",value:null!==(de=null==A?void 0:A.responsiblePersonOther)&&void 0!==de?de:"",labelText:"",invalid:!!(null==xe?void 0:xe.responsiblePersonOther),invalidText:null==xe||null===(s=xe.responsiblePersonOther)||void 0===s?void 0:s.message})),!_&&l().createElement(ke.gf6,{value:(null==A?void 0:A.responsiblePersonFamilyName)||(null==A?void 0:A.responsiblePersonMiddleName)||(null==A?void 0:A.responsiblePersonGivenName)?"".concat(null!==(me=null==A?void 0:A.responsiblePersonFamilyName)&&void 0!==me?me:""," ").concat(null!==(Ae=null==A?void 0:A.responsiblePersonMiddleName)&&void 0!==Ae?Ae:""," ").concat(null!==(pe=null==A?void 0:A.responsiblePersonGivenName)&&void 0!==pe?pe:"").trim():null==A?void 0:A.responsiblePersonOther,readOnly:!0,labelText:p("laboratoryResponsiblePerson","Responsible Person")}),_&&l().createElement(rl,{id:"remarks",name:"remarks",control:ge,controllerName:"remarks",maxLength:500,value:"".concat(null!==(_e=null==A?void 0:A.remarks)&&void 0!==_e?_e:""),labelText:p("remarks:","Remarks"),invalid:!!xe.remarks,invalidText:xe.remarks&&(null==xe||null===(c=xe.remarks)||void 0===c?void 0:c.message)}),!_&&l().createElement(ke.IF6,{value:null==A?void 0:A.remarks,readOnly:!0,labelText:p("remarks:","Remarks")}))),l().createElement(ke.Gke,{className:Xa.tabPanel},l().createElement("div",{className:"".concat(Xa.panelContainer," ").concat(Xa.inputWhite)},_&&l().createElement("div",{className:"".concat(Xa.sampleFilters)},l().createElement("div",{className:Xa.diagnosis},l().createElement(Ti,{popUpDirection:"bottom",selectedId:null==A?void 0:A.testUuid,selectedText:A?En(null==A?void 0:A.testName,null==A?void 0:A.testShortName):"",controllerName:"testUuid",name:"testUuid",control:ge,title:"",onChange:function(e){G(null==e?void 0:e.testUuid)},placeholder:p("laboratoryWorksheetDiagnosis","Any Diagnosis"),invalid:!!(null==xe?void 0:xe.testUuid),invalidText:null==xe||null===(u=xe.testUuid)||void 0===u?void 0:u.message})),l().createElement(Fi,{className:Xa.worksheetSampleType,popUpDrirection:"bottom",conceptUuid:b,selectedId:Q,controllerName:"sampleTypeUuid",name:"sampleTypeUuid",control:ge,title:"",onChange:function(e){K(null==e?void 0:e.uuid)},placeholder:p("laboratorySpecifySampleType","Sample Type")}),l().createElement(ke.gf6,{placeholder:p("laboratoryWorksheetSampleRef","Sample #"),onChange:function(e){B(e.target.value),ve(e.target.value)},value:R}),l().createElement(ke.M1e,{labelText:"",hideLabel:!0,className:Xa.worksheetUrgency,type:"text",placeholder:p("laboratoryWorksheetUrgency","Urgency"),value:Z,onChange:function(e){$(e.target.value)}},l().createElement(ke.gV5,{text:p("laboratoryWorksheetAllUrgencies","All    "),value:""}),Li.map((function(e,t){return l().createElement(ke.gV5,{key:"".concat(t,"-urgency-").concat(e),text:e,value:e})}))),l().createElement(ke.M1e,{className:Xa.worksheetLocation,type:"text",hideLabel:!0,labelText:"",onChange:function(e){return J(e.target.value)},value:H},l().createElement(ke.gV5,{text:p("laboratoryWorksheetDiagonisticCenter","All Lab Sections"),value:""}),S&&S.map((function(e){return l().createElement(ke.gV5,{key:e.uuid,text:e.display,value:e.uuid},e.display)}))),l().createElement(Gi,{title:"",placeholder:p("laboratoryWorksheetPatient","Patient"),control:ge,controllerName:"patientUuid",name:"patientUuid",patientUuid:W,onPatientUuidChange:function(e){return V(null==e?void 0:e.uuid)}}))),l().createElement("div",{className:Xa.itemSelection},_&&l().createElement(l().Fragment,null,l().createElement("div",{className:Xa.itemSelectionOptions},l().createElement("h6",null,p("laboratoryWorksheetAvailableSamples","Available Samples")),l().createElement(Di,{itemOptions:Pe,onTransferItem:je,selectedItemOptions:y,setSelectedItemOptions:h,worksheetSelectedItems:Re})),l().createElement("div",{className:Xa.itemSelectionControls},l().createElement("div",{className:Xa.transferGroupControls},l().createElement(ke.o5h,{label:p("addSelected","Add Selected")},l().createElement(ke.qaq,{size:"lg",className:Xa.transferRight,kind:"ghost",onClick:function(){var e,t=null==Re?void 0:Re.reduce((function(e,t){return e[t.testRequestItemSampleUuid]=!0,e}),{});Ce("worksheetItems",Re.concat(null!==(e=null==Pe?void 0:Pe.map((function(e){var n,r=e.testRequestItemSampleUuid;return(null===(n=y[r])||void 0===n?void 0:n.isSelected)?t[r]?null:e:null})).filter((function(e){return null!=e})))&&void 0!==e?e:[])),Object.entries(y).forEach((function(e){var t=es(e,2),n=t[0];t[1].isSelected&&delete y[n]}))},renderIcon:function(e){return l().createElement(Oe.XZ,$i({size:48},e))}})),l().createElement(ke.o5h,{label:p("removeSelected","Remove Selected")},l().createElement(ke.qaq,{size:"lg",className:Xa.transferLeft,kind:"ghost",onClick:function(){var e;Ce("worksheetItems",null!==(e=null==Re?void 0:Re.filter((function(e){var t;if(e.testResultUuid)return!0;var n=e.testRequestItemSampleUuid;return!(null===(t=w[n])||void 0===t?void 0:t.isSelected)})))&&void 0!==e?e:[]),Object.entries(w).forEach((function(e){var t=es(e,2),n=t[0];t[1].isSelected&&delete w[n]}))},renderIcon:function(e){return l().createElement(Oe.XZ,$i({size:48},e))}}))),l().createElement("div",{className:Xa.transferGroupControls},l().createElement(ke.o5h,{label:p("addAll","Add All")},l().createElement(ke.qaq,{size:"lg",className:Xa.transferRightAll,kind:"ghost",onClick:function(){var e,t=null==Re?void 0:Re.reduce((function(e,t){return e[t.testRequestItemSampleUuid]=!0,e}),{});Ce("worksheetItems",Re.concat(null!==(e=null==Pe?void 0:Pe.map((function(e){var n=e.testRequestItemSampleUuid;return t[n]?null:e})).filter((function(e){return null!=e})))&&void 0!==e?e:[])),h({})},renderIcon:function(e){return l().createElement(Qa.Ws,$i({size:48},e))}})),l().createElement(ke.o5h,{label:p("removeAll","Remove All")},l().createElement(ke.qaq,{size:"lg",kind:"ghost",className:Xa.transferLeftAll,onClick:function(){var e;Ce("worksheetItems",null!==(e=null==Re?void 0:Re.filter((function(e){var t;return null===(t=e.testResult)||void 0===t?void 0:t.obs})))&&void 0!==e?e:[]),E({})},renderIcon:function(e){return l().createElement(Qa.Ws,$i({size:48},e))}}))))),l().createElement("div",{className:Xa.itemSelectedItems},l().createElement("h6",null,p("laboratoryWorksheetSamples","Worksheet Samples"),(null==xe||null===(d=xe.worksheetItems)||void 0===d?void 0:d.message)&&l().createElement("span",{className:Xa.errorText}," (",null==xe||null===(m=xe.worksheetItems)||void 0===m?void 0:m.message,")")),l().createElement(Yi,{canEdit:_,onTransferItem:qe,selectedItemOptions:w,setSelectedItemOptions:E,worksheetSelectedItems:Re})))))))),l().createElement("div",{className:Xa.modalFooter},l().createElement(ke.qaq,{disabled:Ee,onClick:function(){return(0,r.navigate)({to:L})},kind:"secondary"},p("cancel","Cancel")),_&&l().createElement(ke.qaq,{onClick:be(Te,Ie),disabled:Ee},Ee?l().createElement(ke.kp8,null):p("save","Save")))))},os=function(){return l().createElement(as,null)};function ls(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function is(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function ss(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ls(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ls(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const cs=function(){var e=(0,i.useParams)().id,t=(0,He.useTranslation)().t,n=ss((0,o.useState)(),2),a=n[0],s=n[1],c=ss((0,o.useState)(!0),2),u=c[0],d=c[1];return(0,o.useEffect)((function(){function n(){var a;return a=function(){var n,a,o,l,i;return function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),d(!0),[4,(u={v:gt.Full,worksheet:e,allItems:!0,includeWorksheetItemTestResult:!0},St("".concat(X).concat(Ct(u)),{method:"GET",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal}))];case 1:return(null==(o=c.sent())?void 0:o.data)&&(null==o||null===(a=o.data)||void 0===a||null===(n=a.results)||void 0===n?void 0:n.length)>0&&s(null==o||null===(l=o.data)||void 0===l?void 0:l.results[0]),d(!1),[3,3];case 2:return i=c.sent(),d(!1),(0,r.showNotification)({title:t("laboratoryLoadWorksheetError","Error loading worksheet"),kind:"error",critical:!0,description:Yr(i)}),[3,3];case 3:return[2]}var u}))},n=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function l(e){is(o,n,r,l,i,"next",e)}function i(e){is(o,n,r,l,i,"throw",e)}l(void 0)}))},n.apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[e]),u?l().createElement(ke.m2V,{role:"progressbar"}):l().createElement(l().Fragment,null,!a&&l().createElement(l().Fragment,null,t("laboratoryWorksheetNotFound","Worksheet not found")),a&&l().createElement(as,{key:e,model:a}))};function us(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ds(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){us(e,t,n[t])}))}return e}function ms(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const As=function(){var e=(0,He.useTranslation)().t,t=(0,i.useLocation)().pathname.startsWith(F);return l().createElement(l().Fragment,null,l().createElement("div",{className:Xa.navigationButtons},l().createElement(ke.qaq,{size:"sm",className:Xa.navigationButton,iconDescription:"Requests",hasIcon:!0,renderIcon:function(e){return l().createElement(Ya.w$,ms(ds({},e),{size:16}))},kind:t?"ghost":"secondary",onClick:function(){return(0,r.navigate)({to:j})}},e("laboratoryWorklistRequests","Requests")),l().createElement(ke.qaq,{size:"sm",className:Xa.navigationButton,iconDescription:"Worksheets",hasIcon:!0,renderIcon:function(e){return l().createElement(Qa.iq,ms(ds({},e),{size:16}))},kind:t?"secondary":"ghost",onClick:function(){return(0,r.navigate)({to:L})}},e("laboratoryWorksheets","Worksheets"))),l().createElement(i.Routes,null,l().createElement(i.Route,{path:"worksheets/new",element:l().createElement(os,null)}),l().createElement(i.Route,{path:"worksheets/:id",element:l().createElement(cs,null)}),l().createElement(i.Route,{path:"worksheets",element:l().createElement(Ai,null)}),l().createElement(i.Route,{path:"/requests",element:l().createElement(Rl,null)}),l().createElement(i.Route,{key:"default-route",path:"*",element:l().createElement(i.Navigate,{to:F})})))};function ps(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ps(e,t,n[t])}))}return e}function vs(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const fs=function(e){var t=e.tests,n=e.tableHeaders,a=(0,He.useTranslation)().t;return l().createElement(l().Fragment,null,l().createElement(ke.iSL,{rows:t,headers:n,isSortable:!0,useZebraStyles:!0,overflowMenuOnHover:!0,render:function(e){var t,n=e.rows,o=e.headers,i=e.getHeaderProps,s=e.getTableProps,c=e.getRowProps;return e.getBatchActionProps,e.getSelectionProps,e.getToolbarProps,e.selectedRows,l().createElement(ke._tR,{className:zt.tableContainer},l().createElement(ke.oJK,vs(_s({},s()),{className:zt.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,o.map((function(e){var t,n;return"details"!==e.key&&l().createElement(ke.IEe,vs(_s({},i({header:e,isSortable:e.isSortable})),{className:r.isDesktop?zt.desktopHeader:zt.tabletHeader,key:"".concat(e.key)}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})))),l().createElement(ke.qqV,null,n.map((function(e){return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.CGA,vs(_s({className:r.isDesktop?zt.desktopRow:zt.tabletRow},c({row:e})),{key:e.id,id:"tr-test-".concat(e.id)}),e.cells.map((function(e){var t;return"details"!==(null==e||null===(t=e.info)||void 0===t?void 0:t.header)&&l().createElement(ke.y6P,{key:e.id},e.value)}))))})))),0===(null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0)?l().createElement("div",{className:zt.tileContainer},l().createElement(ke.g$J,{className:zt.tile},l().createElement("div",{className:zt.tileContent},l().createElement("p",{className:zt.content},a("noLaboratoryTestsToDisplay","No tests to display"))))):null)}}))};function bs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ys(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){gs(e,t,n[t])}))}return e}function hs(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Cs=function(e){var t,n,a=e.samples,i=e.testRequest,s=(0,He.useTranslation)().t,c=(t=(0,o.useState)({}),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return bs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bs(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=(c[0],c[1],[{id:0,header:s("sampleType","Sample Type"),key:"sampleType"},{id:1,header:s("laboratorySampleReference","Sample ID"),key:"accessionNumber"},{id:2,header:s("collectionDate","Collection Date"),key:"collectionDate"},{id:3,header:s("volume","Volume"),key:"volume"},{id:4,header:s("containerType","Container"),key:"containerType"},{id:5,header:s("laboratorySampleTests","Tests"),key:"tests"},{id:6,header:s("laboratoryReferred","Referred"),key:"referrerOut"},,]),d=(0,o.useMemo)((function(){return null==a?void 0:a.map((function(e,t){var n,r,a,o,c,u;return{id:null==e?void 0:e.uuid,disabled:!(null==e||null===(n=e.permission)||void 0===n?void 0:n.canReleaseForTesting),sampleType:e.sampleTypeName,accessionNumber:l().createElement(Ao,{showPrint:!0,reference:e.accessionNumber,className:zt.testSampleReference,sampleType:e.sampleTypeName,entityName:Ua(i)}),collectionDate:l().createElement("div",null,e.collectionDate?qt(e.collectionDate):"Unknown",l().createElement("div",null,e.collectedByFamilyName," ",e.collectedByMiddleName," ",e.collectedByGivenName)),volume:e.volume?"".concat(null!==(o=null===(r=e.volume)||void 0===r?void 0:r.toLocaleString())&&void 0!==o?o:"").concat(e.volumeUnitName):"N/A",containerType:"".concat(null!==(c=e.containerCount)&&void 0!==c?c:""," ").concat(null!==(u=e.containerTypeName)&&void 0!==u?u:"N/A"),tests:l().createElement("div",null,null===(a=e.tests)||void 0===a?void 0:a.map((function(e){return l().createElement(ke.EDW,{type:"blue"},l().createElement("span",{className:zt.testRequestSampleTest},En(e.testName,e.testShortName)," "))}))),referrerOut:e.referredOut?l().createElement("div",null,"".concat(s("yes","Yes")," - ").concat(e.referralToFacilityName),l().createElement("div",null,qt(e.referralOutDate)),l().createElement("div",null,e.referralOutByFamilyName," ",e.referralOutByMiddleName," ",e.referralOutByGivenName)):l().createElement("div",null,s("no","No"))}}))}),[a]);return l().createElement(l().Fragment,null,l().createElement(ke.iSL,{headers:u,rows:d,isSortable:!0,useZebraStyles:!0,overflowMenuOnHover:!0,render:function(e){var t,n=e.rows,o=e.headers,i=e.getHeaderProps,c=e.getTableProps,u=e.getRowProps;return e.getSelectionProps,l().createElement(ke._tR,{className:zt.tableContainer},l().createElement(ke.MBp,{style:{position:"static",margin:0}},l().createElement(ke.aGn,{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l().createElement("div",{className:zt.tableToolbarContentHeaderText},s("laboratoryPatientCollectedSamples","Collected Samples")))),l().createElement(ke.oJK,hs(ys({},c()),{className:zt.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,o.map((function(e){var t,n;return"details"!==e.key&&l().createElement(ke.IEe,hs(ys({},i({header:e,isSortable:e.isSortable})),{className:r.isDesktop?zt.desktopHeader:zt.tabletHeader,key:"".concat(e.key)}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})))),l().createElement(ke.qqV,null,n.map((function(e){return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.CGA,hs(ys({className:r.isDesktop?zt.desktopRow:zt.tabletRow},u({row:e})),{key:e.id,id:"tr-test-".concat(e.id)}),e.cells.map((function(e){var t;return"details"!==(null==e||null===(t=e.info)||void 0===t?void 0:t.header)&&l().createElement(ke.y6P,{key:e.id},e.value)}))))})))),0===(null!==(t=null==a?void 0:a.length)&&void 0!==t?t:0)?l().createElement("div",{className:zt.tileContainer},l().createElement(ke.g$J,{className:zt.tile},l().createElement("div",{className:zt.tileContent},l().createElement("p",{className:zt.content},s("noLaboratorySamplesToDisplay","No samples to display"))))):null)}}))};function ws(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Es(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ss(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Es(e,t,n[t])}))}return e}function ks(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Ts(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ws(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ws(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Os=function(e){var t=e.testRequestItemStatus,n=(0,He.useTranslation)().t,a=Ts((0,o.useState)(""),2),i=a[0],s=a[1],c=At().currentOrdersDate,u=(0,r.useSession)(),d=Ts((0,o.useState)(!1),2),m=d[0],A=d[1];(0,o.useEffect)((function(){A((null==u?void 0:u.user)&&(0,r.userHasAccess)(Yt,u.user))}),[u.user]);var p=Ts((0,o.useState)({}),2),_=p[0],v=(p[1],sn({v:gt.Full,itemStatus:t,minActivatedDate:c,testConceptTests:!1,samples:!0,includeTestItemSamples:!0,allTests:!1})),f=v.isLoading,b=v.items,g=v.totalCount,y=v.currentPageSize,h=v.pageSizes,C=v.currentPage,w=v.setCurrentPage,E=v.setPageSize,S=v.setSearchString,k=v.isValidating,T=v.loaded,O=v.setMinActivatedDate,N=v.minActivatedDate,x=v.setMaxActivatedDate,I=v.maxActivatedDate,D=(v.testConcept,v.setTestConcept),R=v.itemLocation,B=v.setItemLocation,P=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){return S(e)}),300)}),[S]);(0,o.useEffect)((function(){N!==c&&O(c)}),[c,N,O]);var q=[{id:0,header:n("date","Date"),key:"date"},{id:1,header:n("laboratoryRequestNumber","Request Number"),key:"requestNumber"},{id:2,header:n("laboratoryRequestEntity","Entity"),key:"patient"},{id:3,header:n("Identification","Identification"),key:"identifier"},{id:4,header:n("orderer","Ordered By"),key:"orderer"},{id:5,header:n("urgency","Urgency"),key:"urgency"},{id:6,header:"detailsTests",key:"detailsTests"},{id:7,header:"detailsTests",key:"detailsInfo"},{id:8,header:"detailsSamples",key:"detailsSamples"}],j=[{id:0,header:n("labSection","Lab Section"),key:"toLocationName"},{id:1,header:n("laboratoryTest","Test"),key:"testName"},{id:2,header:n("order#","Order#"),key:"orderNumber"},{id:3,header:n("laboratoryTestSamplesCollected","Samples"),key:"samples"},{id:4,header:n("status","Status"),key:"status"}],F=(0,o.useMemo)((function(){return null==b?void 0:b.map((function(e,t){var a,o,i,s,c,u,d;return{id:null==e?void 0:e.uuid,dateCreated:e.dateCreated,date:l().createElement("span",{className:zt["single-line-display"]},(0,r.formatDate)((0,r.parseDate)(null==e?void 0:e.dateCreated))),patient:l().createElement(za,{testRequest:e}),identifier:null!==(o=null==e?void 0:e.referralInExternalRef)&&void 0!==o?o:null==e?void 0:e.patientIdentifier,requestNumber:null==e?void 0:e.requestNo,orderer:"".concat(null!==(i=null==e?void 0:e.providerFamilyName)&&void 0!==i?i:""," ").concat(null!==(s=null==e?void 0:e.providerMiddleName)&&void 0!==s?s:""," ").concat(null!==(c=null==e?void 0:e.providerGivenName)&&void 0!==c?c:""),urgency:null==e?void 0:e.urgency,detailsSamples:null!==(u=null==e?void 0:e.samples)&&void 0!==u?u:[],detailsInfo:l().createElement(Fr,{testRequest:e}),detailsTests:null!==(d=null==e||null===(a=e.tests)||void 0===a?void 0:a.sort((function(e,t){var n,r,a,o;return(null===(n=e.toLocationName)||void 0===n?void 0:n.localeCompare(t.toLocationName,void 0,{ignorePunctuation:!0}))||(null===(r=null!==(a=e.testName)&&void 0!==a?a:e.testShortName)||void 0===r?void 0:r.localeCompare(null!==(o=t.testName)&&void 0!==o?o:t.testShortName,void 0,{ignorePunctuation:!0}))})).map((function(t){var r;return{id:t.uuid,toLocationName:t.toLocationName,testName:En(t.testName,t.testShortName),orderNumber:t.orderNumber,atLocationName:t.atLocationName,samples:m?l().createElement("div",null,null===(r=t.samples)||void 0===r?void 0:r.map((function(t){return l().createElement(ke.EDW,{type:"green"},l().createElement(Ao,{showPrint:!0,reference:t.accessionNumber,className:zt.testSampleReference,sampleUuid:t.uuid,sampleType:t.sampleTypeName,entityName:Ua(e)}))}))):l().createElement(l().Fragment,null),status:t.status==vn?l().createElement("div",null,n(t.status),l().createElement("div",{className:zt.approvalRemarks},t.requestApprovalRemarks)):n(t.status)}})))&&void 0!==d?d:[]}}))}),[b]);return f&&!T?l().createElement(ke.m2V,{role:"progressbar"}):l().createElement(l().Fragment,null,(f||k)&&T&&l().createElement(ke.cHM,{size:"small",type:"indented",status:"status",label:"",hideLabel:!0,className:zt.progressBarThin}),l().createElement(ke.iSL,{rows:F,headers:q,isSortable:!0,useZebraStyles:!0,overflowMenuOnHover:!0,render:function(e){var t,a=e.rows,o=e.headers,c=e.getHeaderProps,u=e.getTableProps,d=e.getRowProps,A=e.getToolbarProps,p=e.expandRow;return l().createElement(ke._tR,{className:zt.tableContainer},l().createElement(ke.MBp,ks(Ss({},A()),{style:{position:"static",margin:0}}),l().createElement(ke.aGn,{style:{display:"flex",alignItems:"center"}},l().createElement(ke.OWJ,{placeholder:n("laboratoryFilterWorksheets","Filter Requests..."),persistent:!0,value:i,onChange:function(e){return t=e.target.value,s(t),void P(t);var t}}),l().createElement(Br,{maxActivatedDate:I,minActivatedDate:N,diagnosticCenterUuid:R,onMaxActivatedDateChanged:x,onDiagnosticCenterChanged:B,onTestChanged:D}))),l().createElement(ke.oJK,ks(Ss({},u()),{className:zt.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,l().createElement(ke.ugy,null),o.map((function(e){var t,n;return!e.key.startsWith("details")&&l().createElement(ke.IEe,ks(Ss({},c({header:e,isSortable:e.isSortable})),{className:r.isDesktop?zt.desktopHeader:zt.tabletHeader,key:"".concat(e.key)}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})),l().createElement(ke.IEe,null))),l().createElement(ke.qqV,null,a.map((function(e,t){return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.cjO,ks(Ss({className:r.isDesktop?zt.desktopRow:zt.tabletRow},d({row:e})),{key:e.id,isExpanded:Boolean(_[e.id]),onExpand:function(t){return n=e.id,_[n]=Boolean(!_[n]),void p(n);var n}}),e.cells.map((function(e){var t;return!(null==e||null===(t=e.info)||void 0===t?void 0:t.header.startsWith("details"))&&l().createElement(ke.y6P,{key:e.id},e.value)}))),l().createElement(ke.Ocq,{className:zt.tableExpandedRow,colSpan:o.length+1},l().createElement("section",{className:zt.rowExpandedContent},l().createElement(fs,{tests:e.cells[e.cells.length-3].value,tableHeaders:j}),l().createElement(l().Fragment,null,e.cells[e.cells.length-2].value),m&&l().createElement(l().Fragment,null,l().createElement("div",{style:{width:"100%"}}),l().createElement(Cs,{testRequest:b.find((function(t){return t.uuid==e.id})),testRequestId:e.id,samples:e.cells[e.cells.length-1].value,expandRow:p})))))})))),0===(null!==(t=null==a?void 0:a.length)&&void 0!==t?t:0)?l().createElement("div",{className:zt.tileContainer},l().createElement(ke.g$J,{className:zt.tile},l().createElement("div",{className:zt.tileContent},l().createElement("p",{className:zt.content},n("noPendingItemsToDisplay","No pending items to display"))))):null)}}),l().createElement(ke.eML,{page:C,pageSize:y,pageSizes:h,totalItems:null!=g?g:0,onChange:function(e){var t=e.page,n=e.pageSize;w(t),E(n)},className:zt.paginationOverride}))};function Ns(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Is(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){xs(e,t,n[t])}))}return e}function Ds(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Rs=function(e){var t,n,a=e.tests,i=(e.canApproveTestRequests,e.tableHeaders),s=e.onSelectionChange,c=e.selectedItems,u=e.testRequestId,d=e.enableSelection,m=e.testRequest,A=(0,He.useTranslation)().t,p=(t=(0,o.useState)({}),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Ns(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ns(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),_=p[0];return p[1],l().createElement(l().Fragment,null,l().createElement(ke.iSL,{rows:a,headers:i,isSortable:!0,useZebraStyles:!0,overflowMenuOnHover:!0,render:function(e){var t,n,o,i,p,v=e.rows,f=e.headers,b=e.getHeaderProps,g=e.getTableProps,y=e.getRowProps,h=(e.getBatchActionProps,e.getSelectionProps),C=(e.getToolbarProps,e.selectedRows,e.expandRow);return l().createElement(ke._tR,{className:zt.tableContainer},l().createElement(ke.oJK,Ds(Is({},g()),{className:zt.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,l().createElement(ke.ugy,null),d&&l().createElement(ke.Wgb,Ds(Is({},h()),{onSelect:function(e){var t=e.target.checked,n=Is({},c);n[u]||(n[u]={tests:{},allTests:!1}),t?(n[u].allTests=!0,n[u].tests=null==v?void 0:v.reduce((function(e,t){return e[t.id]=!0,e}),{})):(n[u].allTests=!1,delete n[u].tests,n[u].tests={}),s(n)},checked:Boolean(null===(t=c[u])||void 0===t?void 0:t.allTests),indeterminate:Boolean(!(null===(n=c[u])||void 0===n?void 0:n.allTests)&&(null===(o=c[u])||void 0===o?void 0:o.tests)&&Object.keys(null===(i=c[u])||void 0===i?void 0:i.tests).length>0)})),f.map((function(e){var t,n;return"details"!==e.key&&l().createElement(ke.IEe,Ds(Is({},b({header:e,isSortable:e.isSortable})),{className:r.isDesktop?zt.desktopHeader:zt.tabletHeader,key:"".concat(e.key)}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})))),l().createElement(ke.qqV,null,v.map((function(e){var t,n,o,i,A,p,v,b,g,w,E=null==m||null===(t=m.tests)||void 0===t?void 0:t.find((function(t){return t.uuid==e.id}));return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.cjO,Ds(Is({className:"".concat(r.isDesktop?zt.desktopRow:zt.tabletRow," ").concat(((null==E||null===(n=E.permission)||void 0===n?void 0:n.canEditTestResults)||(null==E||null===(o=E.permission)||void 0===o?void 0:o.canViewTestResults))&&(null==E?void 0:E.testResult)?"":zt.noTestResultsRow)},y({row:e})),{key:e.id,id:"tr-test-".concat(e.id),isExpanded:Boolean(_[e.id]),onExpand:function(t){return n=e.id,_[n]=Boolean(!_[n]),void C(n);var n}}),d&&l().createElement(ke.qwX,Ds(Is({},h({row:e})),{checked:Boolean(null===(A=c[u])||void 0===A||null===(i=A.tests)||void 0===i?void 0:i[e.id]),onChange:function(t,n,r){return o=t,l=e.id,(i=Is({},c))[u]||(i[u]={tests:{},allTests:!1}),o?(i[u].allTests=Object.keys(i[u].tests).length+1==a.length,i[u].tests[l]=!0):(i[u].allTests=!1,i[u].tests[l]&&delete i[u].tests[l]),void s(i);var o,l,i},classNames:zt.selectionCheckbox})),e.cells.map((function(e){var t;return"details"!==(null==e||null===(t=e.info)||void 0===t?void 0:t.header)&&l().createElement(ke.y6P,{key:e.id},e.value)}))),((null==E||null===(p=E.permission)||void 0===p?void 0:p.canEditTestResults)||(null==E||null===(v=E.permission)||void 0===v?void 0:v.canViewTestResults))&&(null==E?void 0:E.testResult)&&_[e.id]&&l().createElement(ke.Ocq,{className:"".concat(zt.tableExpandedRow," ").concat(zt.worksheetItemTableExpandedRow),colSpan:f.length+1},l().createElement("div",{className:zt.worksheetItemRowDetails},l().createElement(wa,{testConcept:null==E?void 0:E.testConcept,testResult:null==E?void 0:E.testResult}),(null==E||null===(g=E.testResult)||void 0===g||null===(b=g.approvals)||void 0===b?void 0:b.length)>0&&l().createElement(gl,{approvals:null==E||null===(w=E.testResult)||void 0===w?void 0:w.approvals}))))})))),0===(null!==(p=null==v?void 0:v.length)&&void 0!==p?p:0)?l().createElement("div",{className:zt.tileContainer},l().createElement(ke.g$J,{className:zt.tile},l().createElement("div",{className:zt.tileContent},l().createElement("p",{className:zt.content},A("noLaboratoryTestsToDisplay","No tests to display"))))):null)}}))};function Bs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ps(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ps(e,t,n[t])}))}return e}function js(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Fs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Bs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Ls=function(){var e=(0,He.useTranslation)().t,t=Fs((0,o.useState)(""),2),n=t[0],a=t[1],i=(0,r.useSession)(),s=Fs((0,o.useState)(!1),2),c=s[0],u=s[1],d=Fs((0,o.useState)(!1),2),m=(d[0],d[1]),A=Fs((0,o.useState)(!1),1)[0],p=At().currentOrdersDate,_=Fs((0,o.useState)({}),2),v=_[0],f=_[1],b=Fs((0,o.useState)({}),2),g=b[0];b[1],(0,o.useEffect)((function(){u((null==i?void 0:i.user)&&(0,r.userHasAccess)(Kt,i.user)),m((null==i?void 0:i.user)&&(0,r.userHasAccess)(Qt,i.user))}),[]);var y=sn({v:gt.Full,referredOut:!0,minActivatedDate:p,testConceptTests:!1,samples:!0,includeTestItemSamples:!0,allTests:!1,includeTestItemTestResult:!0,testResultApprovals:!0,includeItemConcept:!0,worksheetInfo:!0}),h=y.isLoading,C=y.items,w=y.totalCount,E=y.currentPageSize,S=y.pageSizes,k=y.currentPage,T=y.setCurrentPage,O=y.setPageSize,N=y.setSearchString,x=y.isValidating,I=y.loaded,D=y.setMinActivatedDate,R=y.minActivatedDate,B=y.setMaxActivatedDate,P=y.maxActivatedDate,q=(y.testConcept,y.setTestConcept),j=y.itemLocation,F=y.setItemLocation,L=y.allTests,U=y.setAllTests,z=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){return N(e)}),300)}),[N]);(0,o.useEffect)((function(){R!==p&&D(p)}),[p,R,D]);var G=[{id:0,header:e("date","Date"),key:"date"},{id:1,header:e("laboratoryRequestNumber","Request Number"),key:"requestNumber"},{id:2,header:e("laboratoryRequestEntity","Entity"),key:"patient"},{id:3,header:e("Identification","Identification"),key:"identifier"},{id:4,header:e("orderer","Ordered By"),key:"orderer"},{id:5,header:e("urgency","Urgency"),key:"urgency"},{id:7,header:"",key:"actions"},{id:6,header:"detailsTests",key:"detailsTests"},{id:7,header:"detailsTests",key:"detailsInfo"},{id:8,header:"detailsSamples",key:"detailsSamples"}],H=[{id:0,header:e("labSection","Lab Section"),key:"toLocationName"},{id:1,header:e("laboratoryTest","Test"),key:"testName"},{id:2,header:e("order#","Order#"),key:"orderNumber"},{id:3,header:e("laboratoryTestSamplesCollected","Samples"),key:"samples"},{id:4,header:e("status","Status"),key:"status"},{id:5,header:"",key:"actions"}],J=(0,o.useMemo)((function(){return null==C?void 0:C.map((function(t,n){var a,o,i,s,c,u,d,m;return{id:null==t?void 0:t.uuid,dateCreated:t.dateCreated,date:l().createElement("span",{className:zt["single-line-display"]},(0,r.formatDate)((0,r.parseDate)(null==t?void 0:t.dateCreated))),patient:l().createElement(za,{testRequest:t}),identifier:null!==(i=null==t?void 0:t.referralInExternalRef)&&void 0!==i?i:null==t?void 0:t.patientIdentifier,requestNumber:null==t?void 0:t.requestNo,orderer:"".concat(null!==(s=null==t?void 0:t.providerFamilyName)&&void 0!==s?s:""," ").concat(null!==(c=null==t?void 0:t.providerMiddleName)&&void 0!==c?c:""," ").concat(null!==(u=null==t?void 0:t.providerGivenName)&&void 0!==u?u:""),urgency:null==t?void 0:t.urgency,actions:l().createElement(ja,{testRequestUuid:t.uuid,enableResults:Boolean(null==t||null===(a=t.tests)||void 0===a?void 0:a.some((function(e){return e.testResult})))}),detailsSamples:null!==(d=null==t?void 0:t.samples)&&void 0!==d?d:[],detailsInfo:l().createElement(Fr,{testRequest:t}),detailsTests:null!==(m=null==t||null===(o=t.tests)||void 0===o?void 0:o.sort((function(e,t){var n,r,a,o;return(null===(n=e.toLocationName)||void 0===n?void 0:n.localeCompare(t.toLocationName,void 0,{ignorePunctuation:!0}))||(null===(r=null!==(a=e.testName)&&void 0!==a?a:e.testShortName)||void 0===r?void 0:r.localeCompare(null!==(o=t.testName)&&void 0!==o?o:t.testShortName,void 0,{ignorePunctuation:!0}))})).map((function(n){var a,o,i,s,c,u,d,m,p,_,v,f,b,g,y,h;return{id:n.uuid,toLocationName:n.toLocationName,testName:En(n.testName,n.testShortName),orderNumber:n.orderNumber,atLocationName:n.atLocationName,samples:l().createElement("div",null,null===(a=n.samples)||void 0===a?void 0:a.map((function(e){return l().createElement(ke.EDW,{type:"green"},l().createElement(Ao,{showPrint:!0,reference:e.accessionNumber,className:zt.testSampleReference,sampleUuid:e.uuid,sampleType:e.sampleTypeName,entityName:Ua(t)}))}))),status:l().createElement(l().Fragment,null,(null==n?void 0:n.testResult)&&n.testResult.status,l().createElement("div",null,e(gn(n,e)),(null==n?void 0:n.worksheetNo)&&l().createElement("div",null,l().createElement("a",{href:M(null==n?void 0:n.worksheetUuid),onClick:function(e){e.preventDefault(),(0,r.navigate)({to:M(null==n?void 0:n.worksheetUuid)})}},null==n?void 0:n.worksheetNo))),(null==n||null===(o=n.permission)||void 0===o?void 0:o.canViewTestResults)&&l().createElement("div",null,(null==n||null===(c=n.testResult)||void 0===c||null===(s=c.obs)||void 0===s||null===(i=s.display)||void 0===i?void 0:i.indexOf(":"))>0?null==n||null===(v=n.testResult)||void 0===v||null===(_=v.obs)||void 0===_||null===(p=_.display)||void 0===p?void 0:p.substring((null==n||null===(m=n.testResult)||void 0===m||null===(d=m.obs)||void 0===d||null===(u=d.display)||void 0===u?void 0:u.indexOf(":"))+1):null==n||null===(b=n.testResult)||void 0===b||null===(f=b.obs)||void 0===f?void 0:f.display),(n.status==vn||n.requestApprovalRemarks)&&l().createElement("div",null,l().createElement("div",{className:zt.approvalRemarks},n.requestApprovalRemarks))),actions:l().createElement("div",{className:"".concat(zt.clearGhostButtonPadding," ").concat(zt.rowActions)},(null==n||null===(g=n.permission)||void 0===g?void 0:g.canEditTestResults)&&l().createElement(fl,{testRequest:t,testRequestItem:n}),A&&(null==n||null===(y=n.permission)||void 0===y?void 0:y.canReject)&&!(null==n||null===(h=n.testResult)||void 0===h?void 0:h.obs)&&l().createElement(zo,{testRequest:t,testRequestItem:n}),l().createElement(ja,{testRequestUuid:t.uuid,enableResults:Boolean(n.testResult)}))}})))&&void 0!==m?m:[]}}))}),[A,C]);return h&&!I?l().createElement(ke.m2V,{role:"progressbar"}):l().createElement(l().Fragment,null,(h||x)&&I&&l().createElement(ke.cHM,{size:"small",type:"indented",status:"status",label:"",hideLabel:!0,className:zt.progressBarThin}),l().createElement(ke.iSL,{rows:J,headers:G,isSortable:!0,useZebraStyles:!0,overflowMenuOnHover:!0,render:function(t){var o,i=t.rows,s=t.headers,u=t.getHeaderProps,d=t.getTableProps,m=t.getRowProps,A=t.getToolbarProps,p=t.expandRow;return l().createElement(ke._tR,{className:zt.tableContainer},l().createElement(ke.MBp,js(qs({},A()),{style:{position:"static",margin:0}}),l().createElement(ke.aGn,{style:{display:"flex",alignItems:"center"}},l().createElement(ke.OWJ,{placeholder:e("laboratoryFilterWorksheets","Filter Requests..."),persistent:!0,value:n,onChange:function(e){return t=e.target.value,a(t),void z(t);var t}}),l().createElement(Br,{maxActivatedDate:P,minActivatedDate:R,diagnosticCenterUuid:j,onMaxActivatedDateChanged:B,onDiagnosticCenterChanged:F,onTestChanged:q,enableFocus:!0,focus:L,onFocusChanged:U}))),l().createElement(ke.oJK,js(qs({},d()),{className:zt.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,l().createElement(ke.ugy,null),s.map((function(e){var t,n;return!e.key.startsWith("details")&&l().createElement(ke.IEe,js(qs({},u({header:e,isSortable:e.isSortable})),{className:r.isDesktop?zt.desktopHeader:zt.tabletHeader,key:"".concat(e.key)}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})),l().createElement(ke.IEe,null))),l().createElement(ke.qqV,null,i.map((function(e,t){var n,a=C.find((function(t){return t.uuid==e.id}));return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.cjO,js(qs({className:r.isDesktop?zt.desktopRow:zt.tabletRow},m({row:e})),{key:e.id,isExpanded:Boolean(g[e.id]),onExpand:function(t){return n=e.id,g[n]=Boolean(!g[n]),void p(n);var n}}),e.cells.map((function(e){var t;return!(null==e||null===(t=e.info)||void 0===t?void 0:t.header.startsWith("details"))&&l().createElement(ke.y6P,{key:e.id},e.value)}))),Boolean(g[e.id])&&l().createElement(ke.Ocq,{className:zt.tableExpandedRow,colSpan:s.length+1},l().createElement("section",{className:"".concat(zt.rowExpandedContent," ").concat(zt.worksheetItems)},l().createElement(Rs,{tests:e.cells[e.cells.length-3].value,tableHeaders:H,canApproveTestRequests:c,onSelectionChange:f,selectedItems:v,testRequestId:e.id,testRequest:C.find((function(t){return t.uuid==e.id}))}),l().createElement(l().Fragment,null,e.cells[e.cells.length-2].value),(null==a||null===(n=a.samples)||void 0===n?void 0:n.length)>0&&l().createElement(l().Fragment,null,l().createElement("div",{style:{width:"100%"}}),l().createElement(Lo,{testRequest:a,canEditSamples:!0,canDoSampleCollecton:!1,testRequestId:e.id,samples:e.cells[e.cells.length-1].value,expandRow:p})))))})))),0===(null!==(o=null==i?void 0:i.length)&&void 0!==o?o:0)?l().createElement("div",{className:zt.tileContainer},l().createElement(ke.g$J,{className:zt.tile},l().createElement("div",{className:zt.tileContent},l().createElement("p",{className:zt.content},e("noPendingItemsToDisplay","No pending items to display"))))):null)}}),l().createElement(ke.eML,{page:k,pageSize:E,pageSizes:S,totalItems:null!=w?w:0,onChange:function(e){var t=e.page,n=e.pageSize;T(t),O(n)},className:zt.paginationOverride}))};function Us(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ms(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){zs(e,t,n[t])}))}return e}function Gs(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Hs=function(e){var t,n,a=e.tests,i=e.tableHeaders,s=e.onSelectionChange,c=e.selectedItems,u=e.testRequestId,d=e.enableSelection,m=e.testRequest,A=(0,He.useTranslation)().t,p=(t=(0,o.useState)({}),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Us(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Us(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),_=p[0],v=(p[1],(0,o.useMemo)((function(){return null==a?void 0:a.sort((function(e,t){var n,r,a,o;return(null===(n=e.toLocationName)||void 0===n?void 0:n.localeCompare(t.toLocationName,void 0,{ignorePunctuation:!0}))||(null===(r=null!==(a=e.testName)&&void 0!==a?a:e.testShortName)||void 0===r?void 0:r.localeCompare(null!==(o=t.testName)&&void 0!==o?o:t.testShortName,void 0,{ignorePunctuation:!0}))})).map((function(e){var t,n,a,o,i,s,c,u,d,p,_,v;return{id:e.uuid,toLocationName:e.toLocationName,testName:En(e.testName,e.testShortName),orderNumber:e.orderNumber,atLocationName:e.atLocationName,samples:l().createElement("div",null,null===(t=e.samples)||void 0===t?void 0:t.map((function(e){return l().createElement(ke.EDW,{type:"green"},l().createElement(Ao,{showPrint:!0,reference:e.accessionNumber,className:zt.testSampleReference,sampleUuid:e.uuid,sampleType:e.sampleTypeName,entityName:Ua(m)}))}))),status:l().createElement("div",null,l().createElement("div",null,A(gn(e,A)),(null==e?void 0:e.worksheetNo)&&l().createElement("div",null,l().createElement("a",{href:M(null==e?void 0:e.worksheetUuid),onClick:function(t){t.preventDefault(),(0,r.navigate)({to:M(null==e?void 0:e.worksheetUuid)})}},null==e?void 0:e.worksheetNo))),l().createElement("div",{className:zt.approvalRemarks},(null==e||null===(o=e.testResult)||void 0===o||null===(a=o.obs)||void 0===a||null===(n=a.display)||void 0===n?void 0:n.indexOf(":"))>0?null==e||null===(p=e.testResult)||void 0===p||null===(d=p.obs)||void 0===d||null===(u=d.display)||void 0===u?void 0:u.substring((null==e||null===(c=e.testResult)||void 0===c||null===(s=c.obs)||void 0===s||null===(i=s.display)||void 0===i?void 0:i.indexOf(":"))+1):null==e||null===(v=e.testResult)||void 0===v||null===(_=v.obs)||void 0===_?void 0:_.display,l().createElement("div",null,e.requestApprovalRemarks))),waitTime:l().createElement(Tl,{testRequestItem:e,translator:A}),testResult:"",details:e.uuid}}))}),[a]));return l().createElement(l().Fragment,null,l().createElement(ke.iSL,{rows:v,headers:i,isSortable:!0,useZebraStyles:!0,overflowMenuOnHover:!0,render:function(e){var t,n,o,i,m,p=e.rows,v=e.headers,f=e.getHeaderProps,b=e.getTableProps,g=e.getRowProps,y=(e.getBatchActionProps,e.getSelectionProps),h=(e.getToolbarProps,e.selectedRows,e.expandRow),C=a.some((function(e){var t,n;return null===(n=e.testResult)||void 0===n||null===(t=n.permission)||void 0===t?void 0:t.canApprove}));return l().createElement(ke._tR,{className:zt.tableContainer},l().createElement(ke.oJK,Gs(Ms({},b()),{className:zt.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,l().createElement(ke.ugy,null),d&&C&&l().createElement(ke.Wgb,Gs(Ms({},y()),{onSelect:function(e){var t=e.target.checked,n=Ms({},c);n[u]||(n[u]={tests:{},allTests:!1}),t?(n[u].allTests=!0,n[u].tests=null==a?void 0:a.reduce((function(e,t){var n,r;return(null==t||null===(r=t.testResult)||void 0===r||null===(n=r.permission)||void 0===n?void 0:n.canApprove)&&(e[t.uuid]=!0),e}),{})):(n[u].allTests=!1,delete n[u].tests,n[u].tests={}),s(n)},checked:Boolean(null===(t=c[u])||void 0===t?void 0:t.allTests),indeterminate:Boolean(!(null===(n=c[u])||void 0===n?void 0:n.allTests)&&(null===(o=c[u])||void 0===o?void 0:o.tests)&&Object.keys(null===(i=c[u])||void 0===i?void 0:i.tests).length>0),className:zt.childTableTableSelectAll})),v.map((function(e){var t,n;return"details"!==e.key&&l().createElement(ke.IEe,Gs(Ms({},f({header:e,isSortable:e.isSortable})),{className:r.isDesktop?zt.desktopHeader:zt.tabletHeader,key:"".concat(e.key)}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})))),l().createElement(ke.qqV,null,p.map((function(e){var t,n,o,i,d,m,A,p=a.find((function(t){return t.uuid==e.id}));return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.cjO,Gs(Ms({className:"".concat(r.isDesktop?zt.desktopRow:zt.tabletRow," ").concat((null==p?void 0:p.testResult)?"":zt.noTestResultsRow)},g({row:e})),{key:e.id,id:"tr-test-".concat(e.id),isExpanded:Boolean(_[e.id]),onExpand:function(t){return n=e.id,_[n]=Boolean(!_[n]),void h(n);var n}}),(null==p||null===(n=p.testResult)||void 0===n||null===(t=n.permission)||void 0===t?void 0:t.canApprove)?l().createElement(ke.qwX,Gs(Ms({},y({row:e})),{checked:Boolean(null===(i=c[u])||void 0===i||null===(o=i.tests)||void 0===o?void 0:o[e.id]),onChange:function(t,n,r){return o=t,l=e.id,(m=Ms({},c))[u]||(m[u]={tests:{},allTests:!1}),o?(m[u].allTests=Object.keys(m[u].tests).length+1==(null!==(d=null===(i=a.filter((function(e){var t,n;return null===(n=e.testResult)||void 0===n||null===(t=n.permission)||void 0===t?void 0:t.canApprove})))||void 0===i?void 0:i.length)&&void 0!==d?d:0),m[u].tests[l]=!0):(m[u].allTests=!1,m[u].tests[l]&&delete m[u].tests[l]),void s(m);var o,l,i,d,m},classNames:zt.selectionCheckbox})):C&&l().createElement(ke.y6P,null),e.cells.map((function(e){var t;return"details"!==(null==e||null===(t=e.info)||void 0===t?void 0:t.header)&&l().createElement(ke.y6P,{key:e.id},e.value)}))),_[e.id]&&(null==p?void 0:p.testResult)&&l().createElement(ke.Ocq,{className:"".concat(zt.tableExpandedRow," ").concat(zt.worksheetItemTableExpandedRow),colSpan:v.length+1},_[e.id]&&l().createElement("div",{className:zt.worksheetItemRowDetails},l().createElement(wa,{testConcept:null==p?void 0:p.testConcept,testResult:null==p?void 0:p.testResult}),(null==p||null===(m=p.testResult)||void 0===m||null===(d=m.approvals)||void 0===d?void 0:d.length)>0&&l().createElement(gl,{approvals:null==p||null===(A=p.testResult)||void 0===A?void 0:A.approvals}))))})))),0===(null!==(m=null==p?void 0:p.length)&&void 0!==m?m:0)?l().createElement("div",{className:zt.tileContainer},l().createElement(ke.g$J,{className:zt.tile},l().createElement("div",{className:zt.tileContent},l().createElement("p",{className:zt.content},A("noLaboratoryTestsToDisplay","No tests to display"))))):null)}}))};function Js(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ws(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ws(e,t,n[t])}))}return e}function Ys(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Qs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Js(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Js(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Ks=function(){var e=(0,He.useTranslation)().t,t=Qs((0,o.useState)(""),2),n=t[0],a=t[1],i=(0,r.useSession)(),s=Qs((0,o.useState)(!1),2),c=s[0],u=s[1],d=At().currentOrdersDate,m=Qs((0,o.useState)({}),2),A=m[0],p=m[1],_=Qs((0,o.useState)({}),2),v=_[0];_[1],(0,o.useEffect)((function(){u((null==i?void 0:i.user)&&(0,r.userHasAccess)("Task: labmanagement.testresults.approve",i.user))}),[]);var f=sn({v:gt.Full,itemStatus:"".concat(dn,",").concat(_n),minActivatedDate:d,testConceptTests:!1,approvals:!0,allTests:!1,approvalPerm:!0,includeTestItemTestResult:!0,testResultApprovals:!0,includeItemConcept:!0,worksheetInfo:!0}),b=f.isLoading,g=f.items,y=f.totalCount,h=f.currentPageSize,C=f.pageSizes,w=f.currentPage,E=f.setCurrentPage,S=f.setPageSize,k=f.setSearchString,T=f.isValidating,O=f.loaded,N=f.setMinActivatedDate,x=f.minActivatedDate,I=f.setMaxActivatedDate,D=f.maxActivatedDate,R=(f.testConcept,f.setTestConcept),B=f.itemLocation,P=f.setItemLocation,q=f.allTests,j=f.setAllTests,F=f.itemMatch,L=f.setItemMatch,U=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){return k(e)}),300)}),[k]);(0,o.useEffect)((function(){x!==d&&N(d)}),[d,x,N]);var z=[{id:0,header:e("date","Date"),key:"date"},{id:1,header:e("laboratoryRequestNumber","Request Number"),key:"requestNumber"},{id:2,header:e("laboratoryRequestEntity","Entity"),key:"patient"},{id:3,header:e("Identification","Identification"),key:"identifier"},{id:5,header:e("orderer","Ordered By"),key:"orderer"},{id:6,header:e("urgency","Urgency"),key:"urgency"},{id:7,header:"",key:"actions"},{id:8,header:"detailsTests",key:"detailsTests"},{id:8,header:"detailsTests",key:"detailsInfo"}],M=[{id:0,header:e("labSection","Lab Section"),key:"toLocationName"},{id:1,header:e("laboratoryTest","Test"),key:"testName"},{id:2,header:e("order#","Order#"),key:"orderNumber"},{id:3,header:e("laboratoryTestSamplesCollected","Samples"),key:"samples"},{id:4,header:e("status","Status"),key:"status"},{id:5,header:e("waitTime","Wait Time"),key:"waitTime"},{id:5,header:"details",key:"details"}],G=(0,o.useMemo)((function(){return null==g?void 0:g.map((function(e,t){var n,a,o,i,s;return{id:null==e?void 0:e.uuid,dateCreated:e.dateCreated,date:l().createElement("span",{className:zt["single-line-display"]},(0,r.formatDate)((0,r.parseDate)(null==e?void 0:e.dateCreated))),patient:l().createElement(za,{testRequest:e}),identifier:null!==(n=null==e?void 0:e.referralInExternalRef)&&void 0!==n?n:null==e?void 0:e.patientIdentifier,requestNumber:null==e?void 0:e.requestNo,orderer:"".concat(null!==(a=null==e?void 0:e.providerFamilyName)&&void 0!==a?a:""," ").concat(null!==(o=null==e?void 0:e.providerMiddleName)&&void 0!==o?o:""," ").concat(null!==(i=null==e?void 0:e.providerGivenName)&&void 0!==i?i:""),urgency:null==e?void 0:e.urgency,actions:l().createElement(ja,{testRequestUuid:e.uuid,enableResults:!0}),detailsInfo:l().createElement(Fr,{testRequest:e}),detailsTests:null!==(s=null==e?void 0:e.tests)&&void 0!==s?s:[]}}))}),[g]),H=function(){p({})},J=function(){zn(Y)},W=function(){return g.filter((function(e){var t;return A[e.uuid]&&Object.keys(null===(t=A[e.uuid])||void 0===t?void 0:t.tests).length>0})).sort((function(e,t){var n,r;return Object.keys(null===(n=A[t.uuid])||void 0===n?void 0:n.tests).length-Object.keys(null===(r=A[e.uuid])||void 0===r?void 0:r.tests).length})).map((function(e){var t,n;return l().createElement("div",{className:"laboratory-test-request-approve-item"},l().createElement("p",null,e.requestNo,":"," ",e.referralFromFacilityName?e.referralFromFacilityName:"".concat(e.patientFamilyName,'{" "}\n              ').concat(e.patientMiddleName," ").concat(e.patientGivenName)),l().createElement("ul",null,null===(n=e.tests)||void 0===n||null===(t=n.filter((function(t){var n,r;return null===(r=A[e.uuid])||void 0===r||null===(n=r.tests)||void 0===n?void 0:n[t.uuid]})))||void 0===t?void 0:t.map((function(e){return l().createElement("li",null,e.orderNumber," -"," ",En(e.testName,e.testShortName))}))))}))},V=(0,o.useCallback)((function(e){return cn({actionType:Ur,action:qn,remarks:e,records:g.filter((function(e){var t;return(null===(t=A[e.uuid])||void 0===t?void 0:t.tests)&&Object.keys(A[e.uuid].tests).length>0})).map((function(e){return e.tests.filter((function(t){return A[e.uuid].tests[t.uuid]})).map((function(e){var t;return null===(t=e.testResult)||void 0===t?void 0:t.uuid}))})).flatMap((function(e){return e})).filter((function(e){return null!=e}))})}),[g,A]),Q=(0,o.useCallback)((function(e){return cn({actionType:Ur,action:jn,remarks:e,records:g.filter((function(e){var t;return(null===(t=A[e.uuid])||void 0===t?void 0:t.tests)&&Object.keys(A[e.uuid].tests).length>0})).map((function(e){return e.tests.filter((function(t){return A[e.uuid].tests[t.uuid]})).map((function(e){var t;return null===(t=e.testResult)||void 0===t?void 0:t.uuid}))})).flatMap((function(e){return e})).filter((function(e){return null!=e}))})}),[g,A]),K=(0,o.useCallback)((function(){var t=(0,r.showModal)("lab-approve-test-request-dialog",{closeModal:function(e){e&&(H(),J()),t()},approvalTitle:e("laboratoryTestRejectResults","Reject Results"),approvalDescription:W(),remarksTextLabel:e("laboratoryApproveRejectReason","Reason for rejection"),actionButtonLabel:e("reject","Reject"),remarksRequired:!0,approveCallback:Q,kind:"danger",successMessageTitle:e("laboratoryTestResultRejectTests","Reject Results"),successMessageBody:e("laboratoryTestResultRejectTestsSuccess","Results rejected successfully")})}),[W,Q]),Z=(0,o.useCallback)((function(){var t=(0,r.showModal)("lab-approve-test-request-dialog",{closeModal:function(e){e&&(H(),J()),t()},approvalTitle:e("laboratoryTestResultApprovedTests","Approve Results"),approvalDescription:W(),remarksTextLabel:e("laboratoryApproveRemarks","Remarks (optional)"),actionButtonLabel:e("approve","Approve"),remarksRequired:!1,approveCallback:V,kind:"primary",successMessageTitle:e("laboratoryTestResultApprovedTests","Approve Results"),successMessageBody:e("laboratoryTestResultApprovedTestsSuccess","Results approved successfully")})}),[W,V]);return b&&!O?l().createElement(ke.m2V,{role:"progressbar"}):l().createElement(l().Fragment,null,(b||T)&&O&&l().createElement(ke.cHM,{size:"small",type:"indented",status:"status",label:"",hideLabel:!0,className:zt.progressBarThin}),l().createElement(ke.iSL,{rows:G,headers:z,isSortable:!0,useZebraStyles:!0,overflowMenuOnHover:!0,render:function(t){var o,i=t.rows,s=t.headers,u=t.getHeaderProps,d=t.getTableProps,m=t.getRowProps,_=t.getBatchActionProps,f=t.getSelectionProps,b=t.getToolbarProps,y=(t.selectedRows,t.expandRow),h=Object.entries(A).reduce((function(e,t){var n=Qs(t,2),r=(n[0],n[1]);e.allCount=e.allCount+(r.allTests?1:0);var a=Object.keys(r.tests).length;return e.testsCount=e.testsCount+a,e.someCount=e.someCount+(r.allTests||a>0?1:0),e}),{allCount:0,someCount:0,testsCount:0}),C=Vs({},_({shouldShowBatchActions:h.someCount>0||h.allCount>0,totalCount:g.length,totalSelected:h.someCount,translateWithId:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{totalSelected:0,totalCount:0};return n.totalSelected,n.totalCount,"carbon.table.batch.cancel"===t?e("cancel","Cancel"):"carbon.table.batch.selectAll"===t?"".concat(e("selectAll","Select all")," (").concat(g.length,")"):"".concat(h.someCount," ").concat(e("requests(s)","requests(s)")," ").concat(h.testsCount," ").concat(e("test(s)","test(s)")," ").concat(e("selected","Selected"))},style:{display:h.someCount>0||h.allCount>0?"":"none"}}),{shouldShowBatchActions:h.someCount>0||h.allCount>0,totalCount:g.length,totalSelected:h.someCount,onCancel:H}),w=g.some((function(e){var t;return null==e||null===(t=e.tests)||void 0===t?void 0:t.some((function(e){var t,n;return null===(n=e.testResult)||void 0===n||null===(t=n.permission)||void 0===t?void 0:t.canApprove}))}));return l().createElement(ke._tR,{className:zt.tableContainer},l().createElement(ke.MBp,Ys(Vs({},b()),{style:{position:h.someCount>0||h.allCount>0?"inherit":"static",margin:0}}),l().createElement(ke.a_I,C,c&&l().createElement(l().Fragment,null,l().createElement(ke.eXR,{renderIcon:Mt.aU,iconDescription:e("LaboratoryApproveTestResult","Approve Result(s)"),onClick:Z},e("laboratoryApproveTestResult","Approve Result(s)")),l().createElement(ke.eXR,{kind:"danger",renderIcon:tt.fT,iconDescription:e("LaboratoryRejectResults","Reject Results(s)"),onClick:K},e("LaboratoryRejectResults","Reject Results(s)")))),l().createElement(ke.aGn,{style:{display:"flex",alignItems:"center"}},l().createElement(ke.OWJ,{persistent:!0,value:n,onChange:function(e){return t=e.target.value,a(t),void U(t);var t}}),l().createElement(Br,{maxActivatedDate:D,minActivatedDate:x,diagnosticCenterUuid:B,onMaxActivatedDateChanged:I,onDiagnosticCenterChanged:P,onTestChanged:R,enableFocus:!0,focus:q,onFocusChanged:j,enableItemMatch:!0,onItemMatchChanged:L,itemMatch:F,excluteItemMatchOptions:[hn,yn,Cn]}))),l().createElement(ke.oJK,Ys(Vs({},d()),{className:zt.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,l().createElement(ke.ugy,null),w&&l().createElement(ke.Wgb,Ys(Vs({},f({onClick:function(e){var t={};e.target.checked&&g.reduce((function(e,t){var n;return e[t.uuid]={allTests:!0,tests:{}},e[t.uuid].tests=null===(n=t.tests)||void 0===n?void 0:n.reduce((function(e,t){var n,r;return(null==t||null===(r=t.testResult)||void 0===r||null===(n=r.permission)||void 0===n?void 0:n.canApprove)&&(e[t.uuid]=!0),e}),e[t.uuid].tests),e}),t),p(t)}})),{checked:g.length>0&&h.allCount==g.length,indeterminate:h.allCount!=g.length&&h.someCount>0})),s.map((function(e){var t,n;return!e.key.startsWith("details")&&l().createElement(ke.IEe,Ys(Vs({},u({header:e,isSortable:e.isSortable})),{className:r.isDesktop?zt.desktopHeader:zt.tabletHeader,key:"".concat(e.key)}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})),l().createElement(ke.IEe,null))),l().createElement(ke.qqV,null,i.map((function(e){var t,n,a,o,i,c,u=null==g?void 0:g.find((function(t){return t.uuid==e.id}));return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.cjO,Ys(Vs({className:r.isDesktop?zt.desktopRow:zt.tabletRow},m({row:e})),{isExpanded:Boolean(v[e.id]),onExpand:function(t){return n=e.id,v[n]=Boolean(!v[n]),void y(n);var n},key:e.id}),w&&(null===(n=g.find((function(t){return t.uuid==e.id})))||void 0===n||null===(t=n.tests)||void 0===t?void 0:t.some((function(e){var t,n;return null==e||null===(n=e.testResult)||void 0===n||null===(t=n.permission)||void 0===t?void 0:t.canApprove})))?l().createElement(Pn,Ys(Vs({},f({row:e})),{checked:Boolean(null===(a=A[e.id])||void 0===a?void 0:a.allTests),indeterminate:Boolean(!(null===(o=A[e.id])||void 0===o?void 0:o.allTests)&&(null===(i=A[e.id])||void 0===i?void 0:i.tests)&&Object.keys(null===(c=A[e.id])||void 0===c?void 0:c.tests).length>0),onChange:function(t,n){return function(e,t,n){var r,a,o=Vs({},A);o[n]||(o[n]={tests:{},allTests:!1}),t.checked?(o[n].allTests=!0,o[n].tests=null==g||null===(a=g.find((function(e){return e.uuid==n})))||void 0===a||null===(r=a.tests)||void 0===r?void 0:r.reduce((function(e,t){var n,r;return(null==t||null===(r=t.testResult)||void 0===r||null===(n=r.permission)||void 0===n?void 0:n.canApprove)&&(e[t.uuid]=!0),e}),{})):(o[n].allTests=!1,delete o[n].tests,o[n].tests={}),p(o)}(0,n,e.id)}})):w&&l().createElement(ke.y6P,null),e.cells.map((function(e){var t;return!(null==e||null===(t=e.info)||void 0===t?void 0:t.header.startsWith("details"))&&l().createElement(ke.y6P,{key:e.id},e.value)}))),l().createElement(ke.Ocq,{className:zt.tableExpandedRow,colSpan:s.length+1},v[e.id]&&l().createElement("section",{className:"".concat(zt.rowExpandedContent," ").concat(zt.worksheetItems)},l().createElement(Hs,{tests:e.cells[e.cells.length-2].value,tableHeaders:M,onSelectionChange:p,selectedItems:A,testRequestId:e.id,enableSelection:!0,testRequest:u}),e.cells[e.cells.length-1].value)))})))),0===(null!==(o=null==i?void 0:i.length)&&void 0!==o?o:0)?l().createElement("div",{className:zt.tileContainer},l().createElement(ke.g$J,{className:zt.tile},l().createElement("div",{className:zt.tileContent},l().createElement("p",{className:zt.content},e("noPendingApprovalsToDisplay","No pending approvals to display"))))):null)}}),l().createElement(ke.eML,{page:w,pageSize:h,pageSizes:C,totalItems:null!=y?y:0,onChange:function(e){var t=e.page,n=e.pageSize;E(t),S(n)},className:zt.paginationOverride}))};function Zs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Xs(e,t,n[t])}))}return e}function ec(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const tc=function(e){var t,n,a=e.tests,i=e.tableHeaders,s=(e.onSelectionChange,e.selectedItems,e.testRequestId,e.testRequest),c=(0,He.useTranslation)().t,u=(t=(0,o.useState)({}),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Zs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zs(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=u[0];return u[1],l().createElement(l().Fragment,null,l().createElement(ke.iSL,{rows:a,headers:i,isSortable:!0,useZebraStyles:!0,overflowMenuOnHover:!0,render:function(e){var t,n=e.rows,a=e.headers,o=e.getHeaderProps,i=e.getTableProps,u=e.getRowProps,m=(e.getBatchActionProps,e.getSelectionProps,e.getToolbarProps,e.selectedRows,e.expandRow);return l().createElement(ke._tR,{className:zt.tableContainer},l().createElement(ke.oJK,ec($s({},i()),{className:zt.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,l().createElement(ke.ugy,null),!1,a.map((function(e){var t,n;return"details"!==e.key&&l().createElement(ke.IEe,ec($s({},o({header:e,isSortable:e.isSortable})),{className:r.isDesktop?zt.desktopHeader:zt.tabletHeader,key:"".concat(e.key)}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})))),l().createElement(ke.qqV,null,n.map((function(e){var t,n,o,i,c,A,p,_=null==s||null===(t=s.tests)||void 0===t?void 0:t.find((function(t){return t.uuid==e.id}));return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.cjO,ec($s({className:"".concat(r.isDesktop?zt.desktopRow:zt.tabletRow," ").concat(((null==_||null===(n=_.permission)||void 0===n?void 0:n.canEditTestResults)||(null==_||null===(o=_.permission)||void 0===o?void 0:o.canViewTestResults))&&(null==_?void 0:_.testResult)?"":zt.noTestResultsRow)},u({row:e})),{key:e.id,id:"tr-test-".concat(e.id),isExpanded:Boolean(d[e.id]),onExpand:function(t){return n=e.id,d[n]=Boolean(!d[n]),void m(n);var n}}),!1,e.cells.map((function(e){var t;return"details"!==(null==e||null===(t=e.info)||void 0===t?void 0:t.header)&&l().createElement(ke.y6P,{key:e.id},e.value)}))),(null==_||null===(i=_.permission)||void 0===i?void 0:i.canViewTestResults)&&(null==_?void 0:_.testResult)&&d[e.id]&&l().createElement(ke.Ocq,{className:"".concat(zt.tableExpandedRow," ").concat(zt.worksheetItemTableExpandedRow),colSpan:a.length+1},l().createElement("div",{className:zt.worksheetItemRowDetails},l().createElement(wa,{testConcept:null==_?void 0:_.testConcept,testResult:null==_?void 0:_.testResult}),(null==_||null===(A=_.testResult)||void 0===A||null===(c=A.approvals)||void 0===c?void 0:c.length)>0&&l().createElement(gl,{approvals:null==_||null===(p=_.testResult)||void 0===p?void 0:p.approvals}))))})))),0===(null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0)?l().createElement("div",{className:zt.tileContainer},l().createElement(ke.g$J,{className:zt.tile},l().createElement("div",{className:zt.tileContent},l().createElement("p",{className:zt.content},c("noLaboratoryTestsToDisplay","No tests to display"))))):null)}}))};function nc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ac(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){rc(e,t,n[t])}))}return e}function oc(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function lc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const ic=function(){var e=(0,He.useTranslation)().t,t=lc((0,o.useState)(""),2),n=t[0],a=t[1],i=At().currentOrdersDate,s=lc((0,o.useState)({}),2),c=s[0],u=s[1],d=lc((0,o.useState)({}),2),m=d[0],A=(d[1],sn({v:gt.Full,itemStatus:fn,minActivatedDate:i,testConceptTests:!1,samples:!0,includeTestItemSamples:!0,allTests:!1,includeTestItemTestResult:!0,testResultApprovals:!0,includeItemConcept:!0,worksheetInfo:!0})),p=A.isLoading,_=A.items,v=A.totalCount,f=A.currentPageSize,b=A.pageSizes,g=A.currentPage,y=A.setCurrentPage,h=A.setPageSize,C=A.setSearchString,w=A.isValidating,E=A.loaded,S=A.setMinActivatedDate,k=A.minActivatedDate,T=A.setMaxActivatedDate,O=A.maxActivatedDate,N=A.setTestConcept,x=A.itemLocation,I=A.setItemLocation,D=A.allTests,R=A.setAllTests,B=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){return C(e)}),300)}),[C]);(0,o.useEffect)((function(){k!==i&&S(i)}),[i,k,S]);var P=[{id:0,header:e("date","Date"),key:"date"},{id:1,header:e("laboratoryRequestNumber","Request Number"),key:"requestNumber"},{id:2,header:e("laboratoryRequestEntity","Entity"),key:"patient"},{id:3,header:e("Identification","Identification"),key:"identifier"},{id:4,header:e("orderer","Ordered By"),key:"orderer"},{id:5,header:e("urgency","Urgency"),key:"urgency"},{id:7,header:"",key:"actions"},{id:6,header:"detailsTests",key:"detailsTests"},{id:7,header:"detailsTests",key:"detailsInfo"},{id:8,header:"detailsSamples",key:"detailsSamples"}],q=[{id:0,header:e("labSection","Lab Section"),key:"toLocationName"},{id:1,header:e("laboratoryTest","Test"),key:"testName"},{id:2,header:e("order#","Order#"),key:"orderNumber"},{id:3,header:e("laboratoryTestSamplesCollected","Samples"),key:"samples"},{id:4,header:e("status","Status"),key:"status"},{id:5,header:e("waitTime","Wait Time"),key:"waitTime"},{id:6,header:"",key:"actions"}],j=(0,o.useMemo)((function(){return null==_?void 0:_.map((function(t){var n,a,o,i,s,c,u,d;return{id:null==t?void 0:t.uuid,dateCreated:t.dateCreated,date:l().createElement("span",{className:zt["single-line-display"]},(0,r.formatDate)((0,r.parseDate)(null==t?void 0:t.dateCreated))),patient:l().createElement(za,{testRequest:t}),identifier:null!==(o=null==t?void 0:t.referralInExternalRef)&&void 0!==o?o:null==t?void 0:t.patientIdentifier,requestNumber:null==t?void 0:t.requestNo,orderer:"".concat(null!==(i=null==t?void 0:t.providerFamilyName)&&void 0!==i?i:""," ").concat(null!==(s=null==t?void 0:t.providerMiddleName)&&void 0!==s?s:""," ").concat(null!==(c=null==t?void 0:t.providerGivenName)&&void 0!==c?c:""),urgency:null==t?void 0:t.urgency,actions:l().createElement(ja,{testRequestUuid:t.uuid,enableResults:null==t||null===(n=t.tests)||void 0===n?void 0:n.some((function(e){return e.testResult}))}),detailsSamples:null!==(u=null==t?void 0:t.samples)&&void 0!==u?u:[],detailsInfo:l().createElement(Fr,{testRequest:t}),detailsTests:null!==(d=null==t||null===(a=t.tests)||void 0===a?void 0:a.sort((function(e,t){var n,r,a,o;return(null===(n=e.toLocationName)||void 0===n?void 0:n.localeCompare(t.toLocationName,void 0,{ignorePunctuation:!0}))||(null===(r=null!==(a=e.testName)&&void 0!==a?a:e.testShortName)||void 0===r?void 0:r.localeCompare(null!==(o=t.testName)&&void 0!==o?o:t.testShortName,void 0,{ignorePunctuation:!0}))})).map((function(n){var a,o,i,s,c,u,d,m,A,p,_,v,f,b;return{id:n.uuid,toLocationName:n.toLocationName,testName:En(n.testName,n.testShortName),orderNumber:n.orderNumber,atLocationName:n.atLocationName,samples:l().createElement("div",null,null===(a=n.samples)||void 0===a?void 0:a.map((function(e){return l().createElement(ke.EDW,{type:"green"},l().createElement(Ao,{showPrint:!0,reference:e.accessionNumber,className:zt.testSampleReference,sampleUuid:e.uuid,sampleType:e.sampleTypeName,entityName:Ua(t)}))}))),status:l().createElement(l().Fragment,null,e(gn(n,e)),(null==n?void 0:n.worksheetNo)&&l().createElement("div",null,l().createElement("a",{href:M(null==n?void 0:n.worksheetUuid),onClick:function(e){e.preventDefault(),(0,r.navigate)({to:M(null==n?void 0:n.worksheetUuid)})}},null==n?void 0:n.worksheetNo)),(null==n||null===(o=n.permission)||void 0===o?void 0:o.canViewTestResults)&&l().createElement("div",null,(null==n||null===(c=n.testResult)||void 0===c||null===(s=c.obs)||void 0===s||null===(i=s.display)||void 0===i?void 0:i.indexOf(":"))>0?null==n||null===(_=n.testResult)||void 0===_||null===(p=_.obs)||void 0===p||null===(A=p.display)||void 0===A?void 0:A.substring((null==n||null===(m=n.testResult)||void 0===m||null===(d=m.obs)||void 0===d||null===(u=d.display)||void 0===u?void 0:u.indexOf(":"))+1):null==n||null===(f=n.testResult)||void 0===f||null===(v=f.obs)||void 0===v?void 0:v.display),(n.status==vn||n.requestApprovalRemarks)&&l().createElement("div",null,l().createElement("div",{className:zt.approvalRemarks},n.requestApprovalRemarks))),waitTime:l().createElement(Tl,{testRequestItem:n,translator:e}),actions:l().createElement("div",{className:"".concat(zt.clearGhostButtonPadding," ").concat(zt.rowActions)},(null==n||null===(b=n.permission)||void 0===b?void 0:b.canEditTestResults)&&l().createElement(fl,{testRequest:t,testRequestItem:n}),l().createElement(ja,{testRequestUuid:t.uuid,enableResults:!!(null==n?void 0:n.testResult),testRequestItemUuid:n.uuid}))}})))&&void 0!==d?d:[]}}))}),[_]);return p&&!E?l().createElement(ke.m2V,{role:"progressbar"}):l().createElement(l().Fragment,null,(p||w)&&E&&l().createElement(ke.cHM,{size:"small",type:"indented",status:"status",label:"",hideLabel:!0,className:zt.progressBarThin}),l().createElement(ke.iSL,{rows:j,headers:P,isSortable:!0,useZebraStyles:!0,overflowMenuOnHover:!0,render:function(t){var o,i=t.rows,s=t.headers,d=t.getHeaderProps,A=t.getTableProps,p=t.getRowProps,v=t.getToolbarProps,f=t.expandRow;return l().createElement(ke._tR,{className:zt.tableContainer},l().createElement(ke.MBp,oc(ac({},v()),{style:{position:"static",margin:0}}),l().createElement(ke.aGn,{style:{display:"flex",alignItems:"center"}},l().createElement(ke.OWJ,{placeholder:e("laboratoryFilterRequests","Filter Requests..."),persistent:!0,value:n,onChange:function(e){return t=e.target.value,a(t),void B(t);var t}}),l().createElement(Br,{maxActivatedDate:O,minActivatedDate:k,diagnosticCenterUuid:x,onMaxActivatedDateChanged:T,onDiagnosticCenterChanged:I,onTestChanged:N,enableFocus:!0,focus:D,onFocusChanged:R}))),l().createElement(ke.oJK,oc(ac({},A()),{className:zt.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,l().createElement(ke.ugy,null),s.map((function(e){var t,n;return!e.key.startsWith("details")&&l().createElement(ke.IEe,oc(ac({},d({header:e,isSortable:e.isSortable})),{className:r.isDesktop?zt.desktopHeader:zt.tabletHeader,key:"".concat(e.key)}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})),l().createElement(ke.IEe,null))),l().createElement(ke.qqV,null,i.map((function(e){return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.cjO,oc(ac({className:r.isDesktop?zt.desktopRow:zt.tabletRow},p({row:e})),{key:e.id,isExpanded:Boolean(m[e.id]),onExpand:function(t){return n=e.id,m[n]=Boolean(!m[n]),void f(n);var n}}),e.cells.map((function(e){var t;return!(null==e||null===(t=e.info)||void 0===t?void 0:t.header.startsWith("details"))&&l().createElement(ke.y6P,{key:e.id},e.value)}))),l().createElement(ke.Ocq,{className:zt.tableExpandedRow,colSpan:s.length+1},l().createElement("section",{className:"".concat(zt.rowExpandedContent," ").concat(zt.worksheetItems)},l().createElement(tc,{tests:e.cells[e.cells.length-3].value,tableHeaders:q,onSelectionChange:u,selectedItems:c,testRequestId:e.id,testRequest:_.find((function(t){return t.uuid==e.id}))}),l().createElement(l().Fragment,null,e.cells[e.cells.length-2].value),l().createElement("div",{style:{width:"100%"}}),l().createElement(Lo,{testRequest:_.find((function(t){return t.uuid==e.id})),canEditSamples:!1,canDoSampleCollecton:!1,disableReleaseForTesting:!0,testRequestId:e.id,samples:e.cells[e.cells.length-1].value,expandRow:f}))))})))),0===(null!==(o=null==i?void 0:i.length)&&void 0!==o?o:0)?l().createElement("div",{className:zt.tileContainer},l().createElement(ke.g$J,{className:zt.tile},l().createElement("div",{className:zt.tileContent},l().createElement("p",{className:zt.content},e("noItemsToDisplay","No items to display"))))):null)}}),l().createElement(ke.eML,{page:g,pageSize:f,pageSizes:b,totalItems:null!=v?v:0,onChange:function(e){var t=e.page,n=e.pageSize;y(t),h(n)},className:zt.paginationOverride}))};function sc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){cc(e,t,n[t])}))}return e}function dc(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const mc=function(e){var t,n,a=e.tests,i=(e.canApproveTestRequests,e.tableHeaders),s=e.onSelectionChange,c=e.selectedItems,u=e.testRequestId,d=e.enableSelection,m=e.testRequest,A=(0,He.useTranslation)().t,p=(t=(0,o.useState)({}),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return sc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sc(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),_=p[0];return p[1],l().createElement(l().Fragment,null,l().createElement(ke.iSL,{rows:a,headers:i,isSortable:!0,useZebraStyles:!0,overflowMenuOnHover:!0,render:function(e){var t,n,o,i,p,v=e.rows,f=e.headers,b=e.getHeaderProps,g=e.getTableProps,y=e.getRowProps,h=(e.getBatchActionProps,e.getSelectionProps),C=(e.getToolbarProps,e.selectedRows,e.expandRow);return l().createElement(ke._tR,{className:zt.tableContainer},l().createElement(ke.oJK,dc(uc({},g()),{className:zt.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,l().createElement(ke.ugy,null),d&&l().createElement(ke.Wgb,dc(uc({},h()),{onSelect:function(e){var t=e.target.checked,n=uc({},c);n[u]||(n[u]={tests:{},allTests:!1}),t?(n[u].allTests=!0,n[u].tests=null==v?void 0:v.reduce((function(e,t){return e[t.id]=!0,e}),{})):(n[u].allTests=!1,delete n[u].tests,n[u].tests={}),s(n)},checked:Boolean(null===(t=c[u])||void 0===t?void 0:t.allTests),indeterminate:Boolean(!(null===(n=c[u])||void 0===n?void 0:n.allTests)&&(null===(o=c[u])||void 0===o?void 0:o.tests)&&Object.keys(null===(i=c[u])||void 0===i?void 0:i.tests).length>0)})),f.map((function(e){var t,n;return"details"!==e.key&&l().createElement(ke.IEe,dc(uc({},b({header:e,isSortable:e.isSortable})),{className:r.isDesktop?zt.desktopHeader:zt.tabletHeader,key:"".concat(e.key)}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})))),l().createElement(ke.qqV,null,v.map((function(e){var t,n,o,i,A,p,v,b,g,w,E=null==m||null===(t=m.tests)||void 0===t?void 0:t.find((function(t){return t.uuid==e.id}));return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.cjO,dc(uc({className:"".concat(r.isDesktop?zt.desktopRow:zt.tabletRow," ").concat(((null==E||null===(n=E.permission)||void 0===n?void 0:n.canEditTestResults)||(null==E||null===(o=E.permission)||void 0===o?void 0:o.canViewTestResults))&&(null==E?void 0:E.testResult)?"":zt.noTestResultsRow)},y({row:e})),{key:e.id,id:"tr-test-".concat(e.id),isExpanded:Boolean(_[e.id]),onExpand:function(t){return n=e.id,_[n]=Boolean(!_[n]),void C(n);var n}}),d&&l().createElement(ke.qwX,dc(uc({},h({row:e})),{checked:Boolean(null===(A=c[u])||void 0===A||null===(i=A.tests)||void 0===i?void 0:i[e.id]),onChange:function(t,n,r){return o=t,l=e.id,(i=uc({},c))[u]||(i[u]={tests:{},allTests:!1}),o?(i[u].allTests=Object.keys(i[u].tests).length+1==a.length,i[u].tests[l]=!0):(i[u].allTests=!1,i[u].tests[l]&&delete i[u].tests[l]),void s(i);var o,l,i},classNames:zt.selectionCheckbox})),e.cells.map((function(e){var t;return"details"!==(null==e||null===(t=e.info)||void 0===t?void 0:t.header)&&l().createElement(ke.y6P,{key:e.id},e.value)}))),((null==E||null===(p=E.permission)||void 0===p?void 0:p.canEditTestResults)||(null==E||null===(v=E.permission)||void 0===v?void 0:v.canViewTestResults))&&(null==E?void 0:E.testResult)&&_[e.id]&&l().createElement(ke.Ocq,{className:"".concat(zt.tableExpandedRow," ").concat(zt.worksheetItemTableExpandedRow),colSpan:f.length+1},l().createElement("div",{className:zt.worksheetItemRowDetails},l().createElement(wa,{testConcept:null==E?void 0:E.testConcept,testResult:null==E?void 0:E.testResult}),(null==E||null===(g=E.testResult)||void 0===g||null===(b=g.approvals)||void 0===b?void 0:b.length)>0&&l().createElement(gl,{approvals:null==E||null===(w=E.testResult)||void 0===w?void 0:w.approvals}))))})))),0===(null!==(p=null==v?void 0:v.length)&&void 0!==p?p:0)?l().createElement("div",{className:zt.tileContainer},l().createElement(ke.g$J,{className:zt.tile},l().createElement("div",{className:zt.tileContent},l().createElement("p",{className:zt.content},A("noLaboratoryTestsToDisplay","No tests to display"))))):null)}}))};function Ac(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){pc(e,t,n[t])}))}return e}function vc(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function fc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ac(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ac(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const bc=function(){var e=(0,He.useTranslation)().t,t=(0,i.useLocation)(),n=At().currentOrdersDate,a=fc((0,o.useState)((function(){var e;return null!==(e=new URLSearchParams(t.search).get("requestNo"))&&void 0!==e?e:""})),2),s=a[0],c=a[1],u=fc((0,o.useState)((function(){var e=new URLSearchParams(t.search).get("startDate"),r=null;if(null==e||void 0===e)return n;try{var a;r=e?Rt(null===(a=it()(e.trim()))||void 0===a?void 0:a.toDate()):null}catch(e){r=null}return null!=r?r:""})),1)[0],d=(0,r.useSession)(),m=fc((0,o.useState)(!1),1)[0],A=fc((0,o.useState)(!1),1)[0],p=fc((0,o.useState)({}),2),_=p[0],v=p[1],f=fc((0,o.useState)({}),2),b=f[0],g=(f[1],fc((0,o.useState)(!1),2)),y=g[0],h=g[1],C=fc((0,o.useState)(!1),2),w=C[0],E=C[1],S=fc((0,o.useState)(!1),2),k=S[0],T=S[1],O=function(e){var t,n,a,l,i,s,c=on((0,o.useState)(!0),2),u=c[0],d=c[1],m=on((0,o.useState)((null!==(a=null==e?void 0:e.startIndex)&&void 0!==a?a:0)+1),2),A=m[0],p=m[1],_=on((0,o.useState)(null!==(l=null==e?void 0:e.limit)&&void 0!==l?l:10),2),v=_[0],f=_[1],b=on((0,o.useState)(null==e?void 0:e.q),2),g=b[0],y=b[1],h=on((0,o.useState)(null==e?void 0:e.itemLocation),2),C=h[0],w=h[1],E=on((0,o.useState)(null==e?void 0:e.testConcept),2),S=E[0],k=E[1],T=on((0,o.useState)(null==e?void 0:e.minActivatedDate),2),O=T[0],N=T[1],x=on((0,o.useState)(null==e?void 0:e.maxActivatedDate),2),I=x[0],D=x[1],R=on((0,o.useState)(null==e?void 0:e.allTests),2),B=R[0],P=R[1],q=on((0,o.useState)(!1),2),j=q[0],F=q[1],L=on((0,o.useState)(null==e?void 0:e.itemStatus),2),U=L[0],z=L[1],M=on((0,o.useState)(null==e?void 0:e.samples),2),G=M[0],H=M[1],J=on((0,o.useState)(null==e?void 0:e.includeTestItemSamples),2),W=J[0],V=J[1],Q=on((0,o.useState)(null==e?void 0:e.includeTestItemTestResult),2),K=Q[0],Z=Q[1],X=on((0,o.useState)(null==e?void 0:e.testResultApprovals),2),$=X[0],ee=X[1],te=on((0,o.useState)(null==e?void 0:e.includeItemConcept),2),ne=te[0],re=te[1],ae=on((0,o.useState)(null==e?void 0:e.worksheetInfo),2),oe=ae[0],le=ae[1],ie=on((0,o.useState)(null==e?void 0:e.itemMatch),2),se=ie[0],ce=ie[1],ue=on((0,o.useState)((function(){var t;return an({},{startIndex:A-1,v:gt.Default,limit:10,q:null==e?void 0:e.q,totalCount:null===(t=null==e?void 0:e.totalCount)||void 0===t||t,sort:"-id"},null!=e?e:{})})),2),de=ue[0],me=ue[1],Ae=(0,o.useCallback)((function(e){me(e),d(!1)}),[]),pe=(0,wt.c)("".concat(Y),(function(){return St("".concat(Y).concat(Ct(de)))})),_e=pe.data,ve=pe.error,fe=pe.trigger,be=pe.isMutating,ge=(0,r.usePagination)(null!==(i=null==_e||null===(t=_e.data)||void 0===t?void 0:t.results)&&void 0!==i?i:[],v);return(0,o.useEffect)((function(){me((function(e){return an({},e,{startIndex:A-1,limit:v,q:g,totalCount:e.totalCount,v:e.v,minActivatedDate:O,maxActivatedDate:I,itemLocation:C,testConcept:S,allTests:B,itemStatus:U,samples:G,includeTestItemSamples:W,includeTestItemTestResult:K,testResultApprovals:$,includeItemConcept:ne,worksheetInfo:oe,itemMatch:se})}))}),[g,A,v,O,I,C,S,B,U,G,W,K,$,ne,oe,se]),(0,o.useEffect)((function(){!j&&be&&F(!0)}),[be,j]),(0,o.useEffect)((function(){u||fe()}),[de,u,fe]),{getTestRequests:Ae,items:ge.results,pagination:ge,totalCount:null!==(s=null==_e||null===(n=_e.data)||void 0===n?void 0:n.totalCount)&&void 0!==s?s:0,currentPageSize:v,currentPage:A,setCurrentPage:p,setPageSize:f,pageSizes:[10,20,30,40,50],isLoading:!1,isValidating:!u&&be,isError:ve,setSearchString:y,loaded:j,minActivatedDate:O,maxActivatedDate:I,setMinActivatedDate:N,setMaxActivatedDate:D,itemLocation:C,setItemLocation:w,testConcept:S,setTestConcept:k,allTests:B,setAllTests:P,testItemStatuses:U,setTestItemStatuses:z,testRequestFilter:de,setTestRequestFilter:me,samples:G,setSamples:H,includeTestItemSamples:W,setIncludeTestItemSamples:V,includeTestItemTestResult:K,setIncludeTestItemTestResult:Z,testResultApprovals:$,setTestResultApprovals:ee,includeItemConcept:ne,setIncludeItemConcept:re,worksheetInfo:oe,setWorksheetInfo:le,isLazy:u,setItemMatch:ce,itemMatch:se}}({v:gt.Full,minActivatedDate:u,testConceptTests:!1,samples:y,includeTestItemSamples:!0,allTests:!0,includeTestItemTestResult:k,testResultApprovals:k,includeItemConcept:k,worksheetInfo:w,q:s}),N=O.isLoading,x=O.items,I=O.totalCount,D=O.currentPageSize,R=O.pageSizes,B=O.currentPage,P=O.setCurrentPage,q=O.setPageSize,j=O.setSearchString,F=O.isValidating,L=O.loaded,U=O.setMinActivatedDate,z=O.minActivatedDate,G=O.setMaxActivatedDate,H=O.maxActivatedDate,J=O.setTestConcept,W=O.itemLocation,V=O.setItemLocation,Q=O.allTests,K=O.setAllTests,Z=O.setTestItemStatuses,X=O.testItemStatuses,$=O.testRequestFilter,ee=(O.setTestRequestFilter,O.setSamples),te=O.setIncludeTestItemTestResult,ne=O.setTestResultApprovals,re=O.setIncludeItemConcept,ae=O.setWorksheetInfo,oe=O.getTestRequests,le=O.worksheetInfo,ie=O.includeTestItemTestResult,se=O.isLazy,ce=O.setItemMatch,ue=O.itemMatch;(0,o.useEffect)((function(){var e=(null==d?void 0:d.user)&&(0,r.userHasAccess)(Yt,d.user),t=(null==d?void 0:d.user)&&(0,r.userHasAccess)(Xt,d.user),n=(null==d?void 0:d.user)&&(0,r.userHasAccess)($t,d.user);h(e),ee(e),E(t),ae(t),T(n),te(n),ne(n),re(n),(e!=ie||t!=le||n!=ie||se)&&oe(vc(_c({},$),{samples:e,includeTestItemSamples:!0,includeTestItemTestResult:n,testResultApprovals:n,includeItemConcept:n,worksheetInfo:t}))}),[se,re,te,ee,ne,ae,d.user]);var de=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){return j(e)}),300)}),[j]),me=[{id:0,header:e("date","Date"),key:"date"},{id:1,header:e("laboratoryRequestNumber","Request Number"),key:"requestNumber"},{id:2,header:e("laboratoryRequestEntity","Entity"),key:"patient"},{id:3,header:e("Identification","Identification"),key:"identifier"},{id:4,header:e("orderer","Ordered By"),key:"orderer"},{id:5,header:e("urgency","Urgency"),key:"urgency"},{id:7,header:"",key:"actions"},{id:6,header:"detailsTests",key:"detailsTests"},{id:7,header:"detailsTests",key:"detailsInfo"},{id:8,header:"detailsSamples",key:"detailsSamples"}],Ae=[{id:0,header:e("labSection","Lab Section"),key:"toLocationName"},{id:1,header:e("laboratoryTest","Test"),key:"testName"},{id:2,header:e("order#","Order#"),key:"orderNumber"},{id:3,header:e("laboratoryTestSamplesCollected","Samples"),key:"samples"},{id:4,header:e("status","Status"),key:"status"},{id:5,header:e("waitTime","Wait Time"),key:"waitTime"},{id:6,header:"",key:"actions"}],pe=(0,o.useMemo)((function(){return null==x?void 0:x.map((function(t,n){var a,o,i,s,c,u,d,m;return{id:null==t?void 0:t.uuid,dateCreated:t.dateCreated,date:l().createElement("span",{className:zt["single-line-display"]},(0,r.formatDate)((0,r.parseDate)(null==t?void 0:t.dateCreated))),patient:l().createElement(za,{testRequest:t}),identifier:null!==(i=null==t?void 0:t.referralInExternalRef)&&void 0!==i?i:null==t?void 0:t.patientIdentifier,requestNumber:null==t?void 0:t.requestNo,orderer:"".concat(null!==(s=null==t?void 0:t.providerFamilyName)&&void 0!==s?s:""," ").concat(null!==(c=null==t?void 0:t.providerMiddleName)&&void 0!==c?c:""," ").concat(null!==(u=null==t?void 0:t.providerGivenName)&&void 0!==u?u:""),urgency:null==t?void 0:t.urgency,actions:l().createElement(ja,{testRequestUuid:t.uuid,enableResults:null==t||null===(a=t.tests)||void 0===a?void 0:a.some((function(e){return e.testResult}))}),detailsSamples:null!==(d=null==t?void 0:t.samples)&&void 0!==d?d:[],detailsInfo:l().createElement(Fr,{testRequest:t}),detailsTests:null!==(m=null==t||null===(o=t.tests)||void 0===o?void 0:o.sort((function(e,t){var n,r,a,o;return(null===(n=e.toLocationName)||void 0===n?void 0:n.localeCompare(t.toLocationName,void 0,{ignorePunctuation:!0}))||(null===(r=null!==(a=e.testName)&&void 0!==a?a:e.testShortName)||void 0===r?void 0:r.localeCompare(null!==(o=t.testName)&&void 0!==o?o:t.testShortName,void 0,{ignorePunctuation:!0}))})).map((function(n){var a,o,i,s,c,u,d,m,p,_,v,f,b,g,y,h;return{id:n.uuid,toLocationName:n.toLocationName,testName:En(n.testName,n.testShortName),orderNumber:n.orderNumber,atLocationName:n.atLocationName,samples:l().createElement("div",null,null===(a=n.samples)||void 0===a?void 0:a.map((function(e){return l().createElement(ke.EDW,{type:"green"},l().createElement(Ao,{showPrint:!0,reference:e.accessionNumber,className:zt.testSampleReference,sampleUuid:e.uuid,sampleType:e.sampleTypeName,entityName:Ua(t)}))}))),status:l().createElement(l().Fragment,null,e(gn(n,e)),(null==n?void 0:n.worksheetNo)&&l().createElement("div",null,l().createElement("a",{href:M(null==n?void 0:n.worksheetUuid),onClick:function(e){e.preventDefault(),(0,r.navigate)({to:M(null==n?void 0:n.worksheetUuid)})}},null==n?void 0:n.worksheetNo)),(null==n||null===(o=n.permission)||void 0===o?void 0:o.canViewTestResults)&&l().createElement("div",null,(null==n||null===(c=n.testResult)||void 0===c||null===(s=c.obs)||void 0===s||null===(i=s.display)||void 0===i?void 0:i.indexOf(":"))>0?null==n||null===(v=n.testResult)||void 0===v||null===(_=v.obs)||void 0===_||null===(p=_.display)||void 0===p?void 0:p.substring((null==n||null===(m=n.testResult)||void 0===m||null===(d=m.obs)||void 0===d||null===(u=d.display)||void 0===u?void 0:u.indexOf(":"))+1):null==n||null===(b=n.testResult)||void 0===b||null===(f=b.obs)||void 0===f?void 0:f.display),(n.status==vn||n.requestApprovalRemarks)&&l().createElement("div",null,l().createElement("div",{className:zt.approvalRemarks},n.requestApprovalRemarks))),waitTime:l().createElement(Tl,{testRequestItem:n,translator:e}),actions:l().createElement("div",{className:"".concat(zt.clearGhostButtonPadding," ").concat(zt.rowActions)},(null==n||null===(g=n.permission)||void 0===g?void 0:g.canEditTestResults)&&l().createElement(fl,{testRequest:t,testRequestItem:n}),A&&(null==n||null===(y=n.permission)||void 0===y?void 0:y.canReject)&&!(null==n||null===(h=n.testResult)||void 0===h?void 0:h.obs)&&l().createElement(zo,{testRequest:t,testRequestItem:n}),l().createElement(ja,{testRequestUuid:t.uuid,enableResults:Boolean(n.testResult)}))}})))&&void 0!==m?m:[]}}))}),[A,x]);return N&&!L?l().createElement(ke.m2V,{role:"progressbar"}):l().createElement(l().Fragment,null,(N||F)&&L&&l().createElement(ke.cHM,{size:"small",type:"indented",status:"status",label:"",hideLabel:!0,className:zt.progressBarThin}),l().createElement("div",{className:"".concat(zt["labmgmt-filters"])},l().createElement(ke.c9z,{placeHolderText:e("laboratoryFilterWorksheets","Filter Requests..."),value:s,onChange:function(e){return t=e.target.value,c(t),void de(t);var t},labelText:"",size:"xl",className:zt.filterSearch}),l().createElement(Br,{maxActivatedDate:H,minActivatedDate:z,diagnosticCenterUuid:W,onMaxActivatedDateChanged:G,onMinActivatedDateChanged:U,onDiagnosticCenterChanged:V,onTestChanged:J,enableFocus:!0,focus:Q,onFocusChanged:K,enableTestRequestItemStatus:!0,testRequestItemStatuses:X,onTestRequestItemStatusesChanged:Z,enableItemMatch:!0,onItemMatchChanged:ce,itemMatch:ue,datePickerType:"range"})),l().createElement(ke.iSL,{rows:pe,headers:me,isSortable:!0,useZebraStyles:!0,overflowMenuOnHover:!0,render:function(t){var n,a=t.rows,o=t.headers,i=t.getHeaderProps,s=t.getTableProps,c=t.getRowProps,u=(t.getToolbarProps,t.expandRow);return l().createElement(ke._tR,{className:zt.tableContainer},l().createElement(ke.oJK,vc(_c({},s()),{className:zt.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,l().createElement(ke.ugy,null),o.map((function(e){var t,n;return!e.key.startsWith("details")&&l().createElement(ke.IEe,vc(_c({},i({header:e,isSortable:e.isSortable})),{className:r.isDesktop?zt.desktopHeader:zt.tabletHeader,key:"".concat(e.key)}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})),l().createElement(ke.IEe,null))),l().createElement(ke.qqV,null,a.map((function(e,t){return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.cjO,vc(_c({className:r.isDesktop?zt.desktopRow:zt.tabletRow},c({row:e})),{key:e.id,isExpanded:Boolean(b[e.id]),onExpand:function(t){return n=e.id,b[n]=Boolean(!b[n]),void u(n);var n}}),e.cells.map((function(e){var t;return!(null==e||null===(t=e.info)||void 0===t?void 0:t.header.startsWith("details"))&&l().createElement(ke.y6P,{key:e.id},e.value)}))),Boolean(b[e.id])&&l().createElement(ke.Ocq,{className:zt.tableExpandedRow,colSpan:o.length+1},l().createElement("section",{className:"".concat(zt.rowExpandedContent," ").concat(zt.worksheetItems)},l().createElement(mc,{tests:e.cells[e.cells.length-3].value,tableHeaders:Ae,canApproveTestRequests:m,onSelectionChange:v,selectedItems:_,testRequestId:e.id,testRequest:x.find((function(t){return t.uuid==e.id}))}),l().createElement(l().Fragment,null,e.cells[e.cells.length-2].value),y&&l().createElement(l().Fragment,null,l().createElement("div",{style:{width:"100%"}}),l().createElement(Lo,{testRequest:x.find((function(t){return t.uuid==e.id})),canEditSamples:!0,canDoSampleCollecton:!1,testRequestId:e.id,samples:e.cells[e.cells.length-1].value,expandRow:u})))))})))),0===(null!==(n=null==a?void 0:a.length)&&void 0!==n?n:0)?l().createElement("div",{className:zt.tileContainer},l().createElement(ke.g$J,{className:zt.tile},l().createElement("div",{className:zt.tileContent},l().createElement("p",{className:zt.content},e("noPendingItemsToDisplay","No pending items to display"))))):null)}}),l().createElement(ke.eML,{page:B,pageSize:D,pageSizes:R,totalItems:null!=I?I:0,onChange:function(e){var t=e.page,n=e.pageSize;P(t),q(n)},className:zt.paginationOverride}))},gc=function(e){var t=e.testRequest,n=e.translator,r=(0,o.useMemo)((function(){var e,r={minStartDate:null,maxCompletedDate:null,itemHasStartButNoEnd:!1};r=null==t||null===(e=t.tests)||void 0===e?void 0:e.reduce((function(e,t){var n;if(t.referredOut||!t.samples||t.status==vn)return e;var r,a,o=null,l=null!==(r=null==t?void 0:t.requestApprovalDate)&&void 0!==r?r:null==t?void 0:t.dateCreated;(o=null===(n=t.samples)||void 0===n?void 0:n.reduce((function(e,t){if(!e){var n,r=(null==t?void 0:t.collectionDate)&&l?it()(null==t?void 0:t.collectionDate).toDate().getTime()<it()(l).toDate().getTime()?l:null==t?void 0:t.collectionDate:null!==(n=null==t?void 0:t.collectionDate)&&void 0!==n?n:l;return r?it()(r).toDate():null}var a,o=(null==t?void 0:t.collectionDate)&&l?it()(null==t?void 0:t.collectionDate).toDate().getTime()<it()(l).toDate().getTime()?l:null==t?void 0:t.collectionDate:null!==(a=null==t?void 0:t.collectionDate)&&void 0!==a?a:l;if(!o)return e;var i=it()(o).toDate();return i.getTime()<e.getTime()?i:e}),o))&&(e.minStartDate?e.minStartDate=e.minStartDate.getTime()<o.getTime()?e.minStartDate:o:e.minStartDate=o);var i=null!==(a=null==t?void 0:t.resultDate)&&void 0!==a?a:null==t?void 0:t.completedDate;if(i){var s=it()(i).toDate();e.maxCompletedDate?e.maxCompletedDate=e.maxCompletedDate.getTime()>s.getTime()?e.maxCompletedDate:s:e.maxCompletedDate=s}else e.itemHasStartButNoEnd=!0;return e}),r);var a=Sl(r.minStartDate,(null==r?void 0:r.itemHasStartButNoEnd)?null:r.maxCompletedDate);return null==a||void 0===a?"":kl(a,n)}),[null==t?void 0:t.tests,n]);return l().createElement(l().Fragment,null,null!=r?r:"")};function yc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){hc(e,t,n[t])}))}return e}function wc(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Ec(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Sc=function(){var e=(0,He.useTranslation)().t,t=(0,i.useLocation)(),n=At().currentOrdersDate,a=Ec((0,o.useState)((function(){var e;return null!==(e=new URLSearchParams(t.search).get("requestNo"))&&void 0!==e?e:""})),2),s=a[0],c=a[1],u=Ec((0,o.useState)((function(){var e=new URLSearchParams(t.search).get("startDate"),r=null;if(null==e||void 0===e)return n;try{var a;r=e?Rt(null===(a=it()(e.trim()))||void 0===a?void 0:a.toDate()):null}catch(e){r=null}return null!=r?r:""})),1)[0],d=Ec((0,o.useState)(!1),1)[0],m=sn({v:gt.Full,minActivatedDate:u,testConceptTests:!1,samples:!1,includeTestItemSamples:!0,allTests:!0,includeTestItemTestResult:!1,testResultApprovals:!1,includeItemConcept:!1,worksheetInfo:!1,q:s}),A=m.isLoading,p=m.items,_=m.totalCount,v=m.currentPageSize,f=m.pageSizes,b=m.currentPage,g=m.setCurrentPage,y=m.setPageSize,h=m.setSearchString,C=m.isValidating,E=m.loaded,S=m.setMinActivatedDate,k=m.minActivatedDate,T=m.setMaxActivatedDate,O=m.maxActivatedDate,N=m.setTestConcept,x=m.itemLocation,I=m.setItemLocation,D=m.setTestItemStatuses,R=m.testItemStatuses,B=m.setItemMatch,P=m.itemMatch,q=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){return h(e)}),300)}),[h]),j=[{id:0,header:e("date","Date"),key:"date"},{id:1,header:e("laboratoryRequestNumber","Request Number"),key:"requestNumber"},{id:2,header:e("laboratoryRequestEntity","Entity"),key:"patient"},{id:4,header:e("orderer","Ordered By"),key:"orderer"},{id:5,header:e("urgency","Urgency"),key:"urgency"},{id:6,header:e("#tests","# Tests"),key:"testsCount"},{id:7,header:e("# Done","# Done"),key:"testsDone"},{id:8,header:e("waitTime","Wait Time"),key:"waitTime"},{id:9,header:"",key:"actions"}],F=(0,o.useMemo)((function(){return null==p?void 0:p.map((function(t){var n,a,o,i,s,c,u,d,m,A,p,_,v,f,b,g,y,h=null!==(p=null==t||null===(a=t.tests)||void 0===a||null===(n=a.filter((function(e){return e.status!=vn&&e.completed})))||void 0===n?void 0:n.length)&&void 0!==p?p:0,C=null!==(_=null==t||null===(i=t.tests)||void 0===i||null===(o=i.filter((function(e){return e.status!=vn&&!e.completed&&e.referredOut})))||void 0===o?void 0:o.length)&&void 0!==_?_:0,E=null==t||null===(c=t.tests)||void 0===c||null===(s=c.filter((function(e){return e.status!=vn})))||void 0===s?void 0:s.map((function(e){return l().createElement("li",{className:e.status!=vn&&e.completed?zt["summary-tests-done"]:zt["summary-tests-pending"]},En(e.testName,e.testShortName))}));return{id:null==t?void 0:t.uuid,dateCreated:t.dateCreated,date:l().createElement("span",{className:zt["single-line-display"]},(0,r.formatDate)((0,r.parseDate)(null==t?void 0:t.dateCreated))),patient:l().createElement("div",null,l().createElement("div",null,null!==(v=null==t?void 0:t.referralInExternalRef)&&void 0!==v?v:null==t?void 0:t.patientIdentifier," -"," ",l().createElement(za,{testRequest:t}))),requestNumber:l().createElement("a",{href:w(t.requestNo,Rt(t.dateCreated)),target:"_blank"},t.requestNo),orderer:"".concat(null!==(f=null==t?void 0:t.providerFamilyName)&&void 0!==f?f:""," ").concat(null!==(b=null==t?void 0:t.providerMiddleName)&&void 0!==b?b:""," ").concat(null!==(g=null==t?void 0:t.providerGivenName)&&void 0!==g?g:""),urgency:null==t?void 0:t.urgency,testsCount:l().createElement(l().Fragment,null,l().createElement("strong",null,null!==(y=null==t||null===(d=t.tests)||void 0===d||null===(u=d.filter((function(e){return e.status!=vn})))||void 0===u?void 0:u.length)&&void 0!==y?y:0),E?l().createElement("ol",{className:zt["summary-tests-list"]},E):""),testsDone:C>0?"".concat(h," (").concat(C," ").concat(e("laboratorySummaryReferredOut","Ref-Out"),")"):h,waitTime:l().createElement(gc,{testRequest:t,translator:e}),actions:l().createElement(ja,{testRequestUuid:t.uuid,enableResults:(null==t||null===(m=t.tests)||void 0===m?void 0:m.some((function(e){return e.completed})))||(null==t||null===(A=t.tests)||void 0===A?void 0:A.some((function(e){return e.testResult})))})}}))}),[d,p]);return A&&!E?l().createElement(ke.m2V,{role:"progressbar"}):l().createElement(l().Fragment,null,(A||C)&&E&&l().createElement(ke.cHM,{size:"small",type:"indented",status:"status",label:"",hideLabel:!0,className:zt.progressBarThin}),l().createElement("div",{className:"".concat(zt["labmgmt-filters"])},l().createElement(ke.c9z,{placeHolderText:e("laboratoryFilterWorksheets","Filter Requests..."),value:s,onChange:function(e){return t=e.target.value,c(t),void q(t);var t},labelText:"",size:"xl",className:zt.filterSearch}),l().createElement(Br,{maxActivatedDate:O,minActivatedDate:k,diagnosticCenterUuid:x,onMaxActivatedDateChanged:T,onMinActivatedDateChanged:S,onDiagnosticCenterChanged:I,onTestChanged:N,enableFocus:!1,enableTestRequestItemStatus:!0,testRequestItemStatuses:R,onTestRequestItemStatusesChanged:D,enableItemMatch:!0,onItemMatchChanged:B,itemMatch:P,datePickerType:"range"})),l().createElement(ke.iSL,{rows:F,headers:j,isSortable:!0,useZebraStyles:!0,overflowMenuOnHover:!0,render:function(t){var n,a=t.rows,o=t.headers,i=t.getHeaderProps,s=t.getTableProps,c=t.getRowProps;return l().createElement(ke._tR,{className:zt.tableContainer},l().createElement(ke.oJK,wc(Cc({},s()),{className:zt.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,o.map((function(e){var t,n;return l().createElement(ke.IEe,wc(Cc({},i({header:e,isSortable:e.isSortable})),{className:r.isDesktop?zt.desktopHeader:zt.tabletHeader,key:"".concat(e.key)}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})))),l().createElement(ke.qqV,null,a.map((function(e){return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.CGA,wc(Cc({className:r.isDesktop?zt.desktopRow:zt.tabletRow},c({row:e})),{key:e.id}),e.cells.map((function(e){return l().createElement(ke.y6P,{key:e.id},e.value)}))))})))),0===(null!==(n=null==a?void 0:a.length)&&void 0!==n?n:0)?l().createElement("div",{className:zt.tileContainer},l().createElement(ke.g$J,{className:zt.tile},l().createElement("div",{className:zt.tileContent},l().createElement("p",{className:zt.content},e("noPendingItemsToDisplay","No pending items to display"))))):null)}}),l().createElement(ke.eML,{page:b,pageSize:v,pageSizes:f,totalItems:null!=_?_:0,onChange:function(e){var t=e.page,n=e.pageSize;g(t),y(n)},className:zt.paginationOverride}))};function kc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){kc(e,t,n[t])}))}return e}function Oc(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Nc=function(){var e=(0,He.useTranslation)().t,t=(0,i.useLocation)().pathname.startsWith(h);return l().createElement(l().Fragment,null,l().createElement("div",{className:zt.navigationButtons},l().createElement(ke.qaq,{size:"sm",className:zt.navigationButton,iconDescription:"Requests",hasIcon:!0,renderIcon:function(e){return l().createElement(Ya.w$,Oc(Tc({},e),{size:16}))},kind:t?"ghost":"secondary",onClick:function(){return(0,r.navigate)({to:y})}},e("laboratoryAllTestsRequests","Requests")),l().createElement(ke.qaq,{size:"sm",className:zt.navigationButton,iconDescription:"Summary",hasIcon:!0,renderIcon:function(e){return l().createElement(Qa.iq,Oc(Tc({},e),{size:16}))},kind:t?"secondary":"ghost",onClick:function(){return(0,r.navigate)({to:C})},hreft:C},e("laboratorySummaryRequests","Request Summary"))),l().createElement(i.Routes,null,l().createElement(i.Route,{path:"summary",element:l().createElement(Sc,null)}),l().createElement(i.Route,{path:"/",element:l().createElement(bc,null)}),l().createElement(i.Route,{key:"default-route",path:"*",element:l().createElement(i.Navigate,{to:b})})))};function xc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ic(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ic(e,t,n[t])}))}return e}function Rc(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Bc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Pc=function(){var e=(0,He.useTranslation)().t,t=Bc((0,o.useState)(""),2),n=t[0],a=t[1],i=(0,r.useSession)(),s=Bc((0,o.useState)(!1),2),c=s[0],u=s[1],d=Bc((0,o.useState)(!1),2),m=d[0],A=d[1],p=Bc((0,o.useState)(!1),2),_=p[0],v=p[1],f=At().currentOrdersDate,b=Bc((0,o.useState)({}),2),g=b[0],y=b[1],h=Bc((0,o.useState)({}),2),C=h[0];h[1],(0,o.useEffect)((function(){u((null==i?void 0:i.user)&&(0,r.userHasAccess)(Kt,i.user)),A((null==i?void 0:i.user)&&(0,r.userHasAccess)(Qt,i.user)),v((null==i?void 0:i.user)&&(0,r.userHasAccess)(Vt,i.user))}),[i.user]);var w=sn({v:gt.Full,itemStatus:pn,sampleStatus:ir,testItemSampleCriteria:"OR",minActivatedDate:f,testConceptTests:!1,samples:!0,includeTestItemSamples:!0,allTests:!0}),E=w.isLoading,S=w.items,k=w.totalCount,T=w.currentPageSize,O=w.pageSizes,N=w.currentPage,x=w.setCurrentPage,I=w.setPageSize,D=w.setSearchString,R=w.isValidating,B=w.loaded,P=w.setMinActivatedDate,q=w.minActivatedDate,j=w.setMaxActivatedDate,F=w.maxActivatedDate,L=(w.testConcept,w.setTestConcept),U=w.itemLocation,z=w.setItemLocation,M=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){return D(e)}),300)}),[D]);(0,o.useEffect)((function(){q!==f&&P(f)}),[f,q,P]);var G=[{id:0,header:e("date","Date"),key:"date"},{id:1,header:e("laboratoryRequestNumber","Request Number"),key:"requestNumber"},{id:2,header:e("laboratoryRequestEntity","Entity"),key:"patient"},{id:3,header:e("Identification","Identification"),key:"identifier"},{id:4,header:e("orderer","Ordered By"),key:"orderer"},{id:5,header:e("urgency","Urgency"),key:"urgency"},{id:6,header:"detailsTests",key:"detailsTests"},{id:7,header:"detailsTests",key:"detailsInfo"},{id:8,header:"detailsSamples",key:"detailsSamples"}],H=[{id:0,header:e("labSection","Lab Section"),key:"toLocationName"},{id:1,header:e("laboratoryTest","Test"),key:"testName"},{id:2,header:e("order#","Order#"),key:"orderNumber"},{id:3,header:e("laboratoryTestSamplesCollected","Samples"),key:"samples"},{id:4,header:e("status","Status"),key:"status"},{id:5,header:"",key:"actions"}],J=(0,o.useMemo)((function(){return null==S?void 0:S.map((function(t,n){var a,o,i,s,c,u,d;return{id:null==t?void 0:t.uuid,dateCreated:t.dateCreated,date:l().createElement("span",{className:zt["single-line-display"]},(0,r.formatDate)((0,r.parseDate)(null==t?void 0:t.dateCreated))),patient:l().createElement(za,{testRequest:t}),identifier:null!==(o=null==t?void 0:t.referralInExternalRef)&&void 0!==o?o:null==t?void 0:t.patientIdentifier,requestNumber:null==t?void 0:t.requestNo,orderer:"".concat(null!==(i=null==t?void 0:t.providerFamilyName)&&void 0!==i?i:""," ").concat(null!==(s=null==t?void 0:t.providerMiddleName)&&void 0!==s?s:""," ").concat(null!==(c=null==t?void 0:t.providerGivenName)&&void 0!==c?c:""),urgency:null==t?void 0:t.urgency,detailsSamples:null!==(u=null==t?void 0:t.samples)&&void 0!==u?u:[],detailsInfo:l().createElement(Fr,{testRequest:t}),detailsTests:null!==(d=null==t||null===(a=t.tests)||void 0===a?void 0:a.sort((function(e,t){var n,r,a,o;return(null===(n=e.toLocationName)||void 0===n?void 0:n.localeCompare(t.toLocationName,void 0,{ignorePunctuation:!0}))||(null===(r=null!==(a=e.testName)&&void 0!==a?a:e.testShortName)||void 0===r?void 0:r.localeCompare(null!==(o=t.testName)&&void 0!==o?o:t.testShortName,void 0,{ignorePunctuation:!0}))})).map((function(n){var r,a;return{id:n.uuid,toLocationName:n.toLocationName,testName:En(n.testName,n.testShortName),orderNumber:n.orderNumber,atLocationName:n.atLocationName,samples:l().createElement("div",null,null===(r=n.samples)||void 0===r?void 0:r.map((function(e){return l().createElement(ke.EDW,{type:"green"},l().createElement(Ao,{showPrint:!0,reference:e.accessionNumber,className:zt.testSampleReference,sampleUuid:e.uuid,sampleType:e.sampleTypeName,entityName:Ua(t)}))}))),status:n.status==vn||n.requestApprovalRemarks?l().createElement("div",null,e(n.status),l().createElement("div",{className:zt.approvalRemarks},n.requestApprovalRemarks)):e(n.status),actions:_&&(null==n||null===(a=n.permission)||void 0===a?void 0:a.canReject)?l().createElement(zo,{testRequest:t,testRequestItem:n}):""}})))&&void 0!==d?d:[]}}))}),[_,S]);return E&&!B?l().createElement(ke.m2V,{role:"progressbar"}):l().createElement(l().Fragment,null,(E||R)&&B&&l().createElement(ke.cHM,{size:"small",type:"indented",status:"status",label:"",hideLabel:!0,className:zt.progressBarThin}),l().createElement(ke.iSL,{rows:J,headers:G,isSortable:!0,useZebraStyles:!0,overflowMenuOnHover:!0,render:function(t){var o,i=t.rows,s=t.headers,u=t.getHeaderProps,d=t.getTableProps,A=t.getRowProps,p=t.getToolbarProps,_=t.expandRow;return l().createElement(ke._tR,{className:zt.tableContainer},l().createElement(ke.MBp,Rc(Dc({},p()),{style:{position:"static",margin:0}}),l().createElement(ke.aGn,{style:{display:"flex",alignItems:"center"}},l().createElement(ke.OWJ,{persistent:!0,value:n,onChange:function(e){return t=e.target.value,a(t),void M(t);var t}}),l().createElement(Br,{maxActivatedDate:F,minActivatedDate:q,diagnosticCenterUuid:U,onMaxActivatedDateChanged:j,onDiagnosticCenterChanged:z,onTestChanged:L}))),l().createElement(ke.oJK,Rc(Dc({},d()),{className:zt.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,l().createElement(ke.ugy,null),s.map((function(e){var t,n;return!e.key.startsWith("details")&&l().createElement(ke.IEe,Rc(Dc({},u({header:e,isSortable:e.isSortable})),{className:r.isDesktop?zt.desktopHeader:zt.tabletHeader,key:"".concat(e.key)}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})),l().createElement(ke.IEe,null))),l().createElement(ke.qqV,null,i.map((function(e,t){return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.cjO,Rc(Dc({className:r.isDesktop?zt.desktopRow:zt.tabletRow},A({row:e})),{key:e.id,isExpanded:Boolean(C[e.id]),onExpand:function(t){return n=e.id,C[n]=Boolean(!C[n]),void _(n);var n}}),e.cells.map((function(e){var t;return!(null==e||null===(t=e.info)||void 0===t?void 0:t.header.startsWith("details"))&&l().createElement(ke.y6P,{key:e.id},e.value)}))),C[e.id]&&l().createElement(ke.Ocq,{className:zt.tableExpandedRow,colSpan:s.length+1},l().createElement("section",{className:zt.rowExpandedContent},l().createElement(On,{tests:e.cells[e.cells.length-3].value,tableHeaders:H,canApproveTestRequests:c,onSelectionChange:y,selectedItems:g,testRequestId:e.id}),l().createElement(l().Fragment,null,e.cells[e.cells.length-2].value),l().createElement("div",{style:{width:"100%"}}),l().createElement(Lo,{testRequest:S.find((function(t){return t.uuid==e.id})),canEditSamples:c,canDoSampleCollecton:m,testRequestId:e.id,samples:e.cells[e.cells.length-1].value,expandRow:_}))))})))),0===(null!==(o=null==i?void 0:i.length)&&void 0!==o?o:0)?l().createElement("div",{className:zt.tileContainer},l().createElement(ke.g$J,{className:zt.tile},l().createElement("div",{className:zt.tileContent},l().createElement("p",{className:zt.content},e("noPendingRequestsForSamplesToDisplay","No pending requests for sample collection to display"))))):null)}}),l().createElement(ke.eML,{page:N,pageSize:T,pageSizes:O,totalItems:null!=k?k:0,onChange:function(e){var t=e.page,n=e.pageSize;x(t),I(n)},className:zt.paginationOverride}))};function qc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){jc(e,t,n[t])}))}return e}function Lc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Uc(e,t,n[t])}))}return e}function Mc(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Gc=function(e){var t=e.sampleUuid,n=(0,He.useTranslation)().t,a=function(e){var t,n,a=Lc((0,o.useState)((null!==(t=null==e?void 0:e.startIndex)&&void 0!==t?t:0)+1),2),l=a[0],i=a[1],s=Lc((0,o.useState)(null!==(n=null==e?void 0:e.limit)&&void 0!==n?n:10),2),c=s[0],u=s[1],d=Lc((0,o.useState)(null==e?void 0:e.q),2),m=d[0],A=d[1],p=Lc((0,o.useState)(null==e?void 0:e.itemLocation),2),_=p[0],v=p[1],f=Lc((0,o.useState)(null==e?void 0:e.testConcept),2),b=f[0],g=f[1],y=Lc((0,o.useState)(!1),2),h=y[0],C=y[1],w=Lc((0,o.useState)(null==e?void 0:e.itemStatus),2),E=w[0],S=w[1],k=Lc((0,o.useState)(null==e?void 0:e.testResultApprovals),2),T=k[0],O=k[1],N=Lc((0,o.useState)(null==e?void 0:e.worksheetInfo),2),x=N[0],I=N[1],D=Lc((0,o.useState)(null==e?void 0:e.itemMatch),2),R=D[0],B=D[1],P=Lc((0,o.useState)((function(){var t;return Fc({},{startIndex:l-1,v:gt.Default,limit:10,q:null==e?void 0:e.q,totalCount:null===(t=null==e?void 0:e.totalCount)||void 0===t||t,sort:"-id"},null!=e?e:{})})),2),q=P[0],j=P[1],F=function(e){var t="".concat(K).concat(Ct(e)),n=(0,Et.cp)(t,St),r=n.data,a=n.error,o=n.isLoading,l=n.isValidating;return{items:(null==r?void 0:r.data)||{},isLoading:o,isError:a,isValidating:l}}(q),L=F.items,U=F.isLoading,z=F.isError,M=F.isValidating,G=(0,r.usePagination)(L.results,c);return(0,o.useEffect)((function(){j((function(e){return Fc({},e,{startIndex:l-1,limit:c,q:m,totalCount:e.totalCount,v:e.v,itemLocation:_,testConcept:b,itemStatus:E,testResultApprovals:T,worksheetInfo:x,itemMatch:R})}))}),[m,l,c,_,b,E,T,x,R]),(0,o.useEffect)((function(){!h&&U&&C(!0)}),[U,h]),{items:G.results,pagination:G,totalCount:L.totalCount,currentPageSize:c,currentPage:l,setCurrentPage:i,setPageSize:u,pageSizes:[10,20,30,40,50],isLoading:U,isValidating:M,isError:z,setSearchString:A,loaded:h,itemLocation:_,setItemLocation:v,testConcept:b,setTestConcept:g,testItemStatuses:E,setTestItemStatuses:S,TestRequestItemFilter:q,setTestRequestItemFilter:j,testResultApprovals:T,setTestResultApprovals:O,worksheetInfo:x,setWorksheetInfo:I,itemMatch:R,setItemMatch:B}}({v:gt.Default,sample:t,worksheetInfo:!0,limit:100}),i=a.items,s=a.isLoading,c=a.loaded,u=[{id:0,header:n("labSection","Lab Section"),key:"toLocationName"},{id:1,header:n("laboratoryTest","Test"),key:"testName"},{id:2,header:n("order#","Order#"),key:"orderNumber"},{id:3,header:n("laboratoryRequestNumber","Request Number"),key:"requestNumber"},{id:4,header:n("status","Status"),key:"status"},{id:6,header:"",key:"actions"}],d=(0,o.useMemo)((function(){return null==i?void 0:i.map((function(e){return{id:e.uuid,date:l().createElement("span",{className:zt["single-line-display"]},(0,r.formatDate)((0,r.parseDate)(null==e?void 0:e.dateCreated))),requestNumber:l().createElement("a",{href:w(e.testRequestNo,Rt(e.dateCreated)),target:"_blank"},e.testRequestNo),toLocationName:e.toLocationName,testName:En(e.testName,e.testShortName),orderNumber:e.orderNumber,atLocationName:e.atLocationName,status:l().createElement(l().Fragment,null,n(gn(e,n)),(null==e?void 0:e.worksheetNo)&&l().createElement("div",null,l().createElement("a",{href:M(null==e?void 0:e.worksheetUuid),onClick:function(t){t.preventDefault(),(0,r.navigate)({to:M(null==e?void 0:e.worksheetUuid)})}},null==e?void 0:e.worksheetNo)),(e.status==vn||e.requestApprovalRemarks)&&l().createElement("div",null,l().createElement("div",{className:zt.approvalRemarks},e.requestApprovalRemarks)))}}))}),[i]);return s&&!c?l().createElement(ke.m2V,{role:"progressbar"}):l().createElement(l().Fragment,null,l().createElement(ke.iSL,{rows:d,headers:u,isSortable:!0,useZebraStyles:!0,overflowMenuOnHover:!0,render:function(e){var t,a=e.rows,o=e.headers,i=e.getHeaderProps,s=e.getTableProps,c=e.getRowProps;return l().createElement(ke._tR,{className:zt.tableContainer},l().createElement(ke.oJK,Mc(zc({},s()),{className:zt.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,o.map((function(e){var t,n;return"details"!==e.key&&l().createElement(ke.IEe,Mc(zc({},i({header:e,isSortable:e.isSortable})),{className:r.isDesktop?zt.desktopHeader:zt.tabletHeader,key:"".concat(e.key)}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})))),l().createElement(ke.qqV,null,a.map((function(e){return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.CGA,Mc(zc({className:"".concat(r.isDesktop?zt.desktopRow:zt.tabletRow)},c({row:e})),{key:e.id,id:"tr-test-".concat(e.id)}),e.cells.map((function(e){var t;return"details"!==(null==e||null===(t=e.info)||void 0===t?void 0:t.header)&&l().createElement(ke.y6P,{key:e.id},e.value)}))))})))),0===(null!==(t=null==a?void 0:a.length)&&void 0!==t?t:0)?l().createElement("div",{className:zt.tileContainer},l().createElement(ke.g$J,{className:zt.tile},l().createElement("div",{className:zt.tileContent},l().createElement("p",{className:zt.content},n("noLaboratoryTestsToDisplay","No tests to display"))))):null)}}))};function Hc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Jc=function(e){var t,n,a,o=rr().laboratoryConfig.laboratoryLocationTag,i=(0,r.useLocations)(o);return i?l().createElement(ke.M1e,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Hc(e,t,n[t])}))}return e}({},e),a=null!=(a={type:"text",labelText:"",onChange:function(t){var n;return null==e||null===(n=e.onChange)||void 0===n?void 0:n.call(e,t.target.value)},value:null!==(t=null==e?void 0:e.value)&&void 0!==t?t:""})?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(a)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))})),n),l().createElement(ke.gV5,{text:e.translator("laboratoryAllLabSections","All Lab Sections"),value:""}),i&&i.map((function(e){return l().createElement(ke.gV5,{title:e.display,key:e.uuid,text:e.display,value:e.uuid},e.display)}))):l().createElement(ke.Qrc,null)};function Wc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vc(e){return function(e){if(Array.isArray(e))return Wc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Wc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wc(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Yc=function(e){var t,n,r,a,i,s,c=Pi(),u=c.items,d=u.answers,m=u.setMembers,A=c.getConcept,p=c.isLoading;if((0,o.useEffect)((function(){!e.concept&&e.conceptUuid&&A(e.conceptUuid)}),[]),p||!e.concept&&e.conceptUuid&&!d&&!m||!e.concept&&!e.conceptUuid)return l().createElement(ke.Qrc,null);var _,v=(null!==(s=e.concept?(null===(t=e.concept)||void 0===t?void 0:t.answers)&&(null===(r=e.concept)||void 0===r||null===(n=r.answers)||void 0===n?void 0:n.length)>0?null===(a=e.concept)||void 0===a?void 0:a.answers:null===(i=e.concept)||void 0===i?void 0:i.setMembers:d&&(null==d?void 0:d.length)>0?d:m)&&void 0!==s?s:[]).filter((function(t){return!e.excludeOptions||!e.excludeOptions.includes(t.uuid)}));return l().createElement(ke.Q1m,{style:e.style,className:e.className,titleText:e.title,name:e.name,id:"".concat(e.name,"-").concat(e.idSuffix),direction:e.popUpDrirection,size:"md",items:e.selectedId?Vc((null==v?void 0:v.some((function(t){return t.uuid===e.selectedId})))?[]:[{uuid:e.selectedId,display:e.selectedText}]).concat(Vc(null!=v?v:[])):v||[],onChange:function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,null==t?void 0:t.selectedItem)},initialSelectedItem:e.selectedId?null!==(_=null==v?void 0:v.find((function(t){return t.uuid===e.selectedId})))&&void 0!==_?_:{uuid:e.selectedId,display:e.selectedText}:null,itemToString:function(e){return e&&(null==e?void 0:e.display)?"".concat(null==e?void 0:e.display):""},shouldFilterItem:function(){return!0},placeholder:e.placeholder,invalid:e.invalid,invalidText:e.invalidText})};var Qc=n(7080),Kc={};Kc.styleTagTransform=Ue(),Kc.setAttributes=qe(),Kc.insert=Be().bind(null,"head"),Kc.domAPI=De(),Kc.insertStyleElement=Fe(),xe()(Qc.c,Kc);const Zc=Qc.c&&Qc.c.locals?Qc.c.locals:void 0;var Xc=Gl.z.object({actionDate:Gl.z.date(),storageUnitRequired:Gl.z.boolean().optional(),storageUuid:Gl.z.string().nullable().optional(),storageUnitUuid:Gl.z.string().nullable().optional(),thawCycles:Gl.z.coerce.number().int("Integer").optional().nullish(),specifyVolume:Gl.z.boolean(),volume:Gl.z.coerce.number().optional().nullish(),volumeUnitUuid:Gl.z.string().optional().nullish(),responsiblePersonUuid:Gl.z.string().optional().nullish(),responsiblePersonOther:Gl.z.string().max(150).optional().nullish(),remarksRequired:Gl.z.boolean().optional(),remarks:Gl.z.string().max(500).optional()}).refine((function(e){var t=e.storageUnitRequired,n=e.storageUuid;return!Boolean(t)||Boolean(n&&n.trim().length>0)}),{message:"Required",path:["storageUuid"]}).refine((function(e){var t=e.storageUnitRequired,n=e.storageUnitUuid;return!Boolean(t)||Boolean(n&&n.trim().length>0)}),{message:"Required",path:["storageUnitUuid"]}).refine((function(e){var t=e.volume,n=e.volumeUnitUuid;return Boolean(t)||Boolean(!n)}),{message:"Required",path:["volume"]}).refine((function(e){var t=e.volume,n=e.volumeUnitUuid;return Boolean(n)||Boolean(!t)}),{message:"Required",path:["volumeUnitUuid"]}).refine((function(e){var t=e.responsiblePersonUuid;return Boolean(t)}),{message:"Required",path:["responsiblePersonUuid"]}).refine((function(e){var t=e.responsiblePersonUuid,n=e.responsiblePersonOther;return t!==bi.uuid||Boolean(n)}),{message:"Required",path:["responsiblePersonOther"]}).refine((function(e){var t=e.remarksRequired,n=e.remarks;return!Boolean(t)||Boolean(n&&n.trim().length>0)}),{message:"Required",path:["remarks"]});function $c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eu(e){return function(e){if(Array.isArray(e))return $c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tu(e,t){if(e){if("string"==typeof e)return $c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$c(e,t):void 0}}const nu=function(e){var t,n,r=(t=(0,o.useState)(""),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||tu(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],i=r[1],s=fr({limit:10,v:gt.Default,active:e.active}),c=s.items.results,u=s.isValidating,d=s.loaded,m=s.getStorages;(0,o.useEffect)((function(){m({})}),[]);var A=(0,o.useMemo)((function(){return(0,Gt.c)((function(t){m({q:t,startIndex:0,limit:10,active:e.active})}),300)}),[m,e.active]);return u&&!d?l().createElement(ke.Qrc,null):l().createElement(Wo.Mc,{name:e.controllerName,control:e.control,render:function(t){var n,r=t.field.onChange;return l().createElement(ke.Q1m,{style:e.style,className:e.className,titleText:e.title,hideLabel:e.hideLabel,direction:e.direction,name:e.name,size:"md",items:e.selectedId?eu((null==c?void 0:c.some((function(t){return t.uuid===e.selectedId})))?[]:[{uuid:e.selectedId,display:e.selectedText}]).concat(eu(null!=c?c:[])):c||[],onChange:function(t){var n,a;r(null==t||null===(n=t.selectedItem)||void 0===n?void 0:n.uuid),null===(a=e.onChange)||void 0===a||a.call(e,null==t?void 0:t.selectedItem)},initialSelectedItem:e.selectedId?null!==(n=null==c?void 0:c.find((function(t){return t.uuid===e.selectedId})))&&void 0!==n?n:{uuid:e.selectedId,display:e.selectedText}:null,itemToString:function(e){return(null==e?void 0:e.name)?"".concat(e.name).concat(e.atLocationName?" (".concat(e.atLocationName,")"):""):""},shouldFilterItem:function(){return!0},placeholder:e.placeholder,onInputChange:function(e){return i(t=e),void A(t);var t},inputValue:a,invalid:e.invalid,invalidText:e.invalidText})}})};function ru(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function au(e){return function(e){if(Array.isArray(e))return ru(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ou(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ou(e,t){if(e){if("string"==typeof e)return ru(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ru(e,t):void 0}}const lu=function(e){var t,n,r=(t=(0,o.useState)(""),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||ou(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],i=r[1],s=function(e){var t=vr((0,o.useState)(!0),2),n=t[0],r=t[1],a=vr((0,o.useState)((function(){return e})),2),l=a[0],i=a[1],s=vr((0,o.useState)(!1),2),c=s[0],u=s[1],d=(0,wt.c)("".concat(Ce),(function(){return St("".concat(Ce).concat(Ct(l)))})),m=d.data,A=d.error,p=d.trigger,_=d.isMutating,v=(0,o.useCallback)((function(e){i(_r({},null!=l?l:{},null!=e?e:{})),r(!1)}),[l]);return(0,o.useEffect)((function(){!c&&_&&u(!0)}),[_,c]),(0,o.useEffect)((function(){n||p()}),[l,n,p]),{getStorageUnits:v,items:(null==m?void 0:m.data)||{},isLoading:!1,isError:A,isValidating:!n&&_,loaded:c}}({limit:10,v:gt.Default,assigned:e.assigned,active:e.active,storage:e.storageUuid}),c=s.items.results,u=s.isValidating,d=s.loaded,m=s.getStorageUnits,A=(0,o.useCallback)((function(t){e.storageUuid&&m({q:t,startIndex:0,limit:10,storage:e.storageUuid,active:e.active,assigned:e.assigned})}),[m,e.active,e.assigned,e.storageUuid]);(0,o.useEffect)((function(){A(null)}),[]);var p=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){A(e)}),300)}),[A]);return u&&!d?l().createElement(ke.Qrc,null):l().createElement(Wo.Mc,{name:e.controllerName,control:e.control,render:function(t){var n,r,o=t.field.onChange;return l().createElement(ke.Q1m,{key:null!==(n=e.storageUuid)&&void 0!==n?n:"storageUnits",style:e.style,titleText:e.title,direction:e.direction,hideLabel:e.hideLabel,name:e.name,size:"md",items:e.selectedId?au((null==c?void 0:c.some((function(t){return t.uuid===e.selectedId})))?[]:[{uuid:e.selectedId,display:e.selectedText}]).concat(au(null!=c?c:[])):c||[],onChange:function(t){var n,r;o(null==t||null===(n=t.selectedItem)||void 0===n?void 0:n.uuid),null===(r=e.onChange)||void 0===r||r.call(e,null==t?void 0:t.selectedItem)},initialSelectedItem:e.selectedId?null!==(r=null==c?void 0:c.find((function(t){return t.uuid===e.selectedId})))&&void 0!==r?r:{uuid:e.selectedId,display:e.selectedText}:null,itemToString:function(e){var t;return null!==(t=null==e?void 0:e.unitName)&&void 0!==t?t:""},shouldFilterItem:function(){return!0},placeholder:e.placeholder,onInputChange:function(e){return i(t=e),void p(t);var t},inputValue:a,invalid:e.invalid,invalidText:e.invalidText})}})};var iu=n(5564),su={};su.styleTagTransform=Ue(),su.setAttributes=qe(),su.insert=Be().bind(null,"head"),su.domAPI=De(),su.insertStyleElement=Fe(),xe()(iu.c,su);const cu=iu.c&&iu.c.locals?iu.c.locals:void 0;function uu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const du=function(e){return l().createElement(Wo.Mc,{name:e.controllerName,control:e.control,render:function(t){var n,r,a=t.field,o=a.onChange,i=a.value,s=a.ref;return l().createElement(ke.WC6,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){uu(e,t,n[t])}))}return e}({},e),r=null!=(r={label:e.labelText,id:e.name,className:cu.smallPlaceholderText,ref:s,value:i,defaultValue:e.defaultValue,allowEmpty:e.allowEmpty,onChange:function(t){o(t.target.value),e.onChange&&e.onChange(t)}})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))})),n))}})};function mu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Au(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function pu(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){Au(o,r,a,l,i,"next",e)}function i(e){Au(o,r,a,l,i,"throw",e)}l(void 0)}))}}function _u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vu(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}const fu=function(e){e.actionTitle,e.approvalDescription;var t,n,a,i,s,c,u,d,m,A,p,_,v,f,b,g=e.closeModal,y=e.remarksTextLabel,h=e.actionButtonLabel,C=e.remarksRequired,w=e.onSaveCallback,E=e.successMessageTitle,S=e.successMessageBody,k=e.kind,T=e.storageUnitRequired,O=e.sample,N=e.readonlyStorage,x=e.multiSamples,I=e.sampleInformation,D=e.defaultThawCycles,R=(0,He.useTranslation)().t,B=(f=(0,o.useState)(!1),b=2,function(e){if(Array.isArray(e))return e}(f)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(f,b)||function(e,t){if(e){if("string"==typeof e)return mu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mu(e,t):void 0}}(f,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),P=B[0],q=B[1],j=kt(),F=(0,r.useSession)(),L=rr().laboratoryConfig.laboratoryVolumeMeasurementTypeConcept,U=(0,Wo.aS)({defaultValues:{remarksRequired:null!=C&&C,remarks:"",storageUnitRequired:null!=T&&T,specifyVolume:!1,responsiblePersonUuid:null==F||null===(t=F.user)||void 0===t?void 0:t.uuid,actionDate:kt(),volume:null==O?void 0:O.volume,volumeUnitUuid:null==O?void 0:O.volumeUnitUuid,thawCycles:null!=D?D:null},mode:"all",resolver:(0,Ml.C)(Xc)}),z=U.handleSubmit,M=U.control,G=U.formState,H=U.setFocus,J=U.watch,W=U.setValue,V=G.errors,Y=function(){var e=pu((function(e){var t,n;return vu(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),t={action:qn,actionDate:Rt(e.actionDate),remarks:e.remarks,parameters:{thawCycles:0!=e.thawCycles?e.thawCycles:void 0,volume:0!=e.volume?e.volume:void 0,volumeUnitUuid:e.volumeUnitUuid,responsiblePersonUuid:e.responsiblePersonUuid==bi.uuid?null:e.responsiblePersonUuid,responsiblePersonOther:e.responsiblePersonOther}},T&&(t.parameters=(o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_u(e,t,n[t])}))}return e}({},t.parameters),l=null!=(l={storageUnitUuid:e.storageUnitUuid})?l:{},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(l)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(l)).forEach((function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(l,e))})),o)),q(!0),[4,w(t)];case 1:return a.sent(),(0,r.showSnackbar)({isLowContrast:!0,title:E,kind:"success",subtitle:S}),g(!0),[3,3];case 2:return n=a.sent(),q(!1),(0,r.showNotification)({title:R("laboratoryTestRequestApproveActionError","Error performing action"),kind:"error",critical:!0,description:Yr(n)}),[3,3];case 3:return[2]}var o,l}))}));return function(t){return e.apply(this,arguments)}}(),Q=J("responsiblePersonUuid"),K=J("storageUuid");(0,o.useEffect)((function(){H("remarks")}),[]);var Z,X,$,ee,te,ne,re=function(){var e=pu((function(e){return vu(this,(function(e){return(0,r.showSnackbar)({isLowContrast:!0,title:R("laboratoryLabRequestSubmitError","Error saving lab request"),kind:"error",subtitle:"Check and complete the required fields",autoClose:!0}),[2]}))}));return function(t){return e.apply(this,arguments)}}();return l().createElement("div",{className:"elevate-above-grid"},l().createElement(ke.QFz,null,l().createElement(ke.aUI,null,l().createElement("div",{className:Zc.modalBody},l().createElement("section",{className:Zc.section},l().createElement("div",{className:Zc.sectionRow},I&&l().createElement("section",{className:Zc.approvalItems},I),!x&&l().createElement(l().Fragment,null,l().createElement("div",null,l().createElement("div",null,O.sampleTypeName),l().createElement("h6",null,O.referralFromFacilityName?"".concat(O.referralInExternalRef?O.referralInExternalRef+"-":"").concat(O.referralFromFacilityName):"".concat(O.patientIdentifier,"-").concat(null!==(Z=O.patientFamilyName)&&void 0!==Z?Z:""," \n          ").concat(null!==(X=O.patientGivenName)&&void 0!==X?X:""," \n          ").concat(null!==($=O.patientMiddleName)&&void 0!==$?$:""))),l().createElement("div",{style:{display:"flex",flexDirection:"row",columnGap:"0.5rem"}},l().createElement(ke.EDW,{type:"green"},l().createElement(Ao,{showPrint:!0,reference:O.accessionNumber,className:Zc.testSampleReference,sampleUuid:O.uuid,sampleType:O.sampleTypeName,entityName:Fa(O)})),O.providedRef&&l().createElement(ke.EDW,{type:"teal"},l().createElement(Ao,{showPrint:!0,reference:O.providedRef,className:Zc.testSampleReference,sampleUuid:O.uuid,sampleType:O.sampleTypeName,entityName:Fa(O)})),O.externalRef&&l().createElement(ke.EDW,{type:"gray"},l().createElement(Ao,{showPrint:!0,reference:O.externalRef,className:Zc.testSampleReference,sampleUuid:O.uuid,sampleType:O.sampleTypeName,entityName:Fa(O)}))))),l().createElement("div",{className:Zc.sectionRow},l().createElement(Wo.Mc,{control:M,name:"actionDate",render:function(e){var t,n=e.field,r=n.onChange,a=n.value;return l().createElement(ke.I4g,{datePickerType:"single",maxDate:Dt(j),locale:"en",dateFormat:Tt,onChange:function(e){r(e[0])},value:a},l().createElement(ke.Mjs,{invalid:!!V.actionDate,invalidText:V.actionDate&&(null==V||null===(t=V.actionDate)||void 0===t?void 0:t.message),id:"actionDate",name:"actionDate",placeholder:Ot,labelText:R("date","Date"),value:Dt(a),defaultValue:a}))}})),!x&&l().createElement(l().Fragment,null,(T||N)&&l().createElement("div",{className:Zc.sectionRow},N&&l().createElement(ke.gf6,{value:O.storageUnitName?"".concat(O.storageName,"/").concat(O.storageUnitName):"",readOnly:!0,labelText:R("laboratoryRepositoryStorage","Storage")}),T&&!N&&l().createElement(l().Fragment,null,l().createElement(nu,{controllerName:"storageUuid",active:!0,name:"storageUuid",control:M,title:R("laboratoryRepositoryStorage","Storage"),placeholder:R("filter","Filter ..."),invalid:!!(null==V?void 0:V.storageUuid),onChange:function(){W("storageUnitUuid",null)},invalidText:null==V||null===(n=V.storageUuid)||void 0===n?void 0:n.message,className:K?Zc.storageSelected:""}),K&&l().createElement(lu,{controllerName:"storageUnitUuid",storageUuid:K,active:!0,assigned:!1,name:"storageUnitUuid",control:M,title:R("laboratoryRepositoryStorageUnit","Storage Unit"),placeholder:R("filter","Filter ..."),invalid:!!(null==V?void 0:V.storageUnitUuid),invalidText:null==V||null===(a=V.storageUnitUuid)||void 0===a?void 0:a.message}))),l().createElement("div",{className:Zc.sectionField},l().createElement("div",{className:Zc.sectionRow},l().createElement(du,{name:"thawCycles",control:M,controllerName:"thawCycles",maxLength:10,size:"md",defaultValue:D,hideSteppers:!0,hideLabel:!1,allowEmpty:!0,labelText:R("laboratoryThawCycles","Thaw Cycles"),pattern:"[0-9]",step:"1",invalid:!!V.thawCycles,placeholder:"e.g. 3",invalidText:V.thawCycles&&(null==V||null===(i=V.thawCycles)||void 0===i?void 0:i.message)}))),l().createElement("div",{className:Zc.sectionField},l().createElement("div",{className:Zc.sectionRow},l().createElement(du,{type:"",name:"volume",control:M,controllerName:"volume",maxLength:10,size:"md",defaultValue:null!==(ee=null==O?void 0:O.volume)&&void 0!==ee?ee:null,hideSteppers:!0,hideLabel:!1,allowEmpty:!0,labelText:R("laboratoryVolume","Volume"),placeholder:"e.g. 30",invalid:!!V.volume,invalidText:V.volume&&(null==V||null===(s=V.volume)||void 0===s?void 0:s.message)}),l().createElement(Fi,{popUpDrirection:"bottom",conceptUuid:L,selectedId:null==O?void 0:O.volumeUnitUuid,selectedText:null==O?void 0:O.volumeUnitName,controllerName:"volumeUnitUuid",name:"volumeUnitUuid",control:M,title:R("laboratoryVolumeUnit","Volume Unit"),onChange:function(e){},placeholder:R("laboratoryVolumeUnitLabel","Unit"),invalid:!!(null==V?void 0:V.volumeUnitUuid),invalidText:null==V||null===(c=V.volumeUnitUuid)||void 0===c?void 0:c.message})))),l().createElement("div",{className:Zc.sectionRow},l().createElement(Ei,{selectedId:null==F||null===(u=F.user)||void 0===u?void 0:u.uuid,selectedText:null!==(ne=null!==(te=null==F||null===(m=F.user)||void 0===m||null===(d=m.person)||void 0===d?void 0:d.display)&&void 0!==te?te:null==F||null===(A=F.user)||void 0===A?void 0:A.display)&&void 0!==ne?ne:"",controllerName:"responsiblePersonUuid",name:"responsiblePersonUuid",control:M,title:R("laboratoryResponsiblePerson","Responsible Person"),placeholder:R("filter","Filter ..."),invalid:!!(null==V?void 0:V.responsiblePersonUuid),invalidText:null==V||null===(p=V.responsiblePersonUuid)||void 0===p?void 0:p.message}),Q&&Q===bi.uuid&&l().createElement("div",{style:{paddingTop:"0.5rem"}},l().createElement(_i,{name:"responsiblePersonOther",control:M,controllerName:"responsiblePersonOther",maxLength:150,placeholder:R("pleaseSpecify","Please Specify"),size:"sm",value:"",labelText:R("laboratoryResponsiblePersonOtherName","Other Name"),invalid:!!(null==V?void 0:V.responsiblePersonOther),invalidText:null==V||null===(_=V.responsiblePersonOther)||void 0===_?void 0:_.message}))),l().createElement("div",{className:Zc.sectionRow},l().createElement(rl,{id:"approvalRequestRemarks",name:"remarks",control:M,controllerName:"remarks",maxLength:500,labelText:y,invalid:!!V.remarks,invalidText:V.remarks&&(null==V||null===(v=V.remarks)||void 0===v?void 0:v.message)}))))),l().createElement(ke._AC,null,l().createElement(ke.qaq,{kind:"secondary",onClick:function(e){return g(!1)}},R("cancel","Cancel")),l().createElement(ke.qaq,{kind:k,onClick:z(Y,re),disabled:P},P?l().createElement(ke.kp8,null):h))))};function bu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){gu(e,t,n[t])}))}return e}function hu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return bu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cu(e){return St("".concat(Z).concat(Ct(e)),{method:"GET",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal})}function wu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Eu(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}const Su=function(e){var t,n,r=e.data,a=e.className,i=(0,He.useTranslation)().t,s=function(e){return e.actionType="ARCHIVE_SAMPLE",e.records=[r.uuid],cn(e)},c=(t=(0,o.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return wu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wu(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],d=c[1],m=function(){zn(te),Qe()},A=function(){var e,t=(e=function(){var e,t,n,a,o;return function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,(function(c){switch(c.label){case 0:e=null,c.label=1;case 1:return c.trys.push([1,3,4,5]),d(!0),[4,Cu({sample:r.uuid,limit:1,v:gt.Default})];case 2:return(null==(a=c.sent())||null===(n=a.data)||void 0===n||null===(t=n.results)||void 0===t?void 0:t.length)>0&&(e=null==a||null===(o=a.data)||void 0===o?void 0:o.results[0].thawCycles),[3,5];case 3:return c.sent(),[3,5];case 4:return d(!1),[7];case 5:return Ye(i("laboratoryArchiveSample","Archive Sample"),l().createElement(fu,{closeModal:m,actionTitle:"",sample:r,storageUnitRequired:!0,remarksRequired:!1,remarksTextLabel:i("laboratoryApproveRemarks","Remarks (optional)"),actionButtonLabel:i("laboratoryArchive","Archive"),onSaveCallback:s,successMessageTitle:"".concat(i("laboratoryArchiveSample","Archive Sample"),": ").concat(null==r?void 0:r.accessionNumber),successMessageBody:i("laboratoryArchiveSampleSuccess","Sample archived successfully"),approvalDescription:"",defaultThawCycles:e})),[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){Eu(o,r,a,l,i,"next",e)}function i(e){Eu(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(){return t.apply(this,arguments)}}();return u?l().createElement(l().Fragment,null,l().createElement(ke.kp8,{iconDescription:"Loading",description:"Loading banner",status:"active"})):l().createElement(ke.qaq,{className:a,kind:"ghost",size:"md",onClick:A,iconDescription:i("laboratoryArchiveSample","Archive Sample")},i("laboratoryArchive","Archive"))};function ku(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tu(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}const Ou=function(e){var t,n,r=e.data,a=e.className,i=(0,He.useTranslation)().t,s=function(e){return e.actionType="CHECK_OUT_SAMPLE",e.records=[r.uuid],cn(e)},c=(t=(0,o.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ku(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ku(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=(c[0],c[1]),d=function(){zn(te),Qe()},m=function(){var e,t=(e=function(){var e,t,n,a,o;return function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,(function(c){switch(c.label){case 0:e=null,c.label=1;case 1:return c.trys.push([1,3,4,5]),u(!0),[4,Cu({sample:r.uuid,limit:1,v:gt.Default})];case 2:return(null==(a=c.sent())||null===(n=a.data)||void 0===n||null===(t=n.results)||void 0===t?void 0:t.length)>0&&(e=null==a||null===(o=a.data)||void 0===o?void 0:o.results[0].thawCycles),[3,5];case 3:return c.sent(),[3,5];case 4:return u(!1),[7];case 5:return Ye("".concat(i("laboratoryCheckOutSample","Check-Out Sample")),l().createElement(fu,{closeModal:d,actionTitle:"".concat(i("laboratoryCheckOutSample","Check-Out Sample"),": ").concat(null==r?void 0:r.accessionNumber),sample:r,storageUnitRequired:!1,remarksRequired:!1,remarksTextLabel:i("laboratoryApproveRemarks","Remarks"),actionButtonLabel:i("laboratoryCheckOut","Check-Out"),onSaveCallback:s,successMessageTitle:"".concat(i("laboratoryCheckOutSample","Check-Out Sample"),": ").concat(null==r?void 0:r.accessionNumber),successMessageBody:i("laboratoryCheckOutSampleSuccess","Sample Checked-Out successfully"),approvalDescription:"",readonlyStorage:!0,defaultThawCycles:e})),[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){Tu(o,r,a,l,i,"next",e)}function i(e){Tu(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(){return t.apply(this,arguments)}}();return l().createElement(ke.qaq,{className:a,kind:"ghost",size:"md",onClick:m,iconDescription:i("laboratoryCheckOutSample","Check-Out Sample")},i("laboratoryCheckOut","Check-Out"))};function Nu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Nu(e,t,n[t])}))}return e}function Iu(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Du=function(e){var t=e.sampleUuid,n=(0,He.useTranslation)().t,a=function(e){var t,n,a=hu((0,o.useState)((null!==(t=null==e?void 0:e.startIndex)&&void 0!==t?t:0)+1),2),l=a[0],i=a[1],s=hu((0,o.useState)(null!==(n=null==e?void 0:e.limit)&&void 0!==n?n:10),2),c=s[0],u=s[1],d=hu((0,o.useState)(null==e?void 0:e.q),2),m=d[0],A=d[1],p=hu((0,o.useState)(!1),2),_=p[0],v=p[1],f=hu((0,o.useState)((function(){var t;return yu({},{startIndex:l-1,v:gt.Default,limit:10,q:null==e?void 0:e.q,totalCount:null===(t=null==e?void 0:e.totalCount)||void 0===t||t,sort:"-id"},null!=e?e:{})})),2),b=f[0],g=f[1],y=function(e){var t="".concat(Z).concat(Ct(e)),n=(0,Et.cp)(t,St),r=n.data,a=n.error,o=n.isLoading,l=n.isValidating;return{items:(null==r?void 0:r.data)||{},isLoading:o,isError:a,isValidating:l}}(b),h=y.items,C=y.isLoading,w=y.isError,E=y.isValidating,S=(0,r.usePagination)(h.results,c);return(0,o.useEffect)((function(){g((function(e){return yu({},e,{startIndex:l-1,limit:c,q:m,totalCount:e.totalCount,v:e.v})}))}),[m,l,c]),(0,o.useEffect)((function(){!_&&C&&v(!0)}),[C,_]),{items:S.results,pagination:S,totalCount:h.totalCount,currentPageSize:c,currentPage:l,setCurrentPage:i,setPageSize:u,pageSizes:[10,20,30,40,50],isLoading:C,isValidating:E,isError:w,setSearchString:A,loaded:_,SampleActivityFilter:b,setSampleActivityFilter:g}}({v:gt.Default,sample:t,limit:10}),i=a.items,s=a.isLoading,c=a.loaded,u=[{id:1,header:n("activity","Activity"),key:"activityType"},{id:0,header:n("laboratorySampleActivityDate","Date"),key:"activityDate"},{id:12,header:n("laboratorySampleStorageUnit","Storage"),key:"storage"},{id:2,header:n("thawCycles","Thaw Cycles"),key:"thawCycles"},{id:3,header:n("volume","Volume"),key:"volume"},{id:4,header:n("remarks","Remarks"),key:"remarks"},{id:6,header:"Responsible Person",key:"responsiblePerson"}],d=(0,o.useMemo)((function(){return null==i?void 0:i.map((function(e){var t,r,a,o,i,s,c,u;return{id:e.uuid,activityDate:l().createElement("span",{className:zt["single-line-display"]},Pt(null!==(r=null==e?void 0:e.activityDate)&&void 0!==r?r:e.dateCreated)),activityType:n(e.activityType),storage:e.storageUnitName?"".concat(e.storageName,"/").concat(e.storageUnitName):"",thawCycles:null!==(a=e.thawCycles)&&void 0!==a?a:"N/A",volume:e.volume?"".concat(null!==(o=null===(t=e.volume)||void 0===t?void 0:t.toLocaleString())&&void 0!==o?o:"").concat(null!==(i=e.volumeUnitName)&&void 0!==i?i:""):"N/A",remarks:l().createElement("div",null,e.remarks,l().createElement("div",{className:zt.italic},n("recordedBy","Recorded By")," ",l().createElement("strong",null,e.activityByFamilyName," ",e.activityByMiddleName," ",e.activityByGivenName)," ",n("on","On")," ",l().createElement("strong",null,qt(e.dateCreated)))),responsiblePerson:"".concat(null!==(s=e.responsiblePersonFamilyName)&&void 0!==s?s:""," ").concat(null!==(c=e.responsiblePersonMiddleName)&&void 0!==c?c:""," ").concat(null!==(u=e.responsiblePersonGivenName)&&void 0!==u?u:"")}}))}),[i]);return s&&!c?l().createElement(ke.m2V,{role:"progressbar"}):l().createElement(l().Fragment,null,l().createElement(ke.iSL,{rows:d,headers:u,isSortable:!0,useZebraStyles:!0,overflowMenuOnHover:!0,render:function(e){var t,a=e.rows,o=e.headers,i=e.getHeaderProps,s=e.getTableProps,c=e.getRowProps;return l().createElement(ke._tR,{className:zt.tableContainer},l().createElement(ke.oJK,Iu(xu({},s()),{className:zt.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,o.map((function(e){var t,n;return"details"!==e.key&&l().createElement(ke.IEe,Iu(xu({},i({header:e,isSortable:e.isSortable})),{className:r.isDesktop?zt.desktopHeader:zt.tabletHeader,key:"".concat(e.key)}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})))),l().createElement(ke.qqV,null,a.map((function(e){return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.CGA,Iu(xu({className:"".concat(r.isDesktop?zt.desktopRow:zt.tabletRow)},c({row:e})),{key:e.id,id:"tr-test-".concat(e.id)}),e.cells.map((function(e){var t;return"details"!==(null==e||null===(t=e.info)||void 0===t?void 0:t.header)&&l().createElement(ke.y6P,{key:e.id},e.value)}))))})))),0===(null!==(t=null==a?void 0:a.length)&&void 0!==t?t:0)?l().createElement("div",{className:zt.tileContainer},l().createElement(ke.g$J,{className:zt.tile},l().createElement("div",{className:zt.tileContent},l().createElement("p",{className:zt.content},n("noSampleActivityTestsToDisplay","No sample activity to display"))))):null)}}))};function Ru(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Bu(e,t,n[t])}))}return e}function qu(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function ju(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ru(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ru(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Fu=function(){var e=(0,He.useTranslation)().t,t=ju((0,o.useState)(""),2),n=t[0],a=t[1],i=(0,r.useSession)(),s=ju((0,o.useState)(!1),2),c=s[0],u=s[1],d=ju((0,o.useState)({}),2),m=d[0],A=d[1],p=ju((0,o.useState)({}),2),_=p[0],v=(p[1],rr()),f=v.laboratoryConfig.laboratorySpecimenTypeConcept;v.configReady,(0,o.useEffect)((function(){u((null==i?void 0:i.user)&&((0,r.userHasAccess)(en,i.user)||(0,r.userHasAccess)(tn,i.user)))}),[i.user]);var b=So({v:gt.Full,sampleStatus:null,testRequestItemStatuses:null,minActivatedDate:null,tests:!1,repository:!0}),g=b.isLoading,y=b.items,h=b.totalCount,C=b.currentPageSize,w=b.pageSizes,E=b.currentPage,S=b.setCurrentPage,k=b.setPageSize,T=b.setSampleRef,O=b.isValidating,N=b.loaded,x=b.setMinActivatedDate,I=b.minActivatedDate,D=b.setMaxActivatedDate,R=b.maxActivatedDate,B=(b.testItemLocation,b.setTestItemLocation,b.testConcept,b.setTestConcept),P=(b.sampleStatus,b.setSampleStatus,b.storage),q=b.setStorage,j=(b.setTestItemStatus,b.sampleType,b.setSampleType),F=b.setStorageStatus,L=b.setPatientUuid,U=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){return T(e)}),300)}),[T]),z=[{id:0,header:e("sampleType","Sample Type"),key:"sampleType"},{id:1,header:e("laboratorySampleReference","Sample ID"),key:"accessionNumber"},{id:11,header:e("laboratorySampleExternalReferences","External ID"),key:"RefSampleId"},{id:12,header:e("laboratorySampleStorageUnit","Storage"),key:"storage"},{id:2,header:e("collectionDate","Collection Date"),key:"collectionDate"},{id:3,header:e("volume","Volume"),key:"volume"},{id:4,header:e("containerType","Container"),key:"containerType"},{id:6,header:e("laboratoryReferred","Referred"),key:"referrerOut"},{id:7,header:"",key:"actions"}],M=(0,o.useMemo)((function(){return null==y?void 0:y.map((function(t,n){var r,a,o,i,s,c,u;return{id:null==t?void 0:t.uuid,sampleType:l().createElement("div",null,t.sampleTypeName,l().createElement("div",{className:zt.italic},l().createElement("strong",null,t?(null==t?void 0:t.referralFromFacilityName)?null==t?void 0:t.referralFromFacilityName:"".concat(null!==(a=null==t?void 0:t.patientFamilyName)&&void 0!==a?a:""," ").concat(null!==(o=null==t?void 0:t.patientMiddleName)&&void 0!==o?o:""," ").concat(null!==(i=null==t?void 0:t.patientGivenName)&&void 0!==i?i:""):null))),accessionNumber:l().createElement(ke.EDW,{type:"cyan"},l().createElement(Ao,{showPrint:!0,reference:t.accessionNumber,className:zt.testSampleReference,sampleUuid:t.uuid,sampleType:t.sampleTypeName,entityName:Fa(t)})),storage:(t.storageUnitName?"".concat(t.storageName,"/").concat(t.storageUnitName):"")+(t.storageStatus?" ".concat(t.storageUnitName?"-":""," ").concat(e(t.storageStatus)):""),RefSampleId:l().createElement(l().Fragment,null,t.providedRef&&l().createElement(ke.EDW,{type:"teal"},l().createElement(Ao,{showPrint:!0,reference:t.providedRef,className:zt.testSampleReference,sampleUuid:t.uuid,sampleType:t.sampleTypeName,entityName:Fa(t)})),t.externalRef&&l().createElement(ke.EDW,{type:"gray"},l().createElement(Ao,{showPrint:!0,reference:t.externalRef,className:zt.testSampleReference,sampleUuid:t.uuid,sampleType:t.sampleTypeName,entityName:Fa(t)}))),collectionDate:l().createElement("div",null,t.collectionDate?qt(t.collectionDate):"Unknown",l().createElement("div",null,t.collectedByFamilyName," ",t.collectedByMiddleName," ",t.collectedByGivenName)),volume:t.volume?"".concat(null!==(s=null===(r=t.volume)||void 0===r?void 0:r.toLocaleString())&&void 0!==s?s:"").concat(t.volumeUnitName):"N/A",containerType:"".concat(null!==(c=t.containerCount)&&void 0!==c?c:"").concat(null!==(u=t.containerTypeName)&&void 0!==u?u:"N/A"),referrerOut:t.referredOut?l().createElement("div",null,"".concat(e("yes","Yes")," - ").concat(t.referralToFacilityName),l().createElement("div",null,qt(t.referralOutDate)),l().createElement("div",null,t.referralOutByFamilyName," ",t.referralOutByMiddleName," ",t.referralOutByGivenName)):l().createElement("div",null,e("no","No")," (",e(t.status),")"),actions:l().createElement(l().Fragment,null,t.permission.canArchiveSample&&l().createElement(Su,{data:t}),t.permission.canCheckOutSample&&l().createElement(Ou,{data:t}))}}))}),[y]),G=function(){A({})},H=function(){return y.filter((function(e){return m[e.uuid]})).map((function(e){var t,n,r;return l().createElement("div",{className:"laboratory-test-request-approve-item"},l().createElement("p",null,e.accessionNumber,":"),e.referralFromFacilityName?e.referralFromFacilityName:"".concat(null!==(t=e.patientFamilyName)&&void 0!==t?t:""," ","\n              ").concat(null!==(n=e.patientMiddleName)&&void 0!==n?n:""," ").concat(null!==(r=e.patientGivenName)&&void 0!==r?r:""))}))},J=(0,o.useCallback)((function(e){return e.actionType=zr,e.records=Object.keys(m),cn(e)}),[m]),W=(0,o.useCallback)((function(){Ye("".concat(e("laboratorySampleDisposeSample","Dispose Sample(s)")),l().createElement(fu,{closeModal:function(e){e&&(G(),zn(te)),Qe()},actionTitle:e("laboratorySampleDisposeSample","Dispose Sample(s)"),multiSamples:!0,storageUnitRequired:!1,remarksRequired:!0,remarksTextLabel:e("laboratoryApproveRemarks","Remarks"),actionButtonLabel:e("dispose","Dispose"),onSaveCallback:J,successMessageTitle:e("laboratorySampleDisposeSample","Dispose Sample(s)"),successMessageBody:e("laboratorySampleDisposeSampleSuccess","Samples disposed successfully"),sampleInformation:H(),approvalDescription:"",readonlyStorage:!0}))}),[H,J]);return l().createElement(l().Fragment,null,(g||O)&&N&&l().createElement(ke.cHM,{size:"small",type:"indented",status:"status",label:"",hideLabel:!0,className:zt.progressBarThin}),l().createElement(l().Fragment,null,l().createElement("div",{className:"".concat(zt["labmgmt-filters"])},l().createElement(ke.c9z,{placeHolderText:e("laboratoryFilterWorksheets","Filter Requests..."),value:n,onChange:function(e){return t=e.target.value,a(t),void U(t);var t},labelText:"",size:"xl",className:zt.filterSearch}),l().createElement(Br,{enableStorage:!1,datePickerType:"range",maxActivatedDate:R,minActivatedDate:I,onMaxActivatedDateChanged:D,onMinActivatedDateChanged:x,onTestChanged:B,disableTests:!1,enableFocus:!1,enableItemMatch:!1,enableSampleStatus:!1,disableLabSection:!0,enablePatient:!0,onPatientChanged:L})),l().createElement("div",{className:"".concat(zt["labmgmt-filters"]),style:{justifyContent:"center"}},l().createElement(Yc,{style:{height:"3rem"},conceptUuid:f,name:"conceptUuid",title:"",placeholder:e("laboratorySampleType","Sample Type:"),onChange:function(e){return j(null==e?void 0:e.uuid)}}),l().createElement(wr,{displayLabSection:!0,style:{height:"3rem"},name:"sampleStorageSearch",placeholder:e("laboratoryStorage","Storage"),onChange:function(e){return q(null==e?void 0:e.uuid)}}),l().createElement(ke.ea0,{key:"samplesRepository",hideLabel:!0,useTitleInItem:!0,onChange:function(e){var t=e.selectedItems;t&&0!==t.length?F(t.reduce((function(e,t,n){return 0===n?t:e+=(e.length>0?",":"")+t}),"")):F(null)},inline:!0,placeholder:e("laboratoryRepositoryItemStatus","Storage Status"),titleText:e("laboratoryRepositoryItemStatus","Storage Status"),label:e("laboratoryRepositoryItemStatus","Storage Status"),items:null!=mr?mr:[],itemToString:function(t){return t?e(t):""},selectionFeedback:"top-after-reopen"}),l().createElement("div",{style:{maxWidth:"30rem"}},l().createElement(Jc,{name:"labSectionSearch",translator:e,onChange:q,value:P,style:{width:"20rem"}})))),l().createElement(ke.iSL,{rows:M,headers:z,isSortable:!0,useZebraStyles:!0,overflowMenuOnHover:!0,render:function(t){var n,a=t.rows,o=t.headers,i=t.getHeaderProps,s=t.getTableProps,u=t.getRowProps,d=t.getBatchActionProps,p=t.getSelectionProps,v=t.getToolbarProps,f=(t.selectedRows,t.expandRow),b=Object.entries(m).reduce((function(e,t){var n=ju(t,2),r=(n[0],n[1]);return e.allCount=e.allCount+(r?1:0),e}),{allCount:0}),g=Pu({},d({shouldShowBatchActions:b.allCount>0,totalCount:y.length,totalSelected:b.allCount,translateWithId:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{totalSelected:0,totalCount:0};return n.totalSelected,n.totalCount,"carbon.table.batch.cancel"===t?e("cancel","Cancel"):"carbon.table.batch.selectAll"===t?"".concat(e("selectAll","Select all")," (").concat(y.length,")"):"".concat(b.allCount," ").concat(e("samples(s)","samples(s)")," ").concat(e("selected","Selected"))},style:{display:b.allCount>0?"":"none"}}),{shouldShowBatchActions:b.allCount>0,totalCount:y.length,totalSelected:b.allCount,onCancel:G}),h=y.some((function(e){var t;return null==e||null===(t=e.permission)||void 0===t?void 0:t.canDisposeSample}));return l().createElement(ke._tR,{className:zt.tableContainer},b.allCount>0&&l().createElement(ke.MBp,qu(Pu({},v()),{style:{position:(b.allCount,"inherit"),margin:0}}),l().createElement(ke.a_I,g,c&&l().createElement(l().Fragment,null,l().createElement(ke.eXR,{kind:"danger",renderIcon:tt.fT,iconDescription:e("LaboratoryDisposeSamples","Dispose Sample(s)"),onClick:W},e("LaboratoryDisposeSamples","Dispose Sample(s)"))))),l().createElement(ke.oJK,qu(Pu({},s()),{className:zt.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,l().createElement(ke.ugy,null),h&&l().createElement(ke.Wgb,qu(Pu({},p({onClick:function(e){var t={};e.target.checked&&y.reduce((function(e,t){var n;return Boolean(null===(n=t.permission)||void 0===n?void 0:n.canDisposeSample)&&(e[t.uuid]=!0),e}),t),A(t)}})),{checked:y.length>0&&b.allCount==y.length,indeterminate:b.allCount!=y.length&&b.allCount>0})),o.map((function(e){var t,n;return!e.key.startsWith("details")&&l().createElement(ke.IEe,qu(Pu({},i({header:e,isSortable:e.isSortable})),{className:r.isDesktop?zt.desktopHeader:zt.tabletHeader,key:"".concat(e.key)}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})),l().createElement(ke.IEe,null))),l().createElement(ke.qqV,null,a.map((function(e){var t,n,a=h&&(null===(n=y.find((function(t){return t.uuid==e.id})))||void 0===n||null===(t=n.permission)||void 0===t?void 0:t.canDisposeSample);return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.cjO,qu(Pu({className:"".concat(r.isDesktop?zt.desktopRow:zt.tabletRow).concat(!a&&h?" ".concat(zt.selectionPaddingClear):"")},u({row:e})),{isExpanded:Boolean(_[e.id]),onExpand:function(t){return n=e.id,_[n]=Boolean(!_[n]),void f(n);var n},key:e.id}),a?l().createElement(Pn,qu(Pu({},p({row:e})),{checked:Boolean(m[e.id]),onChange:function(t,n){return r=n,a=e.id,(o=Pu({},m))[a]||(o[a]=!1),r.checked?o[a]=!0:delete o[a],void A(o);var r,a,o}})):h&&l().createElement(ke.y6P,null),e.cells.map((function(e){var t;return!(null==e||null===(t=e.info)||void 0===t?void 0:t.header.startsWith("details"))&&l().createElement(ke.y6P,{key:e.id},e.value)}))),_[e.id]&&l().createElement(ke.Ocq,{className:zt.tableExpandedRow,colSpan:o.length+1+(h?1:0)},l().createElement("section",{className:"".concat(zt.rowExpandedContent," ").concat(zt.worksheetItems)},l().createElement(Gc,{sampleUuid:e.id}),l().createElement("div",{style:{width:"100%"}}),l().createElement(Du,{sampleUuid:e.id}))))})))),0===(null!==(n=null==a?void 0:a.length)&&void 0!==n?n:0)?l().createElement("div",{className:zt.tileContainer},l().createElement(ke.g$J,{className:zt.tile},l().createElement("div",{className:zt.tileContent},l().createElement("p",{className:zt.content},e("noSamplesToDisplay","No samples to display"))))):null)}}),l().createElement(ke.eML,{page:E,pageSize:C,pageSizes:w,totalItems:null!=h?h:0,onChange:function(e){var t=e.page,n=e.pageSize;S(t),k(n)},className:zt.paginationOverride}))};function Lu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Uu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Uu(e,t,n[t])}))}return e}function Mu(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Gu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Lu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Hu=function(){var e=(0,He.useTranslation)().t,t=Gu((0,o.useState)(""),2),n=t[0],a=t[1],i=(0,r.useSession)(),s=Gu((0,o.useState)(!1),2),c=s[0],u=s[1],d=At().currentOrdersDate,m=Gu((0,o.useState)({}),2),A=m[0],p=m[1],_=Gu((0,o.useState)({}),2),v=_[0],f=(_[1],rr()),b=f.laboratoryConfig.laboratorySpecimenTypeConcept;f.configReady,(0,o.useEffect)((function(){u((null==i?void 0:i.user)&&((0,r.userHasAccess)(en,i.user)||(0,r.userHasAccess)(tn,i.user)))}),[i.user]);var g=So({v:gt.Full,sampleStatus:null,testRequestItemStatuses:null,minActivatedDate:d,tests:!1}),y=g.isLoading,h=g.items,C=g.totalCount,w=g.currentPageSize,E=g.pageSizes,S=g.currentPage,k=g.setCurrentPage,T=g.setPageSize,O=g.setSampleRef,N=g.isValidating,x=g.loaded,I=g.setMinActivatedDate,D=g.minActivatedDate,R=g.setMaxActivatedDate,B=g.maxActivatedDate,P=(g.testItemLocation,g.setTestItemLocation,g.testConcept,g.setTestConcept),q=g.sampleStatus,j=g.setSampleStatus,F=g.storage,L=g.setStorage,U=g.setTestItemStatus,z=(g.sampleType,g.setSampleType),M=g.setPatientUuid,G=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){return O(e)}),300)}),[O]),H=[{id:0,header:e("sampleType","Sample Type"),key:"sampleType"},{id:1,header:e("laboratorySampleReference","Sample ID"),key:"accessionNumber"},{id:11,header:e("laboratorySampleExternalReferences","External ID"),key:"RefSampleId"},{id:12,header:e("laboratorySampleStorageUnit","Storage"),key:"storage"},{id:2,header:e("collectionDate","Collection Date"),key:"collectionDate"},{id:3,header:e("volume","Volume"),key:"volume"},{id:4,header:e("containerType","Container"),key:"containerType"},{id:6,header:e("laboratoryReferred","Referred"),key:"referrerOut"},{id:7,header:"",key:"actions"}],J=(0,o.useMemo)((function(){return null==h?void 0:h.map((function(t,n){var r,a,o,i,s,c,u;return{id:null==t?void 0:t.uuid,sampleType:l().createElement("div",null,t.sampleTypeName,l().createElement("div",{className:zt.italic},l().createElement("strong",null,t?(null==t?void 0:t.referralFromFacilityName)?null==t?void 0:t.referralFromFacilityName:"".concat(null!==(a=null==t?void 0:t.patientFamilyName)&&void 0!==a?a:""," ").concat(null!==(o=null==t?void 0:t.patientMiddleName)&&void 0!==o?o:""," ").concat(null!==(i=null==t?void 0:t.patientGivenName)&&void 0!==i?i:""):null))),accessionNumber:l().createElement(ke.EDW,{type:"cyan"},l().createElement(Ao,{showPrint:!0,reference:t.accessionNumber,className:zt.testSampleReference,sampleUuid:t.uuid,sampleType:t.sampleTypeName,entityName:Fa(t)})),storage:(t.storageUnitName?"".concat(t.storageName,"/").concat(t.storageUnitName):"")+(t.storageStatus?" ".concat(t.storageUnitName?"-":""," ").concat(e(t.storageStatus)):""),RefSampleId:l().createElement(l().Fragment,null,t.providedRef&&l().createElement(ke.EDW,{type:"teal"},l().createElement(Ao,{showPrint:!0,reference:t.providedRef,className:zt.testSampleReference,sampleUuid:t.uuid,sampleType:t.sampleTypeName,entityName:Fa(t)})),t.externalRef&&l().createElement(ke.EDW,{type:"gray"},l().createElement(Ao,{showPrint:!0,reference:t.externalRef,className:zt.testSampleReference,sampleUuid:t.uuid,sampleType:t.sampleTypeName,entityName:Fa(t)}))),collectionDate:l().createElement("div",null,t.collectionDate?qt(t.collectionDate):"Unknown",l().createElement("div",null,t.collectedByFamilyName," ",t.collectedByMiddleName," ",t.collectedByGivenName)),volume:t.volume?"".concat(null!==(s=null===(r=t.volume)||void 0===r?void 0:r.toLocaleString())&&void 0!==s?s:"").concat(t.volumeUnitName):"N/A",containerType:"".concat(null!==(c=t.containerCount)&&void 0!==c?c:"").concat(null!==(u=t.containerTypeName)&&void 0!==u?u:"N/A"),referrerOut:t.referredOut?l().createElement("div",null,"".concat(e("yes","Yes")," - ").concat(t.referralToFacilityName),l().createElement("div",null,qt(t.referralOutDate)),l().createElement("div",null,t.referralOutByFamilyName," ",t.referralOutByMiddleName," ",t.referralOutByGivenName)):l().createElement("div",null,e("no","No")," (",e(t.status),")"),actions:t.storageStatus?"":l().createElement(l().Fragment,null,t.permission.canArchiveSample&&l().createElement(Su,{data:t}))}}))}),[h]),W=function(){p({})},V=function(){return h.filter((function(e){return A[e.uuid]})).map((function(e){var t,n,r;return l().createElement("div",{className:"laboratory-test-request-approve-item"},l().createElement("p",null,e.accessionNumber,":"),e.referralFromFacilityName?e.referralFromFacilityName:"".concat(null!==(t=e.patientFamilyName)&&void 0!==t?t:""," ","\n              ").concat(null!==(n=e.patientMiddleName)&&void 0!==n?n:""," ").concat(null!==(r=e.patientGivenName)&&void 0!==r?r:""))}))},Y=(0,o.useCallback)((function(e){return e.actionType=zr,e.records=Object.keys(A),cn(e)}),[A]),Q=(0,o.useCallback)((function(){Ye("".concat(e("laboratorySampleDisposeSample","Dispose Sample(s)")),l().createElement(fu,{closeModal:function(e){e&&(W(),zn(te)),Qe()},actionTitle:e("laboratorySampleDisposeSample","Dispose Sample(s)"),multiSamples:!0,storageUnitRequired:!1,remarksRequired:!0,remarksTextLabel:e("laboratoryApproveRemarks","Remarks"),actionButtonLabel:e("dispose","Dispose"),onSaveCallback:Y,successMessageTitle:e("laboratorySampleDisposeSample","Dispose Sample(s)"),successMessageBody:e("laboratorySampleDisposeSampleSuccess","Samples disposed successfully"),sampleInformation:V(),approvalDescription:"",readonlyStorage:!0}))}),[V,Y]);return l().createElement(l().Fragment,null,(y||N)&&x&&l().createElement(ke.cHM,{size:"small",type:"indented",status:"status",label:"",hideLabel:!0,className:zt.progressBarThin}),l().createElement(l().Fragment,null,l().createElement("div",{className:"".concat(zt["labmgmt-filters"])},l().createElement(ke.c9z,{placeHolderText:e("laboratoryFilterWorksheets","Filter Requests..."),value:n,onChange:function(e){return t=e.target.value,a(t),void G(t);var t},labelText:"",size:"xl",className:zt.filterSearch}),l().createElement(Br,{enableStorage:!1,datePickerType:"range",maxActivatedDate:B,minActivatedDate:D,onMaxActivatedDateChanged:R,onMinActivatedDateChanged:I,onTestChanged:P,enableFocus:!1,enableItemMatch:!1,enableSampleStatus:!0,sampleStatuses:q,onSampleStatusesChanged:j,disableLabSection:!0,enablePatient:!0,onPatientChanged:M})),l().createElement("div",{className:"".concat(zt["labmgmt-filters"]),style:{justifyContent:"center"}},l().createElement(Yc,{style:{height:"3rem"},conceptUuid:b,name:"conceptUuid",title:"",placeholder:e("laboratorySampleType","Sample Type:"),onChange:function(e){return z(null==e?void 0:e.uuid)}}),l().createElement(ke.ea0,{key:"samplesRepository",hideLabel:!0,useTitleInItem:!0,onChange:function(e){var t=e.selectedItems;t&&0!==t.length?U(t.reduce((function(e,t,n){return 0===n?t:e+=(e.length>0?",":"")+t}),"")):U(null)},inline:!0,placeholder:e("laboratoryTestItemStatus","Test Status"),titleText:e("laboratoryTestItemStatus","Test Status"),label:e("laboratoryTestItemStatus","Test Status"),items:null!=bn?bn:[],itemToString:function(t){return t?e(t):""},selectionFeedback:"top-after-reopen"}),l().createElement("div",{style:{maxWidth:"30rem"}},l().createElement(Jc,{name:"labSectionSearch",translator:e,onChange:L,value:F,style:{width:"20rem"}})))),l().createElement(ke.iSL,{rows:J,headers:H,isSortable:!0,useZebraStyles:!0,overflowMenuOnHover:!0,render:function(t){var n,a=t.rows,o=t.headers,i=t.getHeaderProps,s=t.getTableProps,u=t.getRowProps,d=t.getBatchActionProps,m=t.getSelectionProps,_=t.getToolbarProps,f=(t.selectedRows,t.expandRow),b=Object.entries(A).reduce((function(e,t){var n=Gu(t,2),r=(n[0],n[1]);return e.allCount=e.allCount+(r?1:0),e}),{allCount:0}),g=zu({},d({shouldShowBatchActions:b.allCount>0,totalCount:h.length,totalSelected:b.allCount,translateWithId:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{totalSelected:0,totalCount:0};return n.totalSelected,n.totalCount,"carbon.table.batch.cancel"===t?e("cancel","Cancel"):"carbon.table.batch.selectAll"===t?"".concat(e("selectAll","Select all")," (").concat(h.length,")"):"".concat(b.allCount," ").concat(e("samples(s)","samples(s)")," ").concat(e("selected","Selected"))},style:{display:b.allCount>0?"":"none"}}),{shouldShowBatchActions:b.allCount>0,totalCount:h.length,totalSelected:b.allCount,onCancel:W}),y=h.some((function(e){var t;return(null==e||null===(t=e.permission)||void 0===t?void 0:t.canDisposeSample)&&!e.storageStatus}));return l().createElement(ke._tR,{className:zt.tableContainer},b.allCount>0&&l().createElement(ke.MBp,Mu(zu({},_()),{style:{position:(b.allCount,"inherit"),margin:0}}),l().createElement(ke.a_I,g,c&&l().createElement(l().Fragment,null,l().createElement(ke.eXR,{kind:"danger",renderIcon:tt.fT,iconDescription:e("LaboratoryDisposeSamples","Dispose Sample(s)"),onClick:Q},e("LaboratoryDisposeSamples","Dispose Sample(s)"))))),l().createElement(ke.oJK,Mu(zu({},s()),{className:zt.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,l().createElement(ke.ugy,null),y&&l().createElement(ke.Wgb,Mu(zu({},m({onClick:function(e){var t={};e.target.checked&&h.reduce((function(e,t){var n;return Boolean((null===(n=t.permission)||void 0===n?void 0:n.canDisposeSample)&&!t.storageStatus)&&(e[t.uuid]=!0),e}),t),p(t)}})),{checked:h.length>0&&b.allCount==h.length,indeterminate:b.allCount!=h.length&&b.allCount>0})),o.map((function(e){var t,n;return!e.key.startsWith("details")&&l().createElement(ke.IEe,Mu(zu({},i({header:e,isSortable:e.isSortable})),{className:r.isDesktop?zt.desktopHeader:zt.tabletHeader,key:"".concat(e.key)}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})),l().createElement(ke.IEe,null))),l().createElement(ke.qqV,null,a.map((function(e){var t=y&&h.find((function(t){var n;return t.uuid==e.id&&(null===(n=t.permission)||void 0===n?void 0:n.canDisposeSample)&&!t.storageStatus}));return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.cjO,Mu(zu({className:"".concat(r.isDesktop?zt.desktopRow:zt.tabletRow).concat(!t&&y?" ".concat(zt.selectionPaddingClear):"")},u({row:e})),{isExpanded:Boolean(v[e.id]),onExpand:function(t){return n=e.id,v[n]=Boolean(!v[n]),void f(n);var n},key:e.id}),t?l().createElement(Pn,Mu(zu({},m({row:e})),{checked:Boolean(A[e.id]),onChange:function(t,n){return r=n,a=e.id,(o=zu({},A))[a]||(o[a]=!1),r.checked?o[a]=!0:delete o[a],void p(o);var r,a,o}})):y&&l().createElement(ke.y6P,null),e.cells.map((function(e){var t;return!(null==e||null===(t=e.info)||void 0===t?void 0:t.header.startsWith("details"))&&l().createElement(ke.y6P,{key:e.id},e.value)}))),v[e.id]&&l().createElement(ke.Ocq,{className:zt.tableExpandedRow,colSpan:o.length+1+(y?1:0)},l().createElement("section",{className:"".concat(zt.rowExpandedContent," ").concat(zt.worksheetItems)},l().createElement(Gc,{sampleUuid:e.id}),l().createElement("div",{style:{width:"100%"}}),l().createElement(Du,{sampleUuid:e.id}))))})))),0===(null!==(n=null==a?void 0:a.length)&&void 0!==n?n:0)?l().createElement("div",{className:zt.tileContainer},l().createElement(ke.g$J,{className:zt.tile},l().createElement("div",{className:zt.tileContent},l().createElement("p",{className:zt.content},e("noSamplesToDisplay","No samples to display"))))):null)}}),l().createElement(ke.eML,{page:S,pageSize:w,pageSizes:E,totalItems:null!=C?C:0,onChange:function(e){var t=e.page,n=e.pageSize;k(t),T(n)},className:zt.paginationOverride}))};function Ju(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Wu(e,t,n[t])}))}return e}function Yu(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Qu=function(){var e,t,n=(0,He.useTranslation)().t,a=(0,i.useLocation)().pathname,s=a.startsWith(x),c=!s&&a.startsWith(D),u=(0,r.useSession)(),d=(e=(0,o.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ju(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ju(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=d[0],A=d[1];return(0,o.useEffect)((function(){A((null==u?void 0:u.user)&&(0,r.userHasAccess)("App: labmanagement.repository",u.user))}),[u.user]),l().createElement(l().Fragment,null,l().createElement("div",{className:zt.navigationButtons},l().createElement(ke.qaq,{size:"sm",className:zt.navigationButton,iconDescription:"Collection",hasIcon:!0,renderIcon:function(e){return l().createElement(Ya.w$,Yu(Vu({},e),{size:16}))},kind:s||c?"ghost":"secondary",onClick:function(){return(0,r.navigate)({to:N})}},n("laboratorySamplesCollection","Pending Sample Collection")),l().createElement(ke.qaq,{size:"sm",className:zt.navigationButton,iconDescription:"Sample History",hasIcon:!0,renderIcon:function(e){return l().createElement(Qa.iq,Yu(Vu({},e),{size:16}))},kind:s?"secondary":"ghost",onClick:function(){return(0,r.navigate)({to:I})},hreft:I},n("laboratorySamplesManage","Sample History")),m&&l().createElement(ke.qaq,{size:"sm",className:zt.navigationButton,iconDescription:"Sample Repository",hasIcon:!0,renderIcon:function(e){return l().createElement(Oe.Ip,Yu(Vu({},e),{size:16}))},kind:c?"secondary":"ghost",onClick:function(){return(0,r.navigate)({to:R})},hreft:R},n("laboratorySamplesRepository","Sample Repository"))),l().createElement(i.Routes,null,l().createElement(i.Route,{path:"history",element:l().createElement(Hu,null)}),m&&l().createElement(i.Route,{path:"repository",element:l().createElement(Fu,null)}),l().createElement(i.Route,{path:"/",element:l().createElement(Pc,null)}),l().createElement(i.Route,{key:"default-route",path:"*",element:l().createElement(i.Navigate,{to:T})})))};function Ku(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||$u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xu(e){return function(e){if(Array.isArray(e))return Ku(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $u(e,t){if(e){if("string"==typeof e)return Ku(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ku(e,t):void 0}}var ed;!function(e){e[e.STARRED=0]="STARRED",e[e.SYSTEM=1]="SYSTEM",e[e.USER=2]="USER",e[e.ALL=3]="ALL"}(ed||(ed={}));var td="lab-panels-slot";const nd=function(){var e=(0,He.useTranslation)().t,t=(0,i.useLocation)().pathname,n=(0,r.useConnectedExtensions)(td),a=(0,i.useNavigate)(),s=(0,r.useSession)(),c=Zu((0,o.useState)(!1),2),u=c[0],d=c[1],m=Zu((0,o.useState)(!1),2),A=m[0],p=m[1],_=Zu((0,o.useState)(!1),2),v=_[0],y=_[1],h=Zu((0,o.useState)(!1),2),C=h[0],w=h[1];(0,o.useEffect)((function(){d((null==s?void 0:s.user)&&(0,r.userHasAccess)(Wt,s.user)),p((null==s?void 0:s.user)&&(0,r.userHasAccess)(Yt,s.user)),y((null==s?void 0:s.user)&&(0,r.userHasAccess)(Xt,s.user)),w((null==s?void 0:s.user)&&(0,r.userHasAccess)($t,s.user))}),[s.user]);var N=(0,o.useMemo)((function(){var t=Xu(u?[{key:f.toLowerCase(),url:f,description:e("acceptLaboratoryTests","Accept Tests"),disabled:!1,element:l().createElement(Va,null)}]:[]).concat(Xu(A?[{key:T.toLowerCase(),url:O,description:e("laboratorySamples","Samples"),disabled:!1,element:l().createElement(Qu,null)}]:[]),Xu(v?[{key:B.toLowerCase(),url:P,description:e("worklist","Worklist"),disabled:!1,element:l().createElement(As,null)}]:[]),Xu(C?[{key:Ae.toLowerCase(),url:Ae,description:e("review","Review"),disabled:!1,element:l().createElement(Ks,null)}]:[]),Xu(n.filter((function(e){return Object.keys(e.meta).length>0&&!["worklist-panel-component","rejected-panel-component","referred-panel-component","approved-panel-component","review-panel-component"].some((function(t){return t==e.id}))})).map((function(t){var n=t.meta,a=n.name,o=n.title;if(a&&o){var i=H(t.id);return{key:i.toLowerCase(),url:i,description:e(o,{ns:t.moduleName,defaultValue:o}),disabled:!1,element:l().createElement(ht.ComponentContext.Provider,{key:i,value:{featureName:"LabPanel",moduleName:t.moduleName,extension:{extensionId:t.id,extensionSlotName:td,extensionSlotModuleName:t.moduleName}}},l().createElement(r.Extension,null))}}}))),Xu(u?[{key:S.toLowerCase(),url:S,description:e("approved","Approved"),disabled:!1,element:l().createElement(ic,{key:S})}]:[]),Xu(u?[{key:E.toLowerCase(),url:E,description:e("rejected","Rejected"),disabled:!1,element:l().createElement(Os,{key:E,testRequestItemStatus:vn})}]:[]),Xu(u?[{key:k.toLowerCase(),url:k,description:e("referredTests","Referred Tests"),disabled:!1,element:l().createElement(Ls,null)}]:[]),Xu(u?[{key:b.toLowerCase(),url:g,description:e("allLaboratoryTests","All Tests"),disabled:!1,element:l().createElement(Nc,null)}]:[]));return 0==t.length&&(t=[{key:"*",url:"/*",description:e("accessDenied","Access Denied"),disabled:!1,element:l().createElement("div",{style:{padding:"1rem"}})}]),t}),[u,A,C,v,e,n]),x=(0,o.useCallback)((function(e){var t;return e=e.toLowerCase(),(t=N.findIndex((function(t){if(!e.startsWith(t.key))return!1;var n=e.indexOf("/",t.key.length-1);return n>=0?e.substring(0,n)==t.key:e==t.key})))>=0?t:0}),[N]),I=Zu((0,o.useState)(x(t)),2),D=I[0],R=I[1];return(0,o.useEffect)((function(){R(x(t))}),[t,x]),l().createElement("main",{className:"omrs-main-content"},l().createElement("section",{className:zt.orderTabsContainer},l().createElement(ke.kZJ,{selectedIndex:D,onChange:function(e){return function(e){e<0&&e>=N.length&&(e=0);var t=N[e];R(e),a(t.url)}(e.selectedIndex)},className:zt.tabs},l().createElement(ke.qc_,{style:{paddingLeft:"1rem"},"aria-label":"Laboratory tabs",contained:!0},N.filter((function(e){return!e.disabled})).map((function(e){return l().createElement(ke.sOW,{key:e.key,style:{width:"150px"}},e.description)})))),l().createElement(i.Routes,null,N.filter((function(e){return!e.disabled})).map((function(e){return l().createElement(i.Route,{path:e.url,element:e.element})})),l().createElement(i.Route,{key:"default-route",path:"*",element:l().createElement(i.Navigate,{to:f})}))))};function rd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const ad=function(e){var t,n,a=e.onPageChanged,i=(t=(0,o.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return rd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rd(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=i[0],c=i[1],u=(0,r.useSession)();return(0,o.useEffect)((function(){c((null==u?void 0:u.user)&&(0,r.userHasAccess)("App: labmanagement.dashboard",u.user))}),[u]),(0,o.useEffect)((function(){return a({showDateInHeader:!0})}),[]),l().createElement(l().Fragment,null,l().createElement(Ft,null),s&&l().createElement(nd,null))};var od=n(9588),ld={};ld.styleTagTransform=Ue(),ld.setAttributes=qe(),ld.insert=Be().bind(null,"head"),ld.domAPI=De(),ld.insertStyleElement=Fe(),xe()(od.c,ld);const id=od.c&&od.c.locals?od.c.locals:void 0;var sd=n(1683),cd={};cd.styleTagTransform=Ue(),cd.setAttributes=qe(),cd.insert=Be().bind(null,"head"),cd.domAPI=De(),cd.insertStyleElement=Fe(),xe()(sd.c,cd);const ud=sd.c&&sd.c.locals?sd.c.locals:void 0;var dd=[{label:"Yes",value:!0},{label:"No",value:!1}],md=Gl.z.object({testUuid:Gl.z.string(),testGroupUuid:Gl.z.string(),requireApproval:Gl.z.boolean(),approvalFlowUuid:Gl.z.string().nullish(),enabled:Gl.z.boolean(),uuid:Gl.z.string().nullish()}).refine((function(e){var t=e.uuid,n=e.testUuid;return!((null==t?void 0:t.length)>0)||Boolean(n)}),{message:"Test required",path:["testUuid"]}).refine((function(e){var t=e.requireApproval,n=e.approvalFlowUuid;return!t||Boolean(n)}),{message:"Approval flow required",path:["approvalFlowUuid"]});function Ad(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const pd=function(e){var t,n,a=function(){var e=Bi((0,o.useState)(!0),2),t=e[0],n=e[1],a=Bi((0,o.useState)(),2),l=a[0],i=a[1],s=(0,wt.c)("".concat(r.restBaseUrl,"/concept"),(function(){return St("".concat(r.restBaseUrl,"/concept").concat(Ct(l)))})),c=s.data,u=s.error,d=s.trigger,m=s.isMutating,A=(0,o.useCallback)((function(e){i(e),n(!1)}),[]);return(0,o.useEffect)((function(){t||d()}),[l,t,d]),{getConcepts:A,items:(null==c?void 0:c.data)||{},isLoading:!1,isError:u,isValidating:!t&&m}}(),i=a.items.results,s=a.isLoading,c=(a.isValidating,a.getConcepts),u=(t=(0,o.useState)(""),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Ad(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ad(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=u[0],m=u[1],A=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){c({q:e,startIndex:0,limit:10})}),300)}),[c]);return s?l().createElement(ke.Qrc,null):l().createElement(Wo.Mc,{name:e.controllerName,control:e.control,render:function(t){var n=t.field,r=n.onChange,a=n.ref;return l().createElement(ke.Q1m,{titleText:e.title,name:e.name,control:e.control,controllerName:e.controllerName,id:e.name,size:"md",items:null!=i?i:[],onChange:function(t){var n,a;null===(n=e.onConceptUuidChange)||void 0===n||n.call(e,t.selectedItem),r(null===(a=t.selectedItem)||void 0===a?void 0:a.uuid)},initialSelectedItem:(null==i?void 0:i.find((function(t){return t.uuid===e.conceptUuid})))||{},itemToString:function(e){return e&&(null==e?void 0:e.display)?"".concat(null==e?void 0:e.display):""},shouldFilterItem:function(){return!0},onInputChange:function(e){return m(t=e),void A(t);var t},inputValue:d,placeholder:e.placeholder,ref:a,invalid:e.invalid,invalidText:e.invalidText})}})};function _d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const vd=function(e){return l().createElement(Wo.Mc,{name:e.controllerName,control:e.control,render:function(t){var n,r,a=t.field,o=a.onChange,i=a.value,s=a.ref;return l().createElement(ke.OOm,(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_d(e,t,n[t])}))}return e}({},e),r=null!=(r={onChange:function(t,n,r){o(t,n,r),e.onChange&&e.onChange(t,n,r)},id:e.name,ref:s,defaultSelected:e.defaultSelected,value:i})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))})),n),e.options.map((function(t,n){return l().createElement(ke.OUg,{key:"".concat(n,"-").concat(e.name,"-").concat(t.value),id:"".concat(e.name,"-").concat(t.value),labelText:t.label,value:t.value,checked:i===t.value,onChange:function(){return o(t.value)},ref:s})})))}})};function fd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gd(){var e=bd((0,o.useState)(!0),2),t=e[0],n=e[1],r=bd((0,o.useState)(),2),a=r[0],l=r[1],i=(0,wt.c)("".concat(ae),(function(){return St("".concat(ae).concat(Ct(a)))})),s=i.data,c=i.error,u=i.trigger,d=i.isMutating,m=(0,o.useCallback)((function(e){l(e),n(!1)}),[]);return(0,o.useEffect)((function(){t||u()}),[a,t,u]),{getApprovalFlows:m,items:(null==s?void 0:s.data)||{},isLoading:!1,isError:c,isValidating:!t&&d}}function yd(e){return St(ae,{method:"POST",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal,body:{name:e.name,systemName:e.systemName,levelOneUuid:e.levelOneUuid,levelOneAllowOwner:e.levelOneAllowOwner,levelTwoUuid:e.levelTwoUuid?e.levelTwoUuid:null,levelTwoAllowOwner:e.levelTwoUuid?e.levelTwoAllowOwner:null,levelThreeUuid:e.levelThreeUuid?e.levelThreeUuid:null,levelThreeAllowOwner:e.levelThreeUuid?e.levelThreeAllowOwner:null,levelFourUuid:e.levelFourUuid?e.levelFourUuid:null,levelFourAllowOwner:e.levelFourUuid?e.levelFourAllowOwner:null,levelTwoAllowPrevious:e.levelTwoUuid?e.levelTwoAllowPrevious:null,levelThreeAllowPrevious:e.levelThreeUuid?e.levelThreeAllowPrevious:null,levelFourAllowPrevious:e.levelFourUuid?e.levelFourAllowPrevious:null}})}function hd(e){return St("".concat(ae,"/").concat(e.uuid),{method:"POST",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal,body:{name:e.name,systemName:e.systemName,levelOneUuid:e.levelOneUuid,levelOneAllowOwner:e.levelOneAllowOwner,levelTwoUuid:e.levelTwoUuid?e.levelTwoUuid:null,levelTwoAllowOwner:e.levelTwoUuid?e.levelTwoAllowOwner:null,levelThreeUuid:e.levelThreeUuid?e.levelThreeUuid:null,levelThreeAllowOwner:e.levelThreeUuid?e.levelThreeAllowOwner:null,levelFourUuid:e.levelFourUuid?e.levelFourUuid:null,levelFourAllowOwner:e.levelFourUuid?e.levelFourAllowOwner:null,levelTwoAllowPrevious:e.levelTwoUuid?e.levelTwoAllowPrevious:null,levelThreeAllowPrevious:e.levelThreeUuid?e.levelThreeAllowPrevious:null,levelFourAllowPrevious:e.levelFourUuid?e.levelFourAllowPrevious:null}})}function Cd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wd(e){return function(e){if(Array.isArray(e))return Cd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ed(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ed(e,t){if(e){if("string"==typeof e)return Cd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cd(e,t):void 0}}const Sd=function(e){var t,n,r=gd(),a=r.items.results,i=r.isLoading,s=(r.isValidating,r.getApprovalFlows),c=(t=(0,o.useState)(""),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||Ed(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],d=c[1],m=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){s({q:e,startIndex:0,limit:10})}),300)}),[s]);return i?l().createElement(ke.Qrc,null):l().createElement(Wo.Mc,{name:e.controllerName,control:e.control,render:function(t){var n,r=t.field,o=r.onChange,i=r.ref;return l().createElement(ke.Q1m,{titleText:e.title,name:e.name,control:e.control,controllerName:e.controllerName,id:e.name,size:"md",items:e.selectedId?wd((null==a?void 0:a.some((function(t){return t.uuid===e.selectedId})))?[]:[{uuid:e.selectedId,name:e.selectedText}]).concat(wd(null!=a?a:[])):a||[],onChange:function(t){var n;null===(n=e.onApprovalFlowUuidChange)||void 0===n||n.call(e,t.selectedItem),o(t.selectedItem.uuid)},initialSelectedItem:e.selectedId?null!==(n=null==a?void 0:a.find((function(t){return t.uuid===e.selectedId})))&&void 0!==n?n:{uuid:e.selectedId,name:e.selectedText}:null,itemToString:function(e){return e&&(null==e?void 0:e.name)?"".concat(null==e?void 0:e.name):""},shouldFilterItem:function(){return!0},onInputChange:function(e){return d(t=e),void m(t);var t},inputValue:u,placeholder:e.placeholder,ref:i,invalid:e.invalid,invalidText:e.invalidText})}})};function kd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Td(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function Od(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return kd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Nd=function(e){var t,n,a,i,s,c,u,d,m,A=e.model,p=(0,He.useTranslation)().t,_=(0,r.useSession)(),v=Od((0,o.useState)(!Boolean(null==A?void 0:A.uuid)),1)[0],f=Od((0,o.useState)(v),2),b=f[0],g=f[1],y=rr().laboratoryConfig.laboratoryTestGroupConcept;(0,o.useEffect)((function(){g((null==_?void 0:_.user)&&(0,r.userHasAccess)(Jt,_.user))}),[]);var h=(0,Wo.aS)({defaultValues:A,mode:"all",resolver:(0,Ml.C)(md)}),C=h.handleSubmit,w=h.control,E=h.formState.errors,S=function(){var e,t=(e=function(e){var t,n,a,o;return function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),O(!0),[4,(v?Qn:Kn)(e)];case 1:return t=l.sent(),zn(V),(null==t?void 0:t.data)&&((0,r.showSnackbar)({isLowContrast:!0,title:v?p("laboratoryAddTestConfiguration","Add Test Configuration"):p("laboratoryEditTestConfiguration","Edit Test Configuration"),kind:"success",subtitle:v?p("laboratoryAddTestConfigurationSuccess","Test Configuration Added Successfully"):p("laboratoryEditTestConfigurationSuccess","Test Configuration Edited Successfully")}),Qe()),[3,3];case 2:return n=l.sent(),O(!1),(0,r.showNotification)({title:v?p("laboratoryAddTestConfigurationError","Error adding a test configuration"):p("laboratoryEditTestConfigurationError","Error editing a test configuration"),kind:"error",critical:!0,description:null==n||null===(o=n.responseBody)||void 0===o||null===(a=o.error)||void 0===a?void 0:a.message}),[3,3];case 3:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){Td(o,r,a,l,i,"next",e)}function i(e){Td(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}(),k=Od((0,o.useState)(!1),2),T=k[0],O=k[1],N=Od((0,o.useState)(!1),2),x=N[0],I=N[1];return(0,o.useEffect)((function(){var e;I(null!==(e=null==A?void 0:A.requireApproval)&&void 0!==e&&e)}),[null==A?void 0:A.requireApproval]),l().createElement("form",null,l().createElement(ke.aUI,{className:ud.modalBody},l().createElement("section",{className:ud.section},v&&l().createElement(pd,{name:"testUuid",controllerName:"testUuid",control:w,title:p("laboratoryTest","Test:"),placeholder:p("chooseAnItem","Choose an item"),invalid:!!E.testUuid,invalidText:E.testUuid&&(null==E||null===(t=E.testUuid)||void 0===t?void 0:t.message)}),!v&&l().createElement(ke.gf6,{value:A.testName,readOnly:!0,labelText:p("laboratoryTest","Test:")}),b&&l().createElement(Fi,{conceptUuid:y,selectedId:A.testGroupUuid,selectedText:A.testGroupName,controllerName:"testGroupUuid",name:"testGroupUuid",control:w,title:p("laboratoryTestGroup","Test Group:"),placeholder:p("chooseAnItem","Choose an item"),invalid:!!E.testGroupUuid,invalidText:E.testGroupUuid&&(null==E||null===(n=E.testGroupUuid)||void 0===n?void 0:n.message)}),!b&&l().createElement(ke.gf6,{value:A.testGroupName,readOnly:!0,labelText:p("laboratoryTestGroup","Test Group:")}),b&&l().createElement(l().Fragment,null,l().createElement(ke.WCx,{className:"clear-margin-bottom",legendText:p("laboratoryTestRequireApproval","Require Approval:"),title:p("laboratoryTestRequireApproval","Require Approval:")},l().createElement(vd,{control:w,defaultSelected:A.requireApproval,name:"requireApproval",controllerName:"requireApproval",legendText:"",invalid:!!E.requireApproval,invalidText:E.requireApproval&&(null==E||null===(a=E.requireApproval)||void 0===a?void 0:a.message),onChange:function(e){I(e)},options:dd})),E.requireApproval&&(null==E||null===(i=E.requireApproval)||void 0===i?void 0:i.message)&&l().createElement("div",{className:ud.errorText},p(null==E||null===(s=E.requireApproval)||void 0===s?void 0:s.message))),!b&&l().createElement(ke.gf6,{value:A.requireApproval?p("yes","Yes"):p("no","No"),readOnly:!0,labelText:p("laboratoryTestRequireApproval","Require Approval:")}),x&&l().createElement(l().Fragment,null,b&&l().createElement(Sd,{name:"approvalFlowUuid",controllerName:"approvalFlowUuid",control:w,title:p("laboratoryApprovalFlow","Approval Flow:"),placeholder:p("chooseAnItem","Choose an item"),invalid:!!E.approvalFlowUuid,selectedId:A.approvalFlowUuid,selectedText:A.approvalFlowName,invalidText:E.approvalFlowUuid&&(null==E||null===(c=E.approvalFlowUuid)||void 0===c?void 0:c.message)}),!b&&l().createElement(ke.gf6,{value:A.approvalFlowName,readOnly:!0,labelText:p("laboratoryApprovalFlow","Approval Flow:")})),b&&l().createElement(l().Fragment,null,l().createElement(ke.WCx,{className:"clear-margin-bottom",legendText:p("laboratoryTestEnable","Enable Test?:"),title:p("laboratoryTestEnable","Enable Test?:")},l().createElement(vd,{control:w,name:"enabled",defaultSelected:A.enabled,controllerName:"enabled",legendText:"",invalid:!!E.enabled,onChange:function(e){},invalidText:E.enabled&&(null==E||null===(u=E.enabled)||void 0===u?void 0:u.message),options:dd})),E.enabled&&(null==E||null===(d=E.enabled)||void 0===d?void 0:d.message)&&l().createElement("div",{className:ud.errorText},p(null==E||null===(m=E.enabled)||void 0===m?void 0:m.message))),!b&&l().createElement(ke.gf6,{value:A.enabled?p("yes","Yes"):p("no","No"),readOnly:!0,labelText:p("laboratoryTestEnable","Enable Test?:")}))),l().createElement(ke._AC,null,l().createElement(ke.qaq,{disabled:T,onClick:function(){return Qe()},kind:"secondary"},p("cancel","Cancel")),l().createElement(ke.qaq,{onClick:C(S)},T?l().createElement(ke.kp8,null):p("save","Save"))))},xd=function(){var e=(0,He.useTranslation)().t,t=(0,o.useCallback)((function(){Ye(e("laboratoryTestConfigNewTest","New Test Configuration"),l().createElement(Nd,{model:{}}))}),[e]);return l().createElement(ke.qaq,{onClick:t,size:"md",kind:"primary"},e("laboratoryTestConfigAddNew","Add New"))};var Id=n(6168),Dd={};Dd.styleTagTransform=Ue(),Dd.setAttributes=qe(),Dd.insert=Be().bind(null,"head"),Dd.domAPI=De(),Dd.insertStyleElement=Fe(),xe()(Id.c,Dd);const Rd=Id.c&&Id.c.locals?Id.c.locals:void 0,Bd=function(e){var t=e.filterType,n=e.changeFilterType;return l().createElement(ke.OOm,{name:"is-active",defaultSelected:null!=t?t.toString():"",onChange:function(e){return n(0==e.length?null:"true"==e)},className:Rd.spacing},l().createElement(ke.OUg,{labelText:"All",value:"",id:"is-active-all"}),l().createElement(ke.OUg,{labelText:"Active",value:"true",id:"is-active-active"}),l().createElement(ke.OUg,{labelText:"Disabled",value:"false",id:"is-active-disabled"}))};function Pd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var jd=n(8624),Fd={};Fd.styleTagTransform=Ue(),Fd.setAttributes=qe(),Fd.insert=Be().bind(null,"head"),Fd.domAPI=De(),Fd.insertStyleElement=Fe(),xe()(jd.c,Fd);const Ld=jd.c&&jd.c.locals?jd.c.locals:void 0;function Ud(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zd(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function Md(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ud(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ud(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Gd=function(){var e,t=(0,He.useTranslation)().t,n=Md((0,o.useState)(!1),2),a=n[0],i=n[1],c=Md((0,o.useState)(),2),u=c[0],d=c[1],m=Md((0,o.useState)(!0),2),A=m[0],p=m[1],_=Md((0,o.useState)(!0),2),v=(_[0],_[1]),f=Md((0,o.useState)(!1),2),b=f[0],g=f[1],y=Md((0,o.useState)(),2),h=y[0],C=y[1];return l().createElement(l().Fragment,null,l().createElement(ke.aUI,{className:ud.modalBody},l().createElement("section",{className:ud.section},b&&l().createElement("div",null,l().createElement("div",null,"Test configurations created: ",l().createElement("b",null,null==h?void 0:h.createdCount)," ","Updated: ",l().createElement("b",null,null==h?void 0:h.updatedCount)," Not Changed:"," ",l().createElement("b",null,null==h?void 0:h.notChangedCount)),l().createElement("div",{className:ud.errorText},(null==h?void 0:h.errors)&&l().createElement(l().Fragment,null,l().createElement("ul",null,null==h?void 0:h.errors.map((function(e){return l().createElement("li",null,e)})))),(null==h?void 0:h.hasErrorFile)&&h.uploadSessionId&&l().createElement("div",null,"Click"," ",l().createElement("a",{rel:"noreferrer",href:(e=h.uploadSessionId,"".concat(s).concat(r.restBaseUrl,"/labmanagement/test-config-import?id=").concat(e)),target:"_blank"},"here")," ","to access the error log file."))),l().createElement(ke.ySg,{accept:[".csv"],multiple:!1,name:"file",buttonLabel:"Select file",labelDescription:"Only .csv files at 2mb or less",filenameStatus:"edit",labelTitle:"",size:"small",onChange:function(e){var t,n,r=null==e||null===(n=e.target)||void 0===n||null===(t=n.files)||void 0===t?void 0:t[0];r?(d(r),v(!1)):e.preventDefault()},onDelete:function(){v(!0)}}),l().createElement(ke.WCx,{className:"clear-margin-bottom",legendText:t("laboratoryTestImportHasHeader","Does the csv file include headers?"),title:t("laboratoryTestImportHasHeader","Does the csv file include headers?")},l().createElement(ke.OOm,{name:"hasHeader",defaultSelected:"true",legendText:"",onChange:function(e,t,n){p("true"===e)}},l().createElement(ke.OUg,{value:"true",id:"hasHeader-true",labelText:t("yes","Yes")}),l().createElement(ke.OUg,{value:"false",id:"hasHeader-false",labelText:t("no","No")}))),l().createElement("div",null,"Download"," ",l().createElement("a",{rel:"noreferrer",href:W,target:"_blank"},"template")))),l().createElement(ke._AC,null,l().createElement(ke.qaq,{disabled:a,onClick:function(){return Qe()},kind:"secondary"},t("cancel","Cancel")),l().createElement(ke.qaq,{onClick:function(){if(u){g(!1);var e=new FormData;u&&(e.append("file",u,"Import_Test_Configurations.csv"),e.append("hasHeader",A?"true":"false")),function(e){return Zn.apply(this,arguments)}(e).then(function(){var e,n=(e=function(e){var n;return function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,(function(a){switch(a.label){case 0:return zn(V),[4,e.json()];case 1:return n=a.sent(),C(n),i(!1),n.success?((0,r.showSnackbar)({isLowContrast:!0,title:t("laboratoryUploadedTestConfiguration","Uploaded Test Configuration"),kind:"success",subtitle:t("laboratoryUploadedTestConfigurationSuccess","Test Configuration Uploaded Successfully")}),Qe()):g(!0),[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){zd(o,r,a,l,i,"next",e)}function i(e){zd(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(e){return n.apply(this,arguments)}}(),(function(e){zn(V),i(!1),(0,r.showNotification)({title:t("laboratoryUploadTestConfigurationError","Error uploading test configurations"),kind:"error",critical:!0,description:null==e?void 0:e.message})}))}}},a?l().createElement(ke.kp8,null):t("laboratoryUploadTests","Upload Tests"))))},Hd=function(){var e=(0,He.useTranslation)().t,t=(0,o.useCallback)((function(){Ye(e("laboratoryTestConfigImportTest","Import Test Configuration"),l().createElement(Gd,null))}),[e]);return l().createElement(ke.qaq,{kind:"ghost",onClick:t,iconDescription:e("import","Import")},e("import","Import"))},Jd=function(e){var t,n=e.data,r=e.className,a=(0,He.useTranslation)().t;return l().createElement(ke.qaq,{className:r,kind:"ghost",size:"md",onClick:function(){Ye(a("laboratoryTestConfigEditTest","Edit Test Configuration"),l().createElement(Nd,{model:n}))},iconDescription:a("laboratoryTestConfigEdit","Edit Test")},null!==(t=null==n?void 0:n.testName)&&void 0!==t?t:"",(null==n?void 0:n.testShortName)?" (".concat(null==n?void 0:n.testShortName,")"):"")};function Wd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Vd(e,t,n[t])}))}return e}function Qd(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Kd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Wd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wd(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Zd=function(){var e=(0,He.useTranslation)().t,t=Kd((0,o.useState)(""),2),n=t[0],a=t[1],i=(0,r.useSession)(),s=Kd((0,o.useState)(!1),2),c=s[0],u=s[1];(0,o.useEffect)((function(){u((null==i?void 0:i.user)&&(0,r.userHasAccess)(Jt,i.user))}),[]);var d=function(e){(0,He.useTranslation)().t;var t,n=qd((0,o.useState)(null),2),a=n[0],l=n[1],i=qd((0,o.useState)(10),2),s=i[0],c=i[1],u=qd((0,o.useState)(),2),d=u[0],m=u[1],A=qd((0,o.useState)(!1),2),p=A[0],_=A[1],v=qd((0,o.useState)({v:e||gt.Default,q:null,totalCount:!0}),2),f=v[0],b=v[1],g=Yn(f),y=g.items,h=g.isLoading,C=g.isError,w=g.isValidating,E=(0,r.usePagination)(y.results,s);return(0,o.useEffect)((function(){b({q:a,totalCount:!0,active:d,v:gt.Default})}),[a,d]),(0,o.useEffect)((function(){!p&&h&&_(!0)}),[h,p]),{items:null!==(t=null==y?void 0:y.results)&&void 0!==t?t:[],currentPageSize:s,setPageSize:c,pagination:E,totalCount:y.totalCount,pageSizes:[10,20,30,40,50],isLoading:h,isValidating:w,isError:C,isActive:d,setActive:function(e){m(e)},setSearchString:l,loaded:p}}(gt.Default),m=(d.items,d.isLoading),A=d.totalCount,p=d.pageSizes,_=d.isActive,v=d.setActive,f=d.setSearchString,b=(d.isValidating,d.setPageSize),g=d.currentPageSize,y=d.loaded,h=d.pagination,C=h.goTo,w=h.results,E=h.currentPage,S=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){return f(e)}),300)}),[f]),k=(0,o.useMemo)((function(){return[{id:0,header:e("laboratoryTestName","Test Name"),key:"testName"},{id:1,header:e("laboratoryTestGroup","Group"),key:"testGroupName"},{id:2,header:e("laboratoryTestRequireApproval","Requires Approval"),key:"requireApproval"},{id:3,header:e("laboratoryTestApprovalFlow","Approval Flow"),key:"approvalFlowName"},{id:4,header:e("laboratoryTestActive","Active"),key:"enabled"},{id:5,key:"actions",header:"Actions"}]}),[e]),T=(0,o.useMemo)((function(){return null==w?void 0:w.map((function(t,n){var r;return Qd(Yd({},t),{id:null==t?void 0:t.uuid,key:"key-".concat(null==t?void 0:t.uuid),uuid:"".concat(null==t?void 0:t.uuid),testGroupName:null==t?void 0:t.testGroupName,testName:l().createElement(Jd,{data:t,className:Ld.testName}),requireApproval:(null==t?void 0:t.requireApproval)?e("yes","Yes"):e("no","No"),approvalFlowName:null!==(r=null==t?void 0:t.approvalFlowName)&&void 0!==r?r:"N/A",enabled:(null==t?void 0:t.enabled)?e("yes","Yes"):e("no","No"),actions:c?l().createElement(ke.o5h,{align:"bottom",label:"Edit Test Configuration"},l().createElement(ke.qaq,{kind:"ghost",size:"md",onClick:function(){Ye(e("laboratoryTestConfigEditTest","Edit Test Configuration"),l().createElement(Nd,{model:t}))},iconDescription:e("editTestConfig","Edit Test Configuration"),renderIcon:function(e){return l().createElement(_o._O,Yd({size:16},e))}})):l().createElement(l().Fragment,null)})}))}),[w,e,c]);return m&&!y?l().createElement(ke.m2V,{role:"progressbar"}):l().createElement(l().Fragment,null,l().createElement(ke.Gke,null,e("laboratoryTestConfigPanelDescription","Laboratory Tests Configuration.")),l().createElement(ke.iSL,{rows:T,headers:k,isSortable:!1,useZebraStyles:!0,render:function(t){var o=t.rows,i=t.headers,s=t.getHeaderProps,u=t.getTableProps,d=t.getRowProps,m=t.getBatchActionProps;return l().createElement(ke._tR,{className:Ld.tableContainer},l().createElement(ke.MBp,{style:{position:"static",margin:0}},l().createElement(ke.a_I,m()),l().createElement(ke.aGn,{style:{display:"flex",alignItems:"center"}},l().createElement(ke.OWJ,{persistent:!0,value:n,onChange:function(e){return t=e.target.value,a(t),void S(t);var t}}),l().createElement(Bd,{filterType:_,changeFilterType:v}),c&&l().createElement(l().Fragment,null,l().createElement(Hd,null),l().createElement(xd,null)))),l().createElement(ke.oJK,u(),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,i.map((function(e){var t,n;return"details"!==e.key&&l().createElement(ke.IEe,Qd(Yd({},s({header:e,isSortable:!1})),{className:r.isDesktop?Ld.desktopHeader:Ld.tabletHeader,key:"".concat(e.key),isSortable:"name"!==e.key}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})),l().createElement(ke.IEe,null))),l().createElement(ke.qqV,null,o.map((function(e){return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.CGA,Qd(Yd({className:r.isDesktop?Ld.desktopRow:Ld.tabletRow},d({row:e})),{key:e.id}),e.cells.map((function(e){var t;return"details"!==(null==e||null===(t=e.info)||void 0===t?void 0:t.header)&&l().createElement(ke.y6P,{key:e.id},e.value)}))))})))),0===o.length?l().createElement("div",{className:Ld.tileContainer},l().createElement(ke.g$J,{className:Ld.tile},l().createElement("div",{className:Ld.tileContent},l().createElement("p",{className:Ld.content},e("noTestConfigsToDisplay","No test configurations to display")),l().createElement("p",{className:Ld.helper},e("checkFilters","Check the filters above"))))):null)}}),l().createElement(ke.eML,{page:E,pageSize:g,pageSizes:p,totalItems:null!=A?A:0,onChange:function(e){var t=e.page,n=e.pageSize;n!==g&&b(n),t!==E&&C(t)},className:Ld.paginationOverride}))};var Xd=n(1060),$d={};$d.styleTagTransform=Ue(),$d.setAttributes=qe(),$d.insert=Be().bind(null,"head"),$d.domAPI=De(),$d.insertStyleElement=Fe(),xe()(Xd.c,$d);const em=Xd.c&&Xd.c.locals?Xd.c.locals:void 0;var tm=[{label:"Yes",value:!0},{label:"No",value:!1}],nm=Gl.z.object({name:Gl.z.string().max(100),systemName:Gl.z.string().max(50),levelOneUuid:Gl.z.string(),levelOneAllowOwner:Gl.z.boolean(),levelTwoUuid:Gl.z.string().nullish(),levelTwoAllowOwner:Gl.z.boolean(),levelThreeUuid:Gl.z.string().nullish(),levelThreeAllowOwner:Gl.z.boolean(),levelFourUuid:Gl.z.string().nullish(),levelFourAllowOwner:Gl.z.boolean(),levelTwoAllowPrevious:Gl.z.boolean(),levelThreeAllowPrevious:Gl.z.boolean(),levelFourAllowPrevious:Gl.z.boolean(),uuid:Gl.z.string().nullish()});function rm(e){var t="".concat(oe).concat(Ct(e)),n=(0,Et.cp)(t,St,{revalidateOnFocus:!1}),r=n.data,a=n.error,o=n.isLoading,l=n.isValidating;return{items:(null==r?void 0:r.data)||{},isLoading:o,isError:a,isValidating:l}}function am(e){return St(oe,{method:"POST",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal,body:{approvalTitle:e.approvalTitle,privilege:e.privilege,pendingStatus:e.pendingStatus,returnedStatus:e.returnedStatus,rejectedStatus:e.rejectedStatus,approvedStatus:e.approvedStatus}})}function om(e){return St("".concat(oe,"/").concat(e.uuid),{method:"POST",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal,body:{approvalTitle:e.approvalTitle,privilege:e.privilege,pendingStatus:e.pendingStatus,returnedStatus:e.returnedStatus,rejectedStatus:e.rejectedStatus,approvedStatus:e.approvedStatus}})}function lm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function im(e){return function(e){if(Array.isArray(e))return lm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return lm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lm(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const sm=function(e){var t=rm({}),n=t.items.results;return t.isLoading?l().createElement(ke.Qrc,null):l().createElement(Wo.Mc,{name:e.controllerName,control:e.control,render:function(t){var r,a=t.field.onChange;return l().createElement(ke.Q1m,{titleText:e.title,name:e.name,control:e.control,controllerName:e.controllerName,id:"".concat(e.name,"-").concat(e.idSuffix),size:"md",items:e.selectedId?im((null==n?void 0:n.some((function(t){return t.uuid===e.selectedId})))?[]:[{uuid:e.selectedId,approvalTitle:e.selectedText}]).concat(im(null!=n?n:[])):n||[],onChange:function(t){var n,r;null===(n=e.onChange)||void 0===n||n.call(e,null==t?void 0:t.selectedItem),a(null==t||null===(r=t.selectedItem)||void 0===r?void 0:r.uuid)},initialSelectedItem:e.selectedId?null!==(r=null==n?void 0:n.find((function(t){return t.uuid===e.selectedId})))&&void 0!==r?r:{uuid:e.selectedId,approvalTitle:e.selectedText}:null,itemToString:function(e){return e&&(null==e?void 0:e.approvalTitle)?"".concat(null==e?void 0:e.approvalTitle):""},shouldFilterItem:function(){return!0},placeholder:e.placeholder,invalid:e.invalid,invalidText:e.invalidText})}})};function cm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function um(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function dm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){dm(e,t,n[t])}))}return e}function Am(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const pm=function(e){var t,n,a,i,s,c,u,d,m,A,p,_,v,f,b,g,y,h,C,w=e.model,E=(0,He.useTranslation)().t,S=(0,r.useSession)(),k=Am((0,o.useState)(!Boolean(null==w?void 0:w.uuid)),1)[0],T=Am((0,o.useState)(k),2),O=T[0],N=T[1];(0,o.useEffect)((function(){N((null==S?void 0:S.user)&&(0,r.userHasAccess)(Jt,S.user))}),[]);var x,I,D,R,B,P,q,j,F=(0,Wo.aS)({defaultValues:mm({},null!=w?w:{},{levelTwoAllowOwner:null!==(f=null==w?void 0:w.levelTwoAllowOwner)&&void 0!==f&&f,levelThreeAllowOwner:null!==(b=null==w?void 0:w.levelThreeAllowOwner)&&void 0!==b&&b,levelFourAllowOwner:null!==(g=null==w?void 0:w.levelFourAllowOwner)&&void 0!==g&&g,levelTwoAllowPrevious:null!==(y=null==w?void 0:w.levelTwoAllowPrevious)&&void 0!==y&&y,levelThreeAllowPrevious:null!==(h=null==w?void 0:w.levelThreeAllowPrevious)&&void 0!==h&&h,levelFourAllowPrevious:null!==(C=null==w?void 0:w.levelFourAllowPrevious)&&void 0!==C&&C}),mode:"all",resolver:(0,Ml.C)(nm)}),L=F.handleSubmit,U=F.control,z=F.formState,M=F.watch,G=z.errors,H=M("levelTwoUuid"),J=M("levelThreeUuid"),W=M("levelFourUuid"),V=function(){var e,t=(e=function(e){var t,n,a,o;return function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),K(!0),[4,(k?yd:hd)(e)];case 1:return t=l.sent(),zn(ae),(null==t?void 0:t.data)&&((0,r.showSnackbar)({isLowContrast:!0,title:k?E("laboratoryAddApprovalFlow","Add Approval Flow"):E("laboratoryEditApprovalFlow","Edit Approval Flow"),kind:"success",subtitle:k?E("laboratoryAddApprovalFlowSuccess","Approval Flow Added Successfully"):E("laboratoryEditApprovalFlowSuccess","Approval Flow Edited Successfully"),autoClose:!0}),Qe()),[3,3];case 2:return n=l.sent(),K(!1),(0,r.showNotification)({title:k?E("laboratoryAddApprovalFlowurationError","Error adding a approval flow"):E("laboratoryEditApprovalFlowurationError","Error editing a approval flow"),kind:"error",critical:!0,description:null==n||null===(o=n.responseBody)||void 0===o||null===(a=o.error)||void 0===a?void 0:a.message}),[3,3];case 3:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){um(o,r,a,l,i,"next",e)}function i(e){um(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}(),Y=Am((0,o.useState)(!1),2),Q=Y[0],K=Y[1];return l().createElement("form",null,l().createElement(ke.aUI,{className:em.modalBody},l().createElement("section",{className:em.section},l().createElement(_i,{readOnly:!O,id:"name",name:"name",control:U,controllerName:"name",maxLength:100,size:"md",value:"".concat(null!==(x=null==w?void 0:w.name)&&void 0!==x?x:""),labelText:E("laboratoryApprovalFlowName","Name:"),helperText:E("laboratoryApprovalFlowNameHelpText","Friendly name of this approval flow"),invalid:!!G.name,invalidText:G.name&&(null==G||null===(t=G.name)||void 0===t?void 0:t.message)}),l().createElement(_i,{readOnly:!O,id:"systemName",name:"systemName",control:U,controllerName:"systemName",maxLength:100,size:"md",value:"".concat(null!==(I=null==w?void 0:w.systemName)&&void 0!==I?I:""),labelText:E("laboratoryApprovalFlowSystemName","System Name:"),helperText:E("laboratoryApprovalFlowSystemNameHelpText","Reference name used in the test configurations import file"),invalid:!!G.systemName,invalidText:G.systemName&&(null==G||null===(n=G.systemName)||void 0===n?void 0:n.message)}),O&&l().createElement(sm,{selectedId:w.levelOneUuid,selectedText:w.levelOneApprovalTitle,controllerName:"levelOneUuid",name:"levelOneUuid",control:U,title:E("laboratoryApprovalFlowEditLevelOne","Level One:"),placeholder:E("chooseAnItem","Choose Approval"),invalid:!!G.levelOneUuid,invalidText:G.levelOneUuid&&(null==G||null===(a=G.levelOneUuid)||void 0===a?void 0:a.message)}),!O&&l().createElement(ke.gf6,{value:w.levelOneApprovalTitle,readOnly:!0,labelText:E("laboratoryApprovalFlowEditLevelOne","Level One:")}),O&&l().createElement(ke.WCx,{className:"clear-margin-bottom",legendText:E("laboratoryApprovalFlowEditLevelOneAllowOwner","Level One: Owner Can Approve"),title:E("laboratoryApprovalFlowEditLevelOneAllowOwner","Level One: Owner Can Approve")},l().createElement(vd,{control:U,defaultSelected:w.levelOneAllowOwner,name:"levelOneAllowOwner",controllerName:"levelOneAllowOwner",legendText:"",invalid:!!G.levelOneAllowOwner,onChange:function(e){},invalidText:G.levelOneAllowOwner&&(null==G||null===(i=G.levelOneAllowOwner)||void 0===i?void 0:i.message),options:tm})),!O&&l().createElement(ke.gf6,{value:w.levelOneAllowOwner?E("yes","Yes"):E("no","No"),readOnly:!0,labelText:E("laboratoryApprovalFlowEditLevelOneAllowOwner","Level One: Owner Can Approve")}),O&&l().createElement(sm,{selectedId:w.levelTwoUuid,selectedText:w.levelTwoApprovalTitle,controllerName:"levelTwoUuid",name:"levelTwoUuid",control:U,title:E("laboratoryApprovalFlowEditLevelTwo","Level Two:"),placeholder:E("notApplicable","Not Applicable"),invalid:!!G.levelTwoUuid,invalidText:G.levelTwoUuid&&(null==G||null===(s=G.levelTwoUuid)||void 0===s?void 0:s.message)}),!O&&l().createElement(ke.gf6,{value:w.levelTwoApprovalTitle,readOnly:!0,labelText:E("laboratoryApprovalFlowEditLevelTwo","Level Two:")}),H&&l().createElement("div",{className:em.approvalLevelOptions},O&&l().createElement(ke.WCx,{className:"clear-margin-bottom",legendText:E("laboratoryApprovalFlowEditLevelTwoAllowOwner","Level Two: Owner Can Approve"),title:E("laboratoryApprovalFlowEditLevelTwoAllowOwner","Level Two: Owner Can Approve")},l().createElement(vd,{control:U,defaultSelected:null!==(D=w.levelTwoAllowOwner)&&void 0!==D&&D,name:"levelTwoAllowOwner",controllerName:"levelTwoAllowOwner",legendText:"",invalid:!!G.levelTwoAllowOwner,onChange:function(e){},invalidText:G.levelTwoAllowOwner&&(null==G||null===(c=G.levelTwoAllowOwner)||void 0===c?void 0:c.message),options:tm})),!O&&l().createElement(ke.gf6,{value:w.levelTwoAllowOwner?E("yes","Yes"):E("no","No"),readOnly:!0,labelText:E("laboratoryApprovalFlowEditLevelTwoAllowOwner","Level Two: Owner Can Approve")}),O&&l().createElement(ke.WCx,{className:"clear-margin-bottom",legendText:E("laboratoryApprovalFlowEditLevelTwoAllowPrevious","Level Two: Previous Approver Can Approve"),title:E("laboratoryApprovalFlowEditLevelTwoAllowPrevious","Level Two: Previous Approver Can Approve")},l().createElement(vd,{control:U,defaultSelected:null!==(R=w.levelTwoAllowPrevious)&&void 0!==R&&R,name:"levelTwoAllowPrevious",controllerName:"levelTwoAllowPrevious",legendText:"",invalid:!!G.levelTwoAllowPrevious,onChange:function(e){},invalidText:G.levelTwoAllowPrevious&&(null==G||null===(u=G.levelTwoAllowPrevious)||void 0===u?void 0:u.message),options:tm})),!O&&l().createElement(ke.gf6,{value:w.levelTwoAllowPrevious?E("yes","Yes"):E("no","No"),readOnly:!0,labelText:E("laboratoryApprovalFlowEditLevelTwoAllowPrevious","Level Two: Previous Approver Can Approve")})),O&&l().createElement(sm,{selectedId:w.levelThreeUuid,selectedText:w.levelThreeApprovalTitle,controllerName:"levelThreeUuid",name:"levelThreeUuid",control:U,title:E("laboratoryApprovalFlowEditLevelThree","Level Three:"),placeholder:E("notApplicable","Not Applicable"),invalid:!!G.levelThreeUuid,invalidText:G.levelThreeUuid&&(null==G||null===(d=G.levelThreeUuid)||void 0===d?void 0:d.message)}),!O&&l().createElement(ke.gf6,{value:w.levelThreeApprovalTitle,readOnly:!0,labelText:E("laboratoryApprovalFlowEditLevelThree","Level Three:")}),J&&l().createElement("div",{className:em.approvalLevelOptions},O&&l().createElement(ke.WCx,{className:"clear-margin-bottom",legendText:E("laboratoryApprovalFlowEditLevelThreeAllowOwner","Level Three: Owner Can Approve"),title:E("laboratoryApprovalFlowEditLevelThreeAllowOwner","Level Three: Owner Can Approve")},l().createElement(vd,{control:U,defaultSelected:null!==(B=w.levelThreeAllowOwner)&&void 0!==B&&B,name:"levelThreeAllowOwner",controllerName:"levelThreeAllowOwner",legendText:"",invalid:!!G.levelThreeAllowOwner,onChange:function(e){},invalidText:G.levelThreeAllowOwner&&(null==G||null===(m=G.levelThreeAllowOwner)||void 0===m?void 0:m.message),options:tm})),!O&&l().createElement(ke.gf6,{value:w.levelThreeAllowOwner?E("yes","Yes"):E("no","No"),readOnly:!0,labelText:E("laboratoryApprovalFlowEditLevelThreeAllowOwner","Level Three: Owner Can Approve")}),O&&l().createElement(ke.WCx,{className:"clear-margin-bottom",legendText:E("laboratoryApprovalFlowEditLevelThreeAllowPrevious","Level Three: Previous Approver Can Approve"),title:E("laboratoryApprovalFlowEditLevelThreeAllowPrevious","Level Three: Previous Approver Can Approve")},l().createElement(vd,{control:U,defaultSelected:null!==(P=w.levelThreeAllowPrevious)&&void 0!==P&&P,name:"levelThreeAllowPrevious",controllerName:"levelThreeAllowPrevious",legendText:"",invalid:!!G.levelThreeAllowPrevious,onChange:function(e){},invalidText:G.levelThreeAllowPrevious&&(null==G||null===(A=G.levelThreeAllowPrevious)||void 0===A?void 0:A.message),options:tm})),!O&&l().createElement(ke.gf6,{value:w.levelThreeAllowPrevious?E("yes","Yes"):E("no","No"),readOnly:!0,labelText:E("laboratoryApprovalFlowEditLevelThreeAllowPrevious","Level Three: Previous Approver Can Approve")})),O&&l().createElement(sm,{selectedId:w.levelFourUuid,selectedText:w.levelFourApprovalTitle,controllerName:"levelFourUuid",name:"levelFourUuid",control:U,title:E("laboratoryApprovalFlowEditLevelFour","Level Four:"),placeholder:E("notApplicable","Not Applicable"),invalid:!!G.levelFourUuid,invalidText:G.levelFourUuid&&(null==G||null===(p=G.levelFourUuid)||void 0===p?void 0:p.message)}),!O&&l().createElement(ke.gf6,{value:w.levelFourApprovalTitle,readOnly:!0,labelText:E("laboratoryApprovalFlowEditLevelFour","Level Four:")}),W&&l().createElement("div",{className:em.approvalLevelOptions},O&&l().createElement(ke.WCx,{className:"clear-margin-bottom",legendText:E("laboratoryApprovalFlowEditLevelFourAllowOwner","Level Four: Owner Can Approve"),title:E("laboratoryApprovalFlowEditLevelFourAllowOwner","Level Four: Owner Can Approve")},l().createElement(vd,{control:U,defaultSelected:null!==(q=w.levelFourAllowOwner)&&void 0!==q&&q,name:"levelFourAllowOwner",controllerName:"levelFourAllowOwner",legendText:"",invalid:!!G.levelFourAllowOwner,onChange:function(e){},invalidText:G.levelFourAllowOwner&&(null==G||null===(_=G.levelFourAllowOwner)||void 0===_?void 0:_.message),options:tm})),!O&&l().createElement(ke.gf6,{value:w.levelFourAllowOwner?E("yes","Yes"):E("no","No"),readOnly:!0,labelText:E("laboratoryApprovalFlowEditLevelFourAllowOwner","Level Four: Owner Can Approve")}),O&&l().createElement(ke.WCx,{className:"clear-margin-bottom",legendText:E("laboratoryApprovalFlowEditLevelFourAllowPrevious","Level Four: Previous Approver Can Approve"),title:E("laboratoryApprovalFlowEditLevelFourAllowPrevious","Level Four: Previous Approver Can Approve")},l().createElement(vd,{control:U,defaultSelected:null!==(j=w.levelFourAllowPrevious)&&void 0!==j&&j,name:"levelFourAllowPrevious",controllerName:"levelFourAllowPrevious",legendText:"",invalid:!!G.levelFourAllowPrevious,onChange:function(e){},invalidText:G.levelFourAllowPrevious&&(null==G||null===(v=G.levelFourAllowPrevious)||void 0===v?void 0:v.message),options:tm})),!O&&l().createElement(ke.gf6,{value:w.levelFourAllowPrevious?E("yes","Yes"):E("no","No"),readOnly:!0,labelText:E("laboratoryApprovalFlowEditLevelFourAllowPrevious","Level Four: Previous Approver Can Approve")})))),l().createElement(ke._AC,null,l().createElement(ke.qaq,{disabled:Q,onClick:function(){return Qe()},kind:"secondary"},E("cancel","Cancel")),l().createElement(ke.qaq,{onClick:L(V)},Q?l().createElement(ke.kp8,null):E("save","Save"))))},_m=function(){var e=(0,He.useTranslation)().t,t=(0,o.useCallback)((function(){Ye(e("laboratoryApprovalFlowNew","New Approval Flow"),l().createElement(pm,{model:{levelOneAllowOwner:!1,levelTwoAllowOwner:!1,levelThreeAllowOwner:!1,levelFourAllowOwner:!1,levelTwoAllowPrevious:!1,levelThreeAllowPrevious:!1,levelFourAllowPrevious:!1}}))}),[e]);return l().createElement(ke.qaq,{onClick:t,size:"md",kind:"primary"},e("addNew","Add New"))};function vm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var bm=n(472),gm={};gm.styleTagTransform=Ue(),gm.setAttributes=qe(),gm.insert=Be().bind(null,"head"),gm.domAPI=De(),gm.insertStyleElement=Fe(),xe()(bm.c,gm);const ym=bm.c&&bm.c.locals?bm.c.locals:void 0,hm=function(e){var t=e.data,n=e.className,r=(0,He.useTranslation)().t;return l().createElement(ke.qaq,{className:n,kind:"ghost",size:"md",onClick:function(){Ye(r("laboratoryApprovalFlowEdit","Edit Approval Flow"),l().createElement(pm,{model:t}))},iconDescription:r("laboratoryApprovalFlowEdit","Edit Approval Flow")},null==t?void 0:t.name)};function Cm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Em(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){wm(e,t,n[t])}))}return e}function Sm(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function km(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Cm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Tm=function(){var e=(0,He.useTranslation)().t,t=km((0,o.useState)(""),2),n=t[0],a=t[1],i=(0,r.useSession)(),s=km((0,o.useState)(!1),2),c=s[0],u=s[1];(0,o.useEffect)((function(){u((null==i?void 0:i.user)&&(0,r.userHasAccess)(Ht,i.user))}),[]);var d=function(e){(0,He.useTranslation)().t;var t=fm((0,o.useState)(1),2),n=t[0],a=t[1],l=fm((0,o.useState)(10),2),i=l[0],s=l[1],c=fm((0,o.useState)(null),2),u=c[0],d=c[1],m=fm((0,o.useState)(),2),A=m[0],p=m[1],_=fm((0,o.useState)(!1),2),v=_[0],f=_[1],b=fm((0,o.useState)({startIndex:n-1,v:e||gt.Default,limit:10,q:null,totalCount:!0}),2),g=b[0],y=b[1],h=function(e){var t="".concat(ae).concat(Ct(e)),n=(0,Et.cp)(t,St,{revalidateOnFocus:!1}),r=n.data,a=n.error,o=n.isLoading,l=n.isValidating;return{items:(null==r?void 0:r.data)||{},isLoading:o,isError:a,isValidating:l}}(g),C=h.items,w=h.isLoading,E=h.isError,S=h.isValidating,k=(0,r.usePagination)(C.results,i);return(0,o.useEffect)((function(){y({startIndex:n-1,limit:i,q:u,totalCount:!0,v:gt.Default})}),[u,n,i,A]),(0,o.useEffect)((function(){!v&&w&&f(!0)}),[w,v]),{items:k.results,pagination:k,totalCount:C.totalCount,currentPageSize:i,currentPage:n,setCurrentPage:a,setPageSize:s,pageSizes:[10,20,30,40,50],isLoading:w,isValidating:S,isError:E,isActive:A,setActive:function(e){a(1),p(e)},setSearchString:d,loaded:v}}(gt.Default),m=d.isLoading,A=d.items,p=d.totalCount,_=d.currentPageSize,v=d.pageSizes,f=d.currentPage,b=d.setCurrentPage,g=d.setPageSize,y=(d.isActive,d.setActive,d.setSearchString),h=(d.isValidating,d.loaded),C=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){return y(e)}),300)}),[y]),w=(0,o.useMemo)((function(){return[{id:0,header:e("laboratoryApprovalFlowName","Name"),key:"name"},{id:1,header:e("laboratoryApprovalFlowSystemName","System Name"),key:"systemName"},{id:2,header:e("laboratoryApprovalFlowLevelOne","Level One"),key:"levelOneApprovalTitle"},{id:3,header:e("laboratoryApprovalFlowLevelTwo","Level Two"),key:"levelTwoApprovalTitle"},{id:4,header:e("laboratoryApprovalFlowLevelThree","Level Three"),key:"levelThreeApprovalTitle"},{id:5,header:e("laboratoryApprovalFlowLevelFour","Level Four"),key:"levelFourApprovalTitle"},{id:6,key:"actions",header:"Actions"}]}),[e]),E=(0,o.useMemo)((function(){return null==A?void 0:A.map((function(t,n){return Sm(Em({},t),{id:null==t?void 0:t.uuid,key:"key-".concat(null==t?void 0:t.uuid),uuid:"".concat(null==t?void 0:t.uuid),name:c?l().createElement(hm,{data:t,className:ym.approvalFlowName}):t.name,systemName:null==t?void 0:t.systemName,levelOneApprovalTitle:l().createElement("div",{className:ym.approvalLevel},l().createElement("span",null,null==t?void 0:t.levelOneApprovalTitle),l().createElement("span",{className:(null==t?void 0:t.levelOneAllowOwner)?ym.approvalAllow:ym.approvalCrossOut},e("laboratoryApprovalFlowAllowOwner","Owner Can Approve"))),levelTwoApprovalTitle:(null==t?void 0:t.levelTwoUuid)?l().createElement("div",{className:ym.approvalLevel},l().createElement("span",null,null==t?void 0:t.levelTwoApprovalTitle),l().createElement("span",{className:(null==t?void 0:t.levelTwoAllowOwner)?ym.approvalAllow:ym.approvalCrossOut},e("laboratoryApprovalFlowAllowOwner","Owner Can Approve")),l().createElement("span",{className:(null==t?void 0:t.levelTwoAllowPrevious)?ym.approvalAllow:ym.approvalCrossOut},e("laboratoryApprovalFlowAllowPrevious","Previous Approver Can Approve"))):e("NA","N/A"),levelThreeApprovalTitle:(null==t?void 0:t.levelThreeUuid)?l().createElement("div",{className:ym.approvalLevel},l().createElement("span",null,null==t?void 0:t.levelThreeApprovalTitle),l().createElement("span",{className:(null==t?void 0:t.levelThreeAllowOwner)?ym.approvalAllow:ym.approvalCrossOut},e("laboratoryApprovalFlowAllowOwner","Owner Can Approve")),l().createElement("span",{className:(null==t?void 0:t.levelThreeAllowPrevious)?ym.approvalAllow:ym.approvalCrossOut},e("laboratoryApprovalFlowAllowPrevious","Previous Approver Can Approve"))):e("NA","N/A"),levelFourApprovalTitle:(null==t?void 0:t.levelFourUuid)?l().createElement("div",{className:ym.approvalLevel},l().createElement("span",null,null==t?void 0:t.levelFourApprovalTitle),l().createElement("span",{className:(null==t?void 0:t.levelFourAllowOwner)?ym.approvalAllow:ym.approvalCrossOut},e("laboratoryApprovalFlowAllowOwner","Owner Can Approve")),l().createElement("span",{className:(null==t?void 0:t.levelFourAllowPrevious)?ym.approvalAllow:ym.approvalCrossOut},e("laboratoryApprovalFlowAllowPrevious","Previous Approver Can Approve"))):e("NA","N/A"),actions:c?l().createElement(ke.o5h,{align:"bottom",label:"Edit Approval Flow"},l().createElement(ke.qaq,{kind:"ghost",size:"md",onClick:function(){Ye(e("laboratoryApprovalFlowEditTest","Edit Approval Flow"),l().createElement(pm,{model:t}))},iconDescription:e("editApprovalFlow","Edit Approval Flow"),renderIcon:function(e){return l().createElement(_o._O,Em({size:16},e))}})):l().createElement(l().Fragment,null)})}))}),[A,e,c]);return m&&!h?l().createElement(ke.m2V,{role:"progressbar"}):l().createElement(l().Fragment,null,l().createElement(ke.Gke,null,e("laboratoryApprovalFlowPanelDescription","Laboratory Approval Flows")),l().createElement(ke.iSL,{rows:E,headers:w,isSortable:!0,useZebraStyles:!0,render:function(t){var o=t.rows,i=t.headers,s=t.getHeaderProps,u=t.getTableProps,d=t.getRowProps,m=t.getBatchActionProps;return l().createElement(ke._tR,{className:ym.tableContainer},l().createElement(ke.MBp,{style:{position:"static",margin:0}},l().createElement(ke.a_I,m()),l().createElement(ke.aGn,{style:{display:"flex",alignItems:"center"}},l().createElement(ke.OWJ,{persistent:!0,value:n,onChange:function(e){return t=e.target.value,a(t),void C(t);var t}}),c&&l().createElement(l().Fragment,null,l().createElement(_m,null)))),l().createElement(ke.oJK,u(),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,i.map((function(e){var t,n;return"details"!==e.key&&l().createElement(ke.IEe,Sm(Em({},s({header:e,isSortable:e.isSortable})),{className:r.isDesktop?ym.desktopHeader:ym.tabletHeader,key:"".concat(e.key),isSortable:"name"!==e.key}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})),l().createElement(ke.IEe,null))),l().createElement(ke.qqV,null,o.map((function(e){return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.CGA,Sm(Em({className:r.isDesktop?ym.desktopRow:ym.tabletRow},d({row:e})),{key:e.id}),e.cells.map((function(e){var t;return"details"!==(null==e||null===(t=e.info)||void 0===t?void 0:t.header)&&l().createElement(ke.y6P,{key:e.id},e.value)}))))})))),0===o.length?l().createElement("div",{className:ym.tileContainer},l().createElement(ke.g$J,{className:ym.tile},l().createElement("div",{className:ym.tileContent},l().createElement("p",{className:ym.content},e("noApprovalFlowsToDisplay","No approval flows to display")),l().createElement("p",{className:ym.helper},e("checkFilters","Check the filters above"))))):null)}}),l().createElement(ke.eML,{page:f,pageSize:_,pageSizes:v,totalItems:null!=p?p:0,onChange:function(e){var t=e.page,n=e.pageSize;b(t),g(n)},className:ym.paginationOverride}))};var Om=n(7584),Nm={};Nm.styleTagTransform=Ue(),Nm.setAttributes=qe(),Nm.insert=Be().bind(null,"head"),Nm.domAPI=De(),Nm.insertStyleElement=Fe(),xe()(Om.c,Nm);const xm=Om.c&&Om.c.locals?Om.c.locals:void 0;var Im=Gl.z.object({approvalTitle:Gl.z.string().max(100),privilege:Gl.z.string().max(255),pendingStatus:Gl.z.string().max(100),returnedStatus:Gl.z.string().max(100),rejectedStatus:Gl.z.string().max(100),approvedStatus:Gl.z.string().max(100),uuid:Gl.z.string().nullish()});function Dm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rm(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function Bm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Dm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Pm=function(e){var t,n,a,i,s,c,u=e.model,d=(0,He.useTranslation)().t,m=(0,r.useSession)(),A=Bm((0,o.useState)(!Boolean(null==u?void 0:u.uuid)),1)[0],p=Bm((0,o.useState)(A),2),_=p[0],v=p[1];(0,o.useEffect)((function(){v((null==m?void 0:m.user)&&(0,r.userHasAccess)(Jt,m.user))}),[]);var f,b,g,y,h,C,w=(0,Wo.aS)({defaultValues:u,mode:"all",resolver:(0,Ml.C)(Im)}),E=w.handleSubmit,S=w.control,k=w.formState,T=(w.watch,k.errors),O=function(){var e,t=(e=function(e){var t,n,a,o;return function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),I(!0),[4,(A?am:om)(e)];case 1:return t=l.sent(),zn(oe),(null==t?void 0:t.data)&&((0,r.showSnackbar)({isLowContrast:!0,title:A?d("laboratoryAddApprovalConfig","Add Approval"):d("laboratoryEditApprovalConfig","Edit Approval"),kind:"success",subtitle:A?d("laboratoryAddApprovalConfigSuccess","Approval Added Successfully"):d("laboratoryEditApprovalConfigSuccess","Approval Edited Successfully")}),Qe()),[3,3];case 2:return n=l.sent(),I(!1),(0,r.showNotification)({title:A?d("laboratoryAddApprovalConfigurationError","Error adding approval"):d("laboratoryEditApprovalConfigurationError","Error editing a approval"),kind:"error",critical:!0,description:null==n||null===(o=n.responseBody)||void 0===o||null===(a=o.error)||void 0===a?void 0:a.message}),[3,3];case 3:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){Rm(o,r,a,l,i,"next",e)}function i(e){Rm(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}(),N=Bm((0,o.useState)(!1),2),x=N[0],I=N[1];return l().createElement("form",null,l().createElement(ke.aUI,{className:xm.modalBody},l().createElement("section",{className:xm.section},l().createElement(_i,{readOnly:!_,id:"approvalTitle",name:"approvalTitle",control:S,controllerName:"approvalTitle",maxLength:100,size:"md",value:"".concat(null!==(f=null==u?void 0:u.approvalTitle)&&void 0!==f?f:""),labelText:d("laboratoryApprovalConfigTitle","Approval Title:"),helperText:d("laboratoryApprovalConfigTitleHelpText","Functional name of the approval"),invalid:!!T.approvalTitle,invalidText:T.approvalTitle&&(null==T||null===(t=T.approvalTitle)||void 0===t?void 0:t.message)}),l().createElement(_i,{readOnly:!_,id:"privilege",name:"privilege",control:S,controllerName:"privilege",maxLength:255,size:"md",value:"".concat(null!==(b=null==u?void 0:u.privilege)&&void 0!==b?b:""),labelText:d("laboratoryApprovalConfigPrivilege","Privilege:"),helperText:d("laboratoryApprovalConfigPrivilegeHelpText","OpenMRS privilege name. Users with a role that has this privilege will be the ones able to approve."),invalid:!!T.privilege,invalidText:T.privilege&&(null==T||null===(n=T.privilege)||void 0===n?void 0:n.message)}),l().createElement(_i,{readOnly:!_,id:"pendingStatus",name:"pendingStatus",control:S,controllerName:"pendingStatus",maxLength:100,size:"md",value:"".concat(null!==(g=null==u?void 0:u.pendingStatus)&&void 0!==g?g:""),labelText:d("laboratoryApprovalConfigPendingStatus","Pending Status:"),helperText:d("laboratoryApprovalConfigPendingStatusHelpText","e.g. Pending Approval"),invalid:!!T.pendingStatus,invalidText:T.pendingStatus&&(null==T||null===(a=T.pendingStatus)||void 0===a?void 0:a.message)}),l().createElement(_i,{readOnly:!_,id:"returnedStatus",name:"returnedStatus",control:S,controllerName:"returnedStatus",maxLength:100,size:"md",value:"".concat(null!==(y=null==u?void 0:u.returnedStatus)&&void 0!==y?y:""),labelText:d("laboratoryApprovalConfigReturnedStatus","Returned Status:"),helperText:d("laboratoryApprovalConfigReturnedStatusHelpText","e.g. Returned By Supervisor"),invalid:!!T.returnedStatus,invalidText:T.returnedStatus&&(null==T||null===(i=T.returnedStatus)||void 0===i?void 0:i.message)}),l().createElement(_i,{readOnly:!_,id:"rejectedStatus",name:"rejectedStatus",control:S,controllerName:"rejectedStatus",maxLength:100,size:"md",value:"".concat(null!==(h=null==u?void 0:u.rejectedStatus)&&void 0!==h?h:""),labelText:d("laboratoryApprovalConfigRejectedStatus","Rejected Status:"),helperText:d("laboratoryApprovalConfigRejectedStatusHelpText","e.g. Rejected By Supervisor"),invalid:!!T.rejectedStatus,invalidText:T.rejectedStatus&&(null==T||null===(s=T.rejectedStatus)||void 0===s?void 0:s.message)}),l().createElement(_i,{readOnly:!_,id:"approvedStatus",name:"approvedStatus",control:S,controllerName:"approvedStatus",maxLength:100,size:"md",value:"".concat(null!==(C=null==u?void 0:u.approvedStatus)&&void 0!==C?C:""),labelText:d("laboratoryApprovalConfigApprovedStatus","Approved Status:"),helperText:d("laboratoryApprovalConfigApprovedStatusHelpText","e.g. Approved"),invalid:!!T.approvedStatus,invalidText:T.approvedStatus&&(null==T||null===(c=T.approvedStatus)||void 0===c?void 0:c.message)}))),l().createElement(ke._AC,null,l().createElement(ke.qaq,{disabled:x,onClick:function(){return Qe()},kind:"secondary"},d("cancel","Cancel")),l().createElement(ke.qaq,{onClick:E(O)},x?l().createElement(ke.kp8,null):d("save","Save"))))},qm=function(){var e=(0,He.useTranslation)().t,t=(0,o.useCallback)((function(){Ye(e("laboratoryApprovalConfigNew","New Approval"),l().createElement(Pm,{model:{}}))}),[e]);return l().createElement(ke.qaq,{onClick:t,size:"md",kind:"primary"},e("addNew","Add New"))};function jm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Lm=n(6120),Um={};Um.styleTagTransform=Ue(),Um.setAttributes=qe(),Um.insert=Be().bind(null,"head"),Um.domAPI=De(),Um.insertStyleElement=Fe(),xe()(Lm.c,Um);const zm=Lm.c&&Lm.c.locals?Lm.c.locals:void 0,Mm=function(e){var t=e.data,n=e.className,r=(0,He.useTranslation)().t;return l().createElement(ke.qaq,{className:n,kind:"ghost",size:"md",onClick:function(){Ye(r("laboratoryApprovalConfigEdit","Edit Approval"),l().createElement(Pm,{model:t}))},iconDescription:r("laboratoryApprovalConfigEdit","Edit Approval")},null==t?void 0:t.approvalTitle)};function Gm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Hm(e,t,n[t])}))}return e}function Wm(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Vm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Gm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Ym=function(){var e=(0,He.useTranslation)().t,t=Vm((0,o.useState)(""),2),n=t[0],a=t[1],i=(0,r.useSession)(),s=Vm((0,o.useState)(!1),2),c=s[0],u=s[1];(0,o.useEffect)((function(){u((null==i?void 0:i.user)&&(0,r.userHasAccess)(Ht,i.user))}),[]);var d=function(e){(0,He.useTranslation)().t;var t=Fm((0,o.useState)(1),2),n=t[0],a=t[1],l=Fm((0,o.useState)(10),2),i=l[0],s=l[1],c=Fm((0,o.useState)(null),2),u=c[0],d=c[1],m=Fm((0,o.useState)(),2),A=m[0],p=m[1],_=Fm((0,o.useState)(!1),2),v=_[0],f=_[1],b=Fm((0,o.useState)({startIndex:n-1,v:e||gt.Default,limit:10,q:null,totalCount:!0}),2),g=b[0],y=b[1],h=rm(g),C=h.items,w=h.isLoading,E=h.isError,S=h.isValidating,k=(0,r.usePagination)(C.results,i);return(0,o.useEffect)((function(){y({startIndex:n-1,limit:i,q:u,totalCount:!0,v:gt.Default})}),[u,n,i,A]),(0,o.useEffect)((function(){!v&&w&&f(!0)}),[w,v]),{items:k.results,pagination:k,totalCount:C.totalCount,currentPageSize:i,currentPage:n,setCurrentPage:a,setPageSize:s,pageSizes:[10,20,30,40,50],isLoading:w,isValidating:S,isError:E,isActive:A,setActive:function(e){a(1),p(e)},setSearchString:d,loaded:v}}(gt.Default),m=d.isLoading,A=d.items,p=d.totalCount,_=d.currentPageSize,v=d.pageSizes,f=d.currentPage,b=d.setCurrentPage,g=d.setPageSize,y=(d.isActive,d.setActive,d.setSearchString),h=(d.isValidating,d.loaded),C=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){return y(e)}),300)}),[y]),w=(0,o.useMemo)((function(){return[{id:0,header:e("laboratoryApprovalConfigTitle","Approval Title"),key:"approvalTitle"},{id:1,header:e("laboratoryApprovalConfigPrivilege","Privilege"),key:"privilege"},{id:2,header:e("laboratoryApprovalConfigPendingStatus","Pending Status"),key:"pendingStatus"},{id:3,header:e("laboratoryApprovalConfigReturnedStatus","Returned Status"),key:"returnedStatus"},{id:4,header:e("laboratoryApprovalConfigRejectedStatus","Rejected Status"),key:"rejectedStatus"},{id:5,header:e("laboratoryApprovalConfigApprovedStatus","Approved Status"),key:"approvedStatus"},{id:6,key:"actions",header:"Actions"}]}),[e]),E=(0,o.useMemo)((function(){return null==A?void 0:A.map((function(t,n){return Wm(Jm({},t),{id:null==t?void 0:t.uuid,key:"key-".concat(null==t?void 0:t.uuid),uuid:"".concat(null==t?void 0:t.uuid),approvalTitle:c?l().createElement(Mm,{data:t,className:zm.approvalConfigName}):t.approvalTitle,privilege:null==t?void 0:t.privilege,pendingStatus:null==t?void 0:t.pendingStatus,returnedStatus:null==t?void 0:t.returnedStatus,rejectedStatus:null==t?void 0:t.rejectedStatus,approvedStatus:null==t?void 0:t.approvedStatus,actions:c?l().createElement(ke.o5h,{align:"bottom",label:"Edit Approval"},l().createElement(ke.qaq,{kind:"ghost",size:"md",onClick:function(){Ye(e("laboratoryApprovalConfigEditTest","Edit Approval"),l().createElement(Pm,{model:t}))},iconDescription:e("editApprovalConfig","Edit Approval"),renderIcon:function(e){return l().createElement(_o._O,Jm({size:16},e))}})):l().createElement(l().Fragment,null)})}))}),[A,e,c]);return m&&!h?l().createElement(ke.m2V,{role:"progressbar"}):l().createElement(l().Fragment,null,l().createElement(ke.Gke,null,e("laboratoryApprovalConfigPanelDescription","Laboratory Approvals")),l().createElement(ke.iSL,{rows:E,headers:w,isSortable:!0,useZebraStyles:!0,render:function(t){var o=t.rows,i=t.headers,s=t.getHeaderProps,u=t.getTableProps,d=t.getRowProps,m=t.getBatchActionProps;return l().createElement(ke._tR,{className:zm.tableContainer},l().createElement(ke.MBp,{style:{position:"static",margin:0}},l().createElement(ke.a_I,m()),l().createElement(ke.aGn,{style:{display:"flex",alignItems:"center"}},l().createElement(ke.OWJ,{persistent:!0,value:n,onChange:function(e){return t=e.target.value,a(t),void C(t);var t}}),c&&l().createElement(l().Fragment,null,l().createElement(qm,null)))),l().createElement(ke.oJK,u(),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,i.map((function(e){var t,n;return"details"!==e.key&&l().createElement(ke.IEe,Wm(Jm({},s({header:e,isSortable:e.isSortable})),{className:r.isDesktop?zm.desktopHeader:zm.tabletHeader,key:"".concat(e.key),isSortable:"name"!==e.key}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})),l().createElement(ke.IEe,null))),l().createElement(ke.qqV,null,o.map((function(e){return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.CGA,Wm(Jm({className:r.isDesktop?zm.desktopRow:zm.tabletRow},d({row:e})),{key:e.id}),e.cells.map((function(e){var t;return"details"!==(null==e||null===(t=e.info)||void 0===t?void 0:t.header)&&l().createElement(ke.y6P,{key:e.id},e.value)}))))})))),0===o.length?l().createElement("div",{className:zm.tileContainer},l().createElement(ke.g$J,{className:zm.tile},l().createElement("div",{className:zm.tileContent},l().createElement("p",{className:zm.content},e("noApprovalConfigsToDisplay","No approval configs to display")),l().createElement("p",{className:zm.helper},e("checkFilters","Check the filters above"))))):null)}}),l().createElement(ke.eML,{page:f,pageSize:_,pageSizes:v,totalItems:null!=p?p:0,onChange:function(e){var t=e.page,n=e.pageSize;b(t),g(n)},className:zm.paginationOverride}))};var Qm=n(5964),Km={};Km.styleTagTransform=Ue(),Km.setAttributes=qe(),Km.insert=Be().bind(null,"head"),Km.domAPI=De(),Km.insertStyleElement=Fe(),xe()(Qm.c,Km);const Zm=Qm.c&&Qm.c.locals?Qm.c.locals:void 0;var Xm=[{label:"Yes",value:!0},{label:"No",value:!1}],$m=Gl.z.object({name:Gl.z.string().max(250).nullish(),useConcept:Gl.z.boolean().nullish().optional(),acronym:Gl.z.string().max(250),conceptUuid:Gl.z.string().nullish(),patientUuid:Gl.z.string().nullish(),referrerIn:Gl.z.boolean(),referrerOut:Gl.z.boolean(),enabled:Gl.z.boolean(),uuid:Gl.z.string().nullish()}).refine((function(e){var t=e.referrerIn,n=e.patientUuid;return!Boolean(t)||Boolean(n)}),{message:"Patient is required to be associated with this location if its accessing referrals from location",path:["patientUuid"]}).refine((function(e){var t=e.name;return e.useConcept||Boolean(t)}),{message:"Name is required",path:["name"]}).refine((function(e){var t=e.conceptUuid;return!e.useConcept||Boolean(t)}),{message:"Concept is required",path:["conceptUuid"]});function eA(e){var t="".concat(ie).concat(Ct(e)),n=(0,Et.cp)(t,St,{revalidateOnFocus:!1}),r=n.data,a=n.error,o=n.isLoading,l=n.isValidating;return{items:(null==r?void 0:r.data)||{},isLoading:o,isError:a,isValidating:l}}function tA(e){return St(ie,{method:"POST",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal,body:{referrerIn:e.referrerIn,referrerOut:e.referrerOut,enabled:e.enabled,conceptUuid:e.conceptUuid,patientUuid:e.patientUuid,name:e.name,acronym:e.acronym}})}function nA(e){return St("".concat(ie,"/").concat(e.uuid),{method:"POST",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal,body:{referrerIn:e.referrerIn,referrerOut:e.referrerOut,enabled:e.enabled,conceptUuid:e.conceptUuid,patientUuid:e.patientUuid,name:e.name,acronym:e.acronym}})}function rA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aA(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function oA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){oA(e,t,n[t])}))}return e}function iA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rA(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var sA=[{label:"Concept",value:!0},{label:"Manual",value:!1}];const cA=function(e){var t,n,a,i,s,c,u,d,m,A,p,_,v,f,b,g,y,h=e.model,C=(0,He.useTranslation)().t,w=(0,r.useSession)(),E=iA((0,o.useState)(!Boolean(null==h?void 0:h.uuid)),1)[0],S=iA((0,o.useState)(E),2),k=S[0],T=S[1],O=iA((0,o.useState)(E),2),N=O[0],x=O[1],I=rr().laboratoryConfig,D=(I.laboratoryTestGroupConcept,I.laboratoryReferalDestinationUuid),R=I.laboratoryOtherReferenceLabConcept;(0,o.useEffect)((function(){var e=(null==w?void 0:w.user)&&(0,r.userHasAccess)(Jt,w.user);T(e),x(e&&(E||!h.system))}),[]);var B,P,q=(0,Wo.aS)({defaultValues:lA({},h,{useConcept:Boolean(null==h?void 0:h.conceptUuid)}),mode:"all",resolver:(0,Ml.C)($m)}),j=q.handleSubmit,F=q.control,L=q.formState,U=q.watch,z=q.setValue,M=L.errors,G=function(){var e,t=(e=function(e){var t,n,a,o,l;return function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),Y(!0),t=lA({},e,{name:e.useConcept?null:e.name,conceptUuid:e.useConcept?e.conceptUuid:null}),[4,(E?tA:nA)(t)];case 1:return n=i.sent(),zn(ie),(null==n?void 0:n.data)&&((0,r.showSnackbar)({isLowContrast:!0,title:E?C("laboratoryAddReferrerLocationuration","Add Referrel Locaton"):C("laboratoryEditReferrerLocationuration","Edit Referrel Locaton"),kind:"success",subtitle:E?C("laboratoryAddReferrerLocationurationSuccess","Referrel Locaton Added Successfully"):C("laboratoryEditReferrerLocationurationSuccess","Referrel Locaton Edited Successfully")}),Qe()),[3,3];case 2:return a=i.sent(),Y(!1),(0,r.showNotification)({title:E?C("laboratoryAddReferrerLocationurationError","Error adding a test configuration"):C("laboratoryEditReferrerLocationurationError","Error editing a test configuration"),kind:"error",critical:!0,description:null==a||null===(l=a.responseBody)||void 0===l||null===(o=l.error)||void 0===o?void 0:o.message}),[3,3];case 3:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){aA(o,r,a,l,i,"next",e)}function i(e){aA(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}(),H=(0,o.useCallback)((function(e){z("patientUuid",e)}),[z]),J=(0,o.useMemo)((function(){return{selectPatientAction:H,initialSearchTerm:""}}),[H]),W=iA((0,o.useState)(!1),2),V=W[0],Y=W[1],Q=U("referrerIn",null==h?void 0:h.referrerIn),K=U("useConcept",Boolean(null==h?void 0:h.conceptUuid)),Z=U("patientUuid",null==h?void 0:h.patientUuid);return l().createElement("form",null,l().createElement(ke.aUI,{className:Zm.modalBody},l().createElement("section",{className:Zm.section},l().createElement("div",{className:Zm.referOptions},N&&l().createElement(l().Fragment,null,l().createElement(ke.WCx,{className:"clear-margin-bottom",legendText:C("laboratoryReferrerLocationAllowFromLocation","Allow referrals from location?:"),title:C("laboratoryReferrerLocationAllowFromLocation","Allow referrals from location?:")},l().createElement(vd,{control:F,name:"referrerIn",defaultSelected:h.referrerIn,controllerName:"referrerIn",legendText:"",invalid:!!M.referrerIn,onChange:function(e){},invalidText:M.referrerIn&&(null==M||null===(t=M.referrerIn)||void 0===t?void 0:t.message),options:Xm})),M.referrerIn&&(null==M||null===(n=M.referrerIn)||void 0===n?void 0:n.message)&&l().createElement("div",{className:Zm.errorText},C(null==M||null===(a=M.referrerIn)||void 0===a?void 0:a.message))),!N&&l().createElement(ke.gf6,{value:h.referrerIn?C("yes","Yes"):C("no","No"),readOnly:!0,labelText:C("laboratoryReferrerLocationAllowFromLocation","Allow referrals from location?:")}),N&&l().createElement(l().Fragment,null,l().createElement(ke.WCx,{className:"clear-margin-bottom",legendText:C("laboratoryReferrerLocationAllowFromLocation","Allow referrals to location?:"),title:C("laboratoryReferrerLocationAllowFromLocation","Allow referrals to location?:")},l().createElement(vd,{control:F,name:"referrerOut",defaultSelected:h.referrerOut,controllerName:"referrerOut",legendText:"",invalid:!!M.referrerOut,onChange:function(e){},invalidText:M.referrerOut&&(null==M||null===(i=M.referrerOut)||void 0===i?void 0:i.message),options:Xm})),M.referrerOut&&(null==M||null===(s=M.referrerOut)||void 0===s?void 0:s.message)&&l().createElement("div",{className:Zm.errorText},C(null==M||null===(c=M.referrerOut)||void 0===c?void 0:c.message))),!N&&l().createElement(ke.gf6,{value:h.referrerOut?C("yes","Yes"):C("no","No"),readOnly:!0,labelText:C("laboratoryReferrerLocationAllowFromLocation","Allow referrals to location?:")})),N&&l().createElement(l().Fragment,null,l().createElement(ke.WCx,{className:"clear-margin-bottom",legendText:C("laboratoryReferrerLocationFacilityNameSource","Facility name source?:"),title:C("laboratoryReferrerLocationFacilityNameSource","Facility name source?:")},l().createElement(vd,{control:F,name:"useConcept",defaultSelected:!!(null==h?void 0:h.conceptUuid),controllerName:"useConcept",legendText:"",invalid:!!M.useConcept,onChange:function(e){},invalidText:M.useConcept&&(null==M||null===(u=M.useConcept)||void 0===u?void 0:u.message),options:sA})),M.useConcept&&(null==M||null===(d=M.useConcept)||void 0===d?void 0:d.message)&&l().createElement("div",{className:Zm.errorText},C(null==M||null===(m=M.useConcept)||void 0===m?void 0:m.message))),!N&&l().createElement(ke.gf6,{value:h.referrerIn?C("yes","Yes"):C("no","No"),readOnly:!0,labelText:C("laboratoryReferrerLocationAllowFromLocation","Allow referrals from location?:")}),K&&l().createElement(l().Fragment,null,N&&l().createElement(Fi,{conceptUuid:D,selectedId:null==h?void 0:h.conceptUuid,selectedText:null==h?void 0:h.conceptName,controllerName:"conceptUuid",name:"conceptUuid",control:F,title:C("locationReferralConcept","Referral Location Concept:"),placeholder:C("chooseAnItem","Choose an item"),invalid:!!M.conceptUuid,excludeOptions:[R],invalidText:M.conceptUuid&&(null==M||null===(A=M.conceptUuid)||void 0===A?void 0:A.message)}),!N&&l().createElement(ke.gf6,{value:h.conceptName,readOnly:!0,labelText:C("locationReferralConcept","Referral Location Concept:")})),!K&&l().createElement(_i,{readOnly:!N,id:"name",name:"name",control:F,controllerName:"name",maxLength:250,size:"md",value:"".concat(null!==(B=null==h?void 0:h.name)&&void 0!==B?B:""),labelText:C("laboratoryReferralLocationName","Facility Name:"),invalid:!!M.name,invalidText:M.name&&(null==M||null===(p=M.name)||void 0===p?void 0:p.message)}),l().createElement(_i,{readOnly:!N,id:"acronym",name:"acronym",control:F,controllerName:"acronym",maxLength:250,size:"md",value:"".concat(null!==(P=null==h?void 0:h.acronym)&&void 0!==P?P:""),labelText:C("laboratoryReferralLocationAcronym","Acronym:"),invalid:!!M.acronym,invalidText:M.acronym&&(null==M||null===(_=M.acronym)||void 0===_?void 0:_.message)}),Q&&l().createElement(l().Fragment,null,N&&l().createElement("div",{className:Zm.patientSearch},l().createElement("div",{className:"cds-label"},C("laboratoryReferralLocationPatientHelperText","Reference location patient record to be associated with laboratory orders")),l().createElement(r.ExtensionSlot,{name:"patient-search-bar-slot",state:J})),Z&&l().createElement(Vo,{key:Z,patientUuid:Z}),M.patientUuid&&(null==M||null===(v=M.patientUuid)||void 0===v?void 0:v.message)&&l().createElement("div",{className:Zm.errorText},C(null==M||null===(f=M.patientUuid)||void 0===f?void 0:f.message))),k&&l().createElement(l().Fragment,null,l().createElement(ke.WCx,{className:"clear-margin-bottom",legendText:C("laboratoryReferrerLocationEnableFacility","Enable Facility?:"),title:C("laboratoryReferrerLocationEnableFacility","Enable Facility?:")},l().createElement(vd,{control:F,name:"enabled",defaultSelected:h.enabled,controllerName:"enabled",legendText:"",invalid:!!M.enabled,onChange:function(e){},invalidText:M.enabled&&(null==M||null===(b=M.enabled)||void 0===b?void 0:b.message),options:Xm})),M.enabled&&(null==M||null===(g=M.enabled)||void 0===g?void 0:g.message)&&l().createElement("div",{className:Zm.errorText},C(null==M||null===(y=M.enabled)||void 0===y?void 0:y.message))),!k&&l().createElement(ke.gf6,{value:h.enabled?C("yes","Yes"):C("no","No"),readOnly:!0,labelText:C("laboratoryReferrerLocationEnableFacility","Enable Facility?:")}))),l().createElement(ke._AC,null,l().createElement(ke.qaq,{disabled:V,onClick:function(){return Qe()},kind:"secondary"},C("cancel","Cancel")),l().createElement(ke.qaq,{onClick:j(G)},V?l().createElement(ke.kp8,null):C("save","Save"))))},uA=function(){var e=(0,He.useTranslation)().t,t=(0,o.useCallback)((function(){Ye(e("laboratoryReferrerLocationNewTest","New Reference Location"),l().createElement(cA,{model:{system:!1}}))}),[e]);return l().createElement(ke.qaq,{onClick:t,size:"md",kind:"primary"},e("laboratoryReferrerLocationAddNew","Add New"))};var dA=n(7016),mA={};mA.styleTagTransform=Ue(),mA.setAttributes=qe(),mA.insert=Be().bind(null,"head"),mA.domAPI=De(),mA.insertStyleElement=Fe(),xe()(dA.c,mA);const AA=dA.c&&dA.c.locals?dA.c.locals:void 0,pA=function(e){var t=e.filterType,n=e.changeFilterType,r=e.changeReferrerIn,a=e.changeReferrerOut,o=e.referIn,i=e.referOut,s=(0,He.useTranslation)().t;return l().createElement(l().Fragment,null,l().createElement(ke.M1e,{className:AA.select,type:"text",labelText:"",value:null==t?"":t.toString(),rules:{required:!0},onChange:function(e){var t,r;return n(0==(null!==(r=null===(t=e.target.value)||void 0===t?void 0:t.length)&&void 0!==r?r:0)?null:"true"==e.target.value)}},l().createElement(ke.gV5,{text:s("all","All"),value:""}),l().createElement(ke.gV5,{text:s("laboratoryReferrerActiveYes","Active: Yes"),value:"true"}),l().createElement(ke.gV5,{text:s("laboratoryReferrerActiveNo","Active: No"),value:"false"})),l().createElement(ke.M1e,{className:AA.select,value:null==o?"":o.toString(),type:"text",labelText:"",rules:{required:!0},onChange:function(e){var t,n;return r(0==(null!==(n=null===(t=e.target.value)||void 0===t?void 0:t.length)&&void 0!==n?n:0)?null:"true"==e.target.value)}},l().createElement(ke.gV5,{text:s("all","All"),value:""}),l().createElement(ke.gV5,{text:s("laboratoryReferrerInYes","Refer-From: Yes"),value:"true"}),l().createElement(ke.gV5,{text:s("laboratoryReferrerInNo","Refer-From: No"),value:"false"})),l().createElement(ke.M1e,{className:AA.select,value:null==i?"":i.toString(),type:"text",labelText:"",rules:{required:!0},onChange:function(e){var t,n;return a(0==(null!==(n=null===(t=e.target.value)||void 0===t?void 0:t.length)&&void 0!==n?n:0)?null:"true"==e.target.value)}},l().createElement(ke.gV5,{text:s("all","All"),value:""}),l().createElement(ke.gV5,{text:s("laboratoryReferrerOutYes","Refer-to: Yes"),value:"true"}),l().createElement(ke.gV5,{text:s("laboratoryReferrerOutNo","Refer-to: No"),value:"false"})))};function _A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_A(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var fA=n(4344),bA={};bA.styleTagTransform=Ue(),bA.setAttributes=qe(),bA.insert=Be().bind(null,"head"),bA.domAPI=De(),bA.insertStyleElement=Fe(),xe()(fA.c,bA);const gA=fA.c&&fA.c.locals?fA.c.locals:void 0,yA=function(e){var t,n=e.data,r=e.className,a=(0,He.useTranslation)().t;return l().createElement(ke.qaq,{className:r,kind:"ghost",size:"md",onClick:function(){Ye(a("laboratoryReferrerLocationEditTest","Edit Reference Location"),l().createElement(cA,{model:n}))},iconDescription:a("laboratoryReferrerLocationEdit","Edit"),title:(null==n?void 0:n.conceptName)?a("Concept","Concept"):null},null!==(t=null==n?void 0:n.name)&&void 0!==t?t:l().createElement(l().Fragment,null,null==n?void 0:n.conceptName),(null==n?void 0:n.acronym)?" (".concat(n.acronym,")"):"")};function hA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){CA(e,t,n[t])}))}return e}function EA(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function SA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return hA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hA(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const kA=function(){var e=(0,He.useTranslation)().t,t=SA((0,o.useState)(""),2),n=t[0],a=t[1],i=(0,r.useSession)(),s=SA((0,o.useState)(!1),2),c=s[0],u=s[1];(0,o.useEffect)((function(){u((null==i?void 0:i.user)&&(0,r.userHasAccess)(Jt,i.user))}),[]);var d=function(e){(0,He.useTranslation)().t;var t,n=vA((0,o.useState)(null),2),a=n[0],l=n[1],i=vA((0,o.useState)(10),2),s=i[0],c=i[1],u=vA((0,o.useState)(void 0),2),d=u[0],m=u[1],A=vA((0,o.useState)(void 0),2),p=A[0],_=A[1],v=vA((0,o.useState)(),2),f=v[0],b=v[1],g=vA((0,o.useState)(!1),2),y=g[0],h=g[1],C=vA((0,o.useState)({v:e||gt.Default,q:null,totalCount:!0}),2),w=C[0],E=C[1],S=eA(w),k=S.items,T=S.isLoading,O=S.isError,N=S.isValidating,x=(0,r.usePagination)(k.results,s);return(0,o.useEffect)((function(){E({q:a,totalCount:!0,active:f,referrerIn:d,referrerOut:p,v:gt.Default})}),[a,f,d,p]),(0,o.useEffect)((function(){!y&&T&&h(!0)}),[T,y]),{items:null!==(t=null==k?void 0:k.results)&&void 0!==t?t:[],currentPageSize:s,setPageSize:c,pagination:x,totalCount:k.totalCount,pageSizes:[10,20,30,40,50],isLoading:T,isValidating:N,isError:O,isActive:f,setReferrerIn:m,setReferrerOut:_,isReferrerIn:d,isReferrerOut:p,setActive:function(e){b(e)},setSearchString:l,loaded:y}}(gt.Default),m=(d.items,d.isLoading),A=d.totalCount,p=d.pageSizes,_=d.isActive,v=d.isReferrerOut,f=d.isReferrerIn,b=d.setActive,g=d.setReferrerIn,y=d.setReferrerOut,h=d.setSearchString,C=(d.isValidating,d.setPageSize),w=d.currentPageSize,E=d.loaded,S=d.pagination,k=S.goTo,T=S.results,O=S.currentPage,N=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){return h(e)}),300)}),[h]),x=(0,o.useMemo)((function(){return[{id:0,header:e("laboratoryReferrerLocationName","Name"),key:"name"},{id:1,header:e("laboratoryReferrerLocationPatient","Patient"),key:"patientName"},{id:2,header:e("laboratoryReferrerLocationReferrerIn","Refer-In"),key:"referrerIn"},{id:3,header:e("laboratoryReferrerLocationReferrerOut","Refer-Out"),key:"referrerOut"},{id:4,header:e("laboratoryTestActive","Active"),key:"enabled"},{id:4,header:e("laboratoryReferrerLocationSystem","System"),key:"system"},{id:6,key:"actions",header:"Actions"}]}),[e]),I=(0,o.useMemo)((function(){return null==T?void 0:T.map((function(t,n){var r,a,o,i;return EA(wA({},t),{id:null==t?void 0:t.uuid,key:"key-".concat(null==t?void 0:t.uuid),uuid:"".concat(null==t?void 0:t.uuid),patientName:(null==t?void 0:t.referrerIn)?"".concat(null!==(r=null==t?void 0:t.patientFamilyName)&&void 0!==r?r:""," ").concat(null!==(a=null==t?void 0:t.patientMiddleName)&&void 0!==a?a:""," ").concat(null!==(o=null==t?void 0:t.patientGivenName)&&void 0!==o?o:""):e("N/A","N/A"),name:c?l().createElement(yA,{data:t,className:gA.testName}):"".concat(null!==(i=null==t?void 0:t.name)&&void 0!==i?i:null==t?void 0:t.conceptName,"\n      ").concat((null==t?void 0:t.acronym)?" (".concat(t.acronym,")"):""),referrerIn:(null==t?void 0:t.referrerIn)?e("yes","Yes"):e("no","No"),referrerOut:(null==t?void 0:t.referrerOut)?e("yes","Yes"):e("no","No"),enabled:(null==t?void 0:t.enabled)?e("yes","Yes"):e("no","No"),system:(null==t?void 0:t.system)?e("yes","Yes"):e("no","No"),actions:c?l().createElement(ke.o5h,{align:"bottom",label:"Edit Referrer Location"},l().createElement(ke.qaq,{kind:"ghost",size:"md",onClick:function(){Ye(e("laboratoryReferrerLocationEditTest","Edit Referrer Location"),l().createElement(cA,{model:t}))},iconDescription:e("editReferrerLocation","Edit Referrer Location"),renderIcon:function(e){return l().createElement(_o._O,wA({size:16},e))}})):l().createElement(l().Fragment,null)})}))}),[T,e,c]);return m&&!E?l().createElement(ke.m2V,{role:"progressbar"}):l().createElement(l().Fragment,null,l().createElement(ke.Gke,null,e("laboratoryReferrerLocationPanelDescription","Laboratory Reference Locations.")),l().createElement(ke.iSL,{rows:I,headers:x,isSortable:!1,useZebraStyles:!0,render:function(t){var o=t.rows,i=t.headers,s=t.getHeaderProps,u=t.getTableProps,d=t.getRowProps,m=t.getBatchActionProps;return l().createElement(ke._tR,{className:gA.tableContainer},l().createElement(ke.MBp,{style:{position:"static",margin:0}},l().createElement(ke.a_I,m()),l().createElement(ke.aGn,{style:{display:"flex",alignItems:"center"}},l().createElement(ke.OWJ,{className:gA.search,persistent:!0,value:n,onChange:function(e){return t=e.target.value,a(t),void N(t);var t}}),l().createElement(pA,{filterType:_,referIn:f,referOut:v,changeFilterType:b,changeReferrerIn:g,changeReferrerOut:y}),c&&l().createElement(l().Fragment,null,l().createElement(uA,null)))),l().createElement(ke.oJK,u(),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,i.map((function(e){var t,n;return"details"!==e.key&&l().createElement(ke.IEe,EA(wA({},s({header:e,isSortable:!1})),{className:r.isDesktop?gA.desktopHeader:gA.tabletHeader,key:"".concat(e.key),isSortable:"name"!==e.key}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})),l().createElement(ke.IEe,null))),l().createElement(ke.qqV,null,o.map((function(e){return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.CGA,EA(wA({className:r.isDesktop?gA.desktopRow:gA.tabletRow},d({row:e})),{key:e.id}),e.cells.map((function(e){var t;return"details"!==(null==e||null===(t=e.info)||void 0===t?void 0:t.header)&&l().createElement(ke.y6P,{key:e.id},e.value)}))))})))),0===o.length?l().createElement("div",{className:gA.tileContainer},l().createElement(ke.g$J,{className:gA.tile},l().createElement("div",{className:gA.tileContent},l().createElement("p",{className:gA.content},e("noReferrerLocationsToDisplay","No referrer locations to display")),l().createElement("p",{className:gA.helper},e("checkFilters","Check the filters above"))))):null)}}),l().createElement(ke.eML,{page:O,pageSize:w,pageSizes:p,totalItems:null!=A?A:0,onChange:function(e){var t=e.page,n=e.pageSize;n!==w&&C(n),t!==O&&k(t)},className:gA.paginationOverride}))};var TA=n(6432),OA={};OA.styleTagTransform=Ue(),OA.setAttributes=qe(),OA.insert=Be().bind(null,"head"),OA.domAPI=De(),OA.insertStyleElement=Fe(),xe()(TA.c,OA);const NA=TA.c&&TA.c.locals?TA.c.locals:void 0;function xA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){IA(e,t,n[t])}))}return e}function RA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xA(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BA(e,t){return St("".concat(se(e)).concat(Ct(t)),{method:"GET",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal})}function PA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qA(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function jA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const FA=function(e){var t,n,a=e.locationUuid,i=e.locationName,c=e.className,u=e.showIconOnly,d=(0,He.useTranslation)().t,m=(t=(0,o.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return PA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?PA(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),A=m[0],p=m[1],_=(0,o.useCallback)(function(){var e,t=(e=function(e,t){var n,o,l;return function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,(function(e){switch(e.label){case 0:t&&t.preventDefault(),e.label=1;case 1:return e.trys.push([1,3,,4]),p(!0),[4,BA(a,{v:gt.Full})];case 2:return n=e.sent(),p(!1),(null==n?void 0:n.data)&&window.open((i=null==n||null===(o=n.data)||void 0===o?void 0:o.id,"".concat(s,"/admin/locations/location.form?locationId=").concat(i)),"_blank"),[3,4];case 3:return l=e.sent(),p(!1),(0,r.showNotification)({title:d("laboratoryLoadLocationError","Error loading location information"),kind:"error",critical:!0,description:Yr(l)}),[3,4];case 4:return[2]}var i}))},function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){qA(o,r,a,l,i,"next",e)}function i(e){qA(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),[a,d]),v=(0,o.useCallback)((function(e,t){e.preventDefault(),_(t,null)}),[_]);return u?l().createElement(ke.qaq,{kind:"ghost",size:"md",onClick:v,iconDescription:d("laboratoryDiagnosticCenterEdit","Edit Lab Section"),renderIcon:function(e){return l().createElement(_o._O,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){jA(e,t,n[t])}))}return e}({size:16},e))}}):l().createElement(ke.qaq,{disabled:A,className:c,kind:"ghost",size:"md",onClick:v,iconDescription:d("laboratoryDiagnosticCenterEdit","Edit Lab Section")},A?l().createElement(ke.kp8,null):i)};function LA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const UA=function(e){var t=e.locationName,n=e.locationUuid,a=(0,He.useTranslation)().t,i=(0,o.useCallback)((function(e){return St(se(n),{method:"DELETE",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal,body:{reason:"N/A"}})}),[n]),s=(0,o.useCallback)((function(){var e=(0,r.showModal)("lab-approve-test-request-dialog",{closeModal:function(t){t&&zn(ce),e()},hideRemarks:!0,approvalTitle:a("laboratoryDiagnosticCenterDelete","Delete Lab Section"),approvalDescription:l().createElement("div",{style:{width:"100%"}},a("laboratoryDiagnosticCenterDeleteConfirmText","Are you sure you want to delete {{locationName}}",{locationName:t})),actionButtonLabel:a("delete","Delete"),remarksRequired:!1,approveCallback:i,kind:"danger",successMessageTitle:a("laboratoryDiagnosticCenterDelete","Delete Lab Section"),successMessageBody:a("laboratoryDiagnosticCenterDeleteSuccess","Lab Section deleted successfully")})}),[]);return l().createElement(ke.qaq,{kind:"danger--ghost",size:"md",onClick:s,iconDescription:a("deleteLaboratoryDiagnosticCenter","Delete Lab Section"),renderIcon:function(e){return l().createElement(bo.Gi,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){LA(e,t,n[t])}))}return e}({size:16},e))}})},zA=function(){var e=(0,He.useTranslation)().t,t=(0,o.useCallback)((function(){window.open("".concat(s,"/admin/locations/location.form"),"_blank")}),[]);return l().createElement(ke.qaq,{onClick:t,size:"md",kind:"primary"},e("addNew","Add New"))};function MA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){GA(e,t,n[t])}))}return e}function JA(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function WA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return MA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MA(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const VA=function(){var e=(0,He.useTranslation)().t,t=WA((0,o.useState)(""),2),n=t[0],a=t[1],i=(0,r.useSession)(),s=WA((0,o.useState)(!1),2),c=s[0],u=s[1],d=(0,r.useConfig)(),m=d.laboratoryLocationTagUuid,A=d.laboratoryLocationTag,p=d.laboratoryMainLocationTag;(0,o.useEffect)((function(){u((null==i?void 0:i.user)&&(0,r.userHasAccess)("Manage Locations",i.user))}),[]);var _=function(e){(0,He.useTranslation)().t;var t,n,a,l=RA((0,o.useState)((null!==(t=null==e?void 0:e.startIndex)&&void 0!==t?t:0)+1),2),i=l[0],s=l[1],c=RA((0,o.useState)(null!==(n=e.limit)&&void 0!==n?n:10),2),u=c[0],d=c[1],m=RA((0,o.useState)(null!==(a=null==e?void 0:e.q)&&void 0!==a?a:""),2),A=m[0],p=m[1],_=RA((0,o.useState)(e.tag),2),v=_[0],f=_[1],b=RA((0,o.useState)(!1),2),g=b[0],y=b[1],h=RA((0,o.useState)(DA({},{startIndex:i-1,v:gt.Default,limit:10,q:"",totalCount:!0},null!=e?e:{})),2),C=h[0],w=h[1],E=function(e){var t="".concat(ce).concat(Ct(e,!1)),n=(0,Et.cp)(t,St),r=n.data,a=n.error,o=n.isLoading,l=n.isValidating;return{items:(null==r?void 0:r.data)||{},isLoading:o,isError:a,isValidating:l}}(C),S=E.items,k=E.isLoading,T=E.isError,O=E.isValidating,N=(0,r.usePagination)(S.results,u);(0,o.useEffect)((function(){w((function(e){return DA({},e,{startIndex:i-1,limit:u,q:A,totalCount:e.totalCount,v:e.v,tag:v||null})}))}),[A,i,u,v]),(0,o.useEffect)((function(){!g&&k&&y(!0)}),[k,g]);var x=(0,o.useCallback)((function(){zn(ce)}),[]);return{items:N.results,pagination:N,totalCount:S.totalCount,currentPageSize:u,currentPage:i,setCurrentPage:s,setPageSize:d,pageSizes:[10,20,30,40,50],isLoading:k,isValidating:O,isError:T,setSearchString:p,loaded:g,refresh:x,locationTag:v,setLocationTag:f}}({totalCount:!0,v:gt.Default,limit:50,q:"",tag:m}),v=_.isLoading,f=_.items,b=_.totalCount,g=_.currentPageSize,y=_.pageSizes,h=_.currentPage,C=_.setCurrentPage,w=_.setPageSize,E=_.setSearchString,S=(_.isValidating,_.loaded),k=_.refresh,T=_.locationTag,O=_.setLocationTag,N=function(e){var t="".concat(de).concat(Ct(null,!1)),n=(0,Et.cp)(t,St,{revalidateOnFocus:!1}),r=n.data,a=n.error,o=n.isLoading,l=n.isValidating;return{items:(null==r?void 0:r.data)||{},isLoading:o,isError:a,isValidating:l}}(),x=N.items,I=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){return E(null!=e?e:"")}),300)}),[E]),D=(0,o.useMemo)((function(){return[{id:0,header:e("laboratoryDiagnosticCenterName","Name"),key:"name"},{id:1,header:e("laboratoryDiagnosticCenterTags","Tags"),key:"tags"},{id:2,header:e("laboratoryDiagnosticCenterChildren","Child Locations"),key:"childLocations"},{id:3,key:"actions",header:"Actions"}]}),[e]),R=(0,o.useMemo)((function(){return null==f?void 0:f.map((function(e,t){var n,r,a,o,i,s,u,d;return JA(HA({},e),{id:null==e?void 0:e.uuid,name:c?l().createElement(FA,{locationUuid:e.uuid,locationName:e.name}):e.name,tags:null!==(s=null==e||null===(r=e.tags)||void 0===r||null===(n=r.map((function(e){return e.display})))||void 0===n?void 0:n.join(", "))&&void 0!==s?s:"",childLocations:null!==(u=null==e||null===(o=e.childLocations)||void 0===o||null===(a=o.map((function(e){return e.display})))||void 0===a?void 0:a.join(", "))&&void 0!==u?u:"",actions:c?l().createElement("div",{className:"".concat(NA.clearGhostButtonPadding," ").concat(NA.rowActions)},l().createElement(FA,{showIconOnly:!0,locationUuid:e.uuid,locationName:e.name}),0===(null!==(d=null==e||null===(i=e.childLocations)||void 0===i?void 0:i.length)&&void 0!==d?d:0)&&l().createElement(UA,{locationName:e.name,locationUuid:e.uuid})):""})}))}),[f,c]),B=function(e){O(e.target.value)};return v&&!S?l().createElement(ke.m2V,{role:"progressbar"}):l().createElement(l().Fragment,null,l().createElement(ke.Gke,null,e("laboratoryDiagnosticCenterDescription","Laboratory Sections")),l().createElement(ke.iSL,{rows:R,headers:D,isSortable:!0,useZebraStyles:!0,render:function(t){var o,i,s=t.rows,u=t.headers,d=t.getHeaderProps,m=t.getTableProps,_=t.getRowProps,v=t.getBatchActionProps;return l().createElement(ke._tR,{className:NA.tableContainer},l().createElement(ke.MBp,{style:{position:"static",margin:0}},l().createElement(ke.a_I,v()),l().createElement(ke.aGn,{style:{display:"flex",alignItems:"center"}},l().createElement(ke.OWJ,{persistent:!0,value:n,onChange:function(e){return t=e.target.value,a(null!=t?t:""),void I(t);var t}}),(null==x||null===(o=x.results)||void 0===o?void 0:o.length)>0&&l().createElement(ke.M1e,{inline:!0,hideLabel:!0,labelText:"",defaultValue:T,onChange:B},null==x||null===(i=x.results)||void 0===i?void 0:i.filter((function(e){return e.display==p||e.display==A})).map((function(e){return l().createElement(ke.gV5,{key:e.uuid,value:e.uuid,text:e.display})}))),l().createElement(ke.qSH,null,l().createElement(ke.EpS,{onClick:k},e("refresh","Refresh"))),c&&l().createElement(l().Fragment,null,l().createElement(zA,null)))),l().createElement(ke.oJK,m(),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,u.map((function(e){var t,n;return"details"!==e.key&&l().createElement(ke.IEe,JA(HA({},d({header:e,isSortable:e.isSortable})),{className:r.isDesktop?NA.desktopHeader:NA.tabletHeader,key:"".concat(e.key),isSortable:"name"!==e.key}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})),l().createElement(ke.IEe,null))),l().createElement(ke.qqV,null,s.map((function(e){return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.CGA,JA(HA({className:r.isDesktop?NA.desktopRow:NA.tabletRow},_({row:e})),{key:e.id}),e.cells.map((function(e){var t;return"details"!==(null==e||null===(t=e.info)||void 0===t?void 0:t.header)&&l().createElement(ke.y6P,{key:e.id},e.value)}))))})))),0===s.length?l().createElement("div",{className:NA.tileContainer},l().createElement(ke.g$J,{className:NA.tile},l().createElement("div",{className:NA.tileContent},l().createElement("p",{className:NA.content},e("noDiagnosticCentersToDisplay","No diagnostic centers to display")),l().createElement("p",{className:NA.helper},e("checkFilters","Check the filters above"))))):null)}}),l().createElement(ke.eML,{page:h,pageSize:g,pageSizes:y,totalItems:null!=b?b:0,onChange:function(e){var t=e.page,n=e.pageSize;C(t),w(n)},className:NA.paginationOverride}))};var YA=n(4728),QA={};QA.styleTagTransform=Ue(),QA.setAttributes=qe(),QA.insert=Be().bind(null,"head"),QA.domAPI=De(),QA.insertStyleElement=Fe(),xe()(YA.c,QA);const KA=YA.c&&YA.c.locals?YA.c.locals:void 0;var ZA=Gl.z.object({atLocationUuid:Gl.z.string(),name:Gl.z.string().max(100),description:Gl.z.string().max(500).optional().nullable(),capacity:Gl.z.coerce.number().int("Integer"),active:Gl.z.boolean(),uuid:Gl.z.string().nullish()}).refine((function(e){var t=e.capacity;return Boolean(t&&t>0)}),{message:"Required",path:["capacity"]});function XA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $A(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function ep(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ep(e,t,n[t])}))}return e}function np(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return XA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?XA(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const rp=function(e){var t,n,a,i,s,c,u,d=e.model,m=(0,He.useTranslation)().t,A=(0,r.useSession)(),p=np((0,o.useState)(!Boolean(null==d?void 0:d.uuid)),1)[0],_=np((0,o.useState)(p),2),v=_[0],f=_[1],b=rr().laboratoryConfig.laboratoryLocationTag,g=(0,r.useLocations)(b);(0,o.useEffect)((function(){f((null==A?void 0:A.user)&&(0,r.userHasAccess)(Zt,A.user))}),[]);var y,h,C=(0,Wo.aS)({defaultValues:tp({},null!=d?d:{},{active:null!==(u=null==d?void 0:d.active)&&void 0!==u&&u}),mode:"all",resolver:(0,Ml.C)(ZA)}),w=C.handleSubmit,E=C.control,S=C.formState,k=(C.watch,S.errors),T=function(){var e,t=(e=function(e){var t,n,a,o;return function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),x(!0),[4,(p?br:gr)(e)];case 1:return t=l.sent(),zn(he),(null==t?void 0:t.data)&&((0,r.showSnackbar)({isLowContrast:!0,title:p?m("laboratoryAddStorage","Add Storage"):m("laboratoryEditStorage","Edit Storage"),kind:"success",subtitle:p?m("laboratoryAddStorageSuccess","Storage Added Successfully"):m("laboratoryEditStorageSuccess","Storage Edited Successfully"),autoClose:!0}),Qe()),[3,3];case 2:return n=l.sent(),x(!1),(0,r.showNotification)({title:p?m("laboratoryAddStorageurationError","Error adding a storage"):m("laboratoryEditStorageurationError","Error editing a storage"),kind:"error",critical:!0,description:null==n||null===(o=n.responseBody)||void 0===o||null===(a=o.error)||void 0===a?void 0:a.message}),[3,3];case 3:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){$A(o,r,a,l,i,"next",e)}function i(e){$A(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}(),O=np((0,o.useState)(!1),2),N=O[0],x=O[1];return l().createElement("form",null,l().createElement(ke.aUI,{className:KA.modalBody},l().createElement("section",{className:KA.section},l().createElement(Wo.Mc,{control:E,name:"atLocationUuid",render:function(e){var t,n,r,a=e.field,o=a.onChange,i=a.ref,s=a.value;return l().createElement(ke.M1e,{ref:i,name:"atLocationUuid",value:s,className:"select-field",labelText:m("laboratoryDiagnosticCenter","Lab Section"),onChange:function(e){o(e.target.value)},defaultValue:"",invalid:null==k||null===(t=k.atLocationUuid)||void 0===t?void 0:t.message,invalidText:null==k||null===(n=k.atLocationUuid)||void 0===n?void 0:n.message},l().createElement(ke.gV5,{value:"",text:m("laboratorySelectLabSection","Specify Lab Section")}),null===(r=null!=g?g:[])||void 0===r?void 0:r.map((function(e){return l().createElement(ke.gV5,{key:e.uuid,value:e.uuid,text:e.display})})))}}),!v&&l().createElement(ke.gf6,{value:d.atLocationName,readOnly:!0,labelText:m("laboratoryDiagnosticCenter","Lab Section")}),v&&l().createElement(_i,{readOnly:!v,name:"name",control:E,controllerName:"name",maxLength:255,size:"md",value:"".concat(null!==(y=null==d?void 0:d.name)&&void 0!==y?y:""),labelText:m("laboratoryStorageName","Name"),helperText:m("laboratoryStorageNameHelpText","Storage name e.g. Fridge1/CrateA"),invalid:!!k.name,invalidText:k.name&&(null==k||null===(t=k.name)||void 0===t?void 0:t.message)}),!v&&l().createElement(ke.gf6,{value:d.name,readOnly:!0,labelText:m("laboratoryStorageName","Name")}),l().createElement(rl,{name:"description",rows:2,control:E,controllerName:"description",maxLength:500,value:"".concat(null!==(h=null==d?void 0:d.description)&&void 0!==h?h:""),labelText:m("description","Description"),invalid:!!k.description,invalidText:k.description&&(null==k||null===(n=k.description)||void 0===n?void 0:n.message)}),!v&&l().createElement(ke.IF6,{value:d.description,readOnly:!0,labelText:m("description","Description")}),v&&l().createElement(du,{name:"capacity",control:E,controllerName:"capacity",maxLength:10,size:"md",defaultValue:null==d?void 0:d.capacity,hideSteppers:!0,hideLabel:!1,allowEmpty:!1,labelText:m("laboratoryStorageCapacity","Capacity"),pattern:"[0-9]",step:"1",invalid:!!k.capacity,invalidText:k.capacity&&(null==k||null===(a=k.capacity)||void 0===a?void 0:a.message)}),!v&&l().createElement(ke.gf6,{value:d.capacity,readOnly:!0,labelText:m("laboratoryStorageCapacity","Capacity")}),v&&l().createElement(l().Fragment,null,l().createElement(ke.WCx,{className:"clear-margin-bottom",legendText:m("laboratoryStorageActive","Active?"),title:m("laboratoryTestActive","Active?")},l().createElement(vd,{control:E,name:"active",defaultSelected:d.active,controllerName:"active",legendText:"",invalid:!!k.active,onChange:function(e){},invalidText:k.active&&(null==k||null===(i=k.active)||void 0===i?void 0:i.message),options:dd})),k.active&&(null==k||null===(s=k.active)||void 0===s?void 0:s.message)&&l().createElement("div",{className:KA.errorText},m(null==k||null===(c=k.active)||void 0===c?void 0:c.message))),!v&&l().createElement(ke.gf6,{value:d.active?m("yes","Yes"):m("no","No"),readOnly:!0,labelText:m("laboratoryStorageActive","Active?")}))),l().createElement(ke._AC,null,l().createElement(ke.qaq,{disabled:N,onClick:function(){return Qe()},kind:"secondary"},m("cancel","Cancel")),l().createElement(ke.qaq,{onClick:w(T)},N?l().createElement(ke.kp8,null):m("save","Save"))))},ap=function(){var e=(0,He.useTranslation)().t,t=(0,o.useCallback)((function(){Ye(e("laboratoryStorageNew","New Storage"),l().createElement(rp,{model:{active:!0,capacity:null}}))}),[e]);return l().createElement(ke.qaq,{onClick:t,size:"md",kind:"primary"},e("addNew","Add New"))};function op(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ip(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){lp(e,t,n[t])}))}return e}function sp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return op(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?op(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const cp=function(e){var t=e.data,n=e.className,r=(0,He.useTranslation)().t;return l().createElement(ke.qaq,{className:n,kind:"ghost",size:"md",onClick:function(){Ye(r("laboratoryStorageEdit","Edit Storage"),l().createElement(rp,{model:t}))},iconDescription:r("laboratoryStorageEdit","Edit Storage")},null==t?void 0:t.name)};function up(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){dp(e,t,n[t])}))}return e}function Ap(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const pp=function(e){var t,n,a=e.storageUuid,i=(0,He.useTranslation)().t,s=(t=(0,o.useState)(""),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return up(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?up(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],u=s[1],d=((0,r.useSession)(),function(e){(0,He.useTranslation)().t;var t,n=sp((0,o.useState)(1),2),a=n[0],l=n[1],i=sp((0,o.useState)(10),2),s=i[0],c=i[1],u=sp((0,o.useState)(null),2),d=u[0],m=u[1],A=sp((0,o.useState)(null==e?void 0:e.storage),2),p=A[0],_=A[1],v=sp((0,o.useState)(null!==(t=null==e?void 0:e.active)&&void 0!==t?t:null),2),f=v[0],b=v[1],g=sp((0,o.useState)(!1),2),y=g[0],h=g[1],C=sp((0,o.useState)((function(){var t,n;return ip({},{startIndex:a-1,v:null!==(t=null==e?void 0:e.v)&&void 0!==t?t:gt.Default,limit:null!==(n=null==e?void 0:e.limit)&&void 0!==n?n:10,q:null,totalCount:!0},e)})),2),w=C[0],E=C[1],S=function(e){var t="".concat(Ce).concat(Ct(e)),n=(0,Et.cp)(t,St,{revalidateOnFocus:!1}),r=n.data,a=n.error,o=n.isLoading,l=n.isValidating;return{items:(null==r?void 0:r.data)||{},isLoading:o,isError:a,isValidating:l}}(w),k=S.items,T=S.isLoading,O=S.isError,N=S.isValidating,x=(0,r.usePagination)(k.results,s);return(0,o.useEffect)((function(){E((function(e){return ip({},e,{startIndex:a-1,limit:s,q:d,totalCount:!0,v:gt.Default,storage:p})}))}),[d,a,s,f,p]),(0,o.useEffect)((function(){!y&&T&&h(!0)}),[T,y]),{items:x.results,pagination:x,totalCount:k.totalCount,currentPageSize:s,currentPage:a,setCurrentPage:l,setPageSize:c,pageSizes:[10,20,30,40,50],isLoading:T,isValidating:N,isError:O,isActive:f,setActive:function(e){l(1),b(e)},setSearchString:m,loaded:y,setStorage:function(e){l(1),_(e)},storage:p}}({v:gt.Default,storage:a})),m=d.isLoading,A=d.items,p=d.totalCount,_=d.currentPageSize,v=d.pageSizes,f=d.currentPage,b=d.setCurrentPage,g=d.setPageSize,y=(d.isActive,d.setActive,d.setSearchString),h=(d.isValidating,d.loaded),C=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){return y(e)}),300)}),[y]),w=(0,o.useMemo)((function(){return[{id:1,header:i("laboratoryStorageName","Name"),key:"name"},{id:3,header:i("laboratoryStorageActive","Active"),key:"active"}]}),[i]),E=(0,o.useMemo)((function(){return null==A?void 0:A.map((function(e,t){return{id:null==e?void 0:e.uuid,key:"key-".concat(null==e?void 0:e.uuid),uuid:"".concat(null==e?void 0:e.uuid),name:e.unitName,active:(null==e?void 0:e.active)?i("yes","Yes"):i("no","No")}}))}),[A,i]);return m&&!h?l().createElement(ke.m2V,{role:"progressbar"}):l().createElement(l().Fragment,null,l().createElement(ke.iSL,{rows:E,headers:w,isSortable:!0,useZebraStyles:!0,render:function(e){var t=e.rows,n=e.headers,a=e.getHeaderProps,o=e.getTableProps,s=e.getRowProps,d=e.getBatchActionProps;return l().createElement(ke._tR,{className:"".concat(zt.tableContainer," ").concat(zt.fillContainer)},l().createElement(ke.MBp,{style:{position:"static",margin:0}},l().createElement(ke.a_I,d()),l().createElement(ke.aGn,{style:{display:"flex",alignItems:"center"}},l().createElement(ke.OWJ,{persistent:!0,value:c,onChange:function(e){return t=e.target.value,u(t),void C(t);var t}}))),l().createElement(ke.oJK,o(),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,n.map((function(e){var t,n;return"details"!==e.key&&l().createElement(ke.IEe,Ap(mp({},a({header:e,isSortable:e.isSortable})),{className:r.isDesktop?zt.desktopHeader:zt.tabletHeader,key:"".concat(e.key),isSortable:"name"!==e.key}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})))),l().createElement(ke.qqV,null,t.map((function(e){return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.CGA,Ap(mp({className:r.isDesktop?zt.desktopRow:zt.tabletRow},s({row:e})),{key:e.id}),e.cells.map((function(e){var t;return"details"!==(null==e||null===(t=e.info)||void 0===t?void 0:t.header)&&l().createElement(ke.y6P,{key:e.id},e.value)}))))})))),0===t.length?l().createElement("div",{className:zt.tileContainer},l().createElement(ke.g$J,{className:zt.tile},l().createElement("div",{className:zt.tileContent},l().createElement("p",{className:zt.content},i("noStorageUnitsToDisplay","No storage units to display")),l().createElement("p",{className:zt.helper},i("checkFilters","Check the filters above"))))):null)}}),l().createElement(ke.eML,{page:f,pageSize:_,pageSizes:v,totalItems:null!=p?p:0,onChange:function(e){var t=e.page,n=e.pageSize;b(t),g(n)},className:zt.paginationOverride}))};function _p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const vp=function(e){var t=e.storageName,n=e.storageUuid,a=(0,He.useTranslation)().t,i=(0,o.useCallback)((function(e){return t=n,St("".concat(he,"/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal,body:{reason:"N/A"}});var t}),[n]),s=(0,o.useCallback)((function(){var e=(0,r.showModal)("lab-approve-test-request-dialog",{closeModal:function(t){t&&zn(he),e()},hideRemarks:!0,approvalTitle:a("laboratoryStorageDelete","Delete Storage"),approvalDescription:l().createElement("div",{style:{width:"100%"}},a("laboratoryStorageDeleteConfirmText","Are you sure you want to delete ")+" "+t),actionButtonLabel:a("delete","Delete"),remarksRequired:!1,approveCallback:i,kind:"danger",successMessageTitle:a("laboratoryStorageDelete","Delete Storage"),successMessageBody:a("laboratoryStorageDeleteSuccess","Storage deleted successfully")})}),[]);return l().createElement(ke.qaq,{kind:"danger--ghost",size:"md",onClick:s,iconDescription:a("deleteLaboratoryStorage","Delete Storage"),renderIcon:function(e){return l().createElement(bo.Gi,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_p(e,t,n[t])}))}return e}({size:16},e))}})};function fp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){bp(e,t,n[t])}))}return e}function yp(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function hp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Cp=function(){var e=(0,He.useTranslation)().t,t=hp((0,o.useState)(""),2),n=t[0],a=t[1],i=(0,r.useSession)(),s=hp((0,o.useState)(!1),2),c=s[0],u=s[1],d=rr().laboratoryConfig.laboratoryLocationTag,m=(0,r.useLocations)(d);(0,o.useEffect)((function(){u((null==i?void 0:i.user)&&(0,r.userHasAccess)(Zt,i.user))}),[]);var A=function(e){(0,He.useTranslation)().t;var t=sp((0,o.useState)(1),2),n=t[0],a=t[1],l=sp((0,o.useState)(10),2),i=l[0],s=l[1],c=sp((0,o.useState)(null),2),u=c[0],d=c[1],m=sp((0,o.useState)(null),2),A=m[0],p=m[1],_=sp((0,o.useState)(),2),v=_[0],f=_[1],b=sp((0,o.useState)(!1),2),g=b[0],y=b[1],h=sp((0,o.useState)({startIndex:n-1,v:e||gt.Default,limit:10,q:null,totalCount:!0}),2),C=h[0],w=h[1],E=function(e){var t="".concat(he).concat(Ct(e)),n=(0,Et.cp)(t,St,{revalidateOnFocus:!1}),r=n.data,a=n.error,o=n.isLoading,l=n.isValidating;return{items:(null==r?void 0:r.data)||{},isLoading:o,isError:a,isValidating:l}}(C),S=E.items,k=E.isLoading,T=E.isError,O=E.isValidating,N=(0,r.usePagination)(S.results,i);return(0,o.useEffect)((function(){w((function(e){return ip({},e,{startIndex:n-1,limit:i,q:u,totalCount:!0,v:gt.Default,location:A})}))}),[u,n,i,v,A]),(0,o.useEffect)((function(){!g&&k&&y(!0)}),[k,g]),{items:N.results,pagination:N,totalCount:S.totalCount,currentPageSize:i,currentPage:n,setCurrentPage:a,setPageSize:s,pageSizes:[10,20,30,40,50],isLoading:k,isValidating:O,isError:T,isActive:v,setActive:function(e){a(1),f(e)},setSearchString:d,loaded:g,setAtLocation:function(e){a(1),p(e)},atLocation:A}}(gt.Default),p=A.isLoading,_=A.items,v=A.totalCount,f=A.currentPageSize,b=A.pageSizes,g=A.currentPage,y=A.setCurrentPage,h=A.setPageSize,C=(A.isActive,A.setActive,A.setSearchString),w=(A.isValidating,A.loaded),E=A.setAtLocation,S=A.atLocation,k=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){return C(e)}),300)}),[C]),T=(0,o.useMemo)((function(){return[{id:0,header:e("laboratoryStorageLabSection","Lab Section"),key:"atLocation"},{id:1,header:e("laboratoryStorageName","Name"),key:"name"},{id:1,header:e("laboratoryStorageDescription","Description"),key:"description"},{id:2,header:e("laboratoryStorageCapacity","Capacity"),key:"capacity"},{id:3,header:e("laboratoryStorageActive","Active"),key:"active"},{id:6,key:"actions",header:"Actions"}]}),[e]),O=(0,o.useMemo)((function(){return null==_?void 0:_.map((function(t,n){return{id:null==t?void 0:t.uuid,key:"key-".concat(null==t?void 0:t.uuid),uuid:"".concat(null==t?void 0:t.uuid),name:c?l().createElement(cp,{data:t,className:zt.storageName}):t.name,description:null==t?void 0:t.description,atLocation:null==t?void 0:t.atLocationName,capacity:null==t?void 0:t.capacity,active:(null==t?void 0:t.active)?e("yes","Yes"):e("no","No"),actions:c?l().createElement("div",{className:"".concat(zt.clearGhostButtonPadding," ").concat(zt.rowActions)},l().createElement(ke.qaq,{kind:"ghost",size:"md",onClick:function(){Ye(e("laboratoryStorageEditTest","Edit Storage"),l().createElement(rp,{model:t}))},iconDescription:e("editStorage","Edit Storage"),renderIcon:function(e){return l().createElement(_o._O,gp({size:16},e))}}),l().createElement(vp,{storageName:t.name,storageUuid:t.uuid})):""}}))}),[_,e,c]);return p&&!w?l().createElement(ke.m2V,{role:"progressbar"}):l().createElement(l().Fragment,null,l().createElement(ke.Gke,null,e("laboratoryStoragePanelDescription","Laboratory Storage")),l().createElement(ke.iSL,{rows:O,headers:T,isSortable:!0,useZebraStyles:!0,render:function(t){var o=t.rows,i=t.headers,s=t.getHeaderProps,u=t.getTableProps,d=t.getRowProps,A=t.getBatchActionProps;return l().createElement(ke._tR,{className:zt.tableContainer},l().createElement(ke.MBp,{style:{position:"static",margin:0}},l().createElement(ke.a_I,A()),l().createElement(ke.aGn,{style:{display:"flex",alignItems:"center"}},l().createElement(ke.OWJ,{persistent:!0,value:n,onChange:function(e){return t=e.target.value,a(t),void k(t);var t}}),l().createElement(ke.M1e,{className:zt.select,style:{width:"20rem"},type:"text",labelText:"",onChange:function(e){return E(e.target.value)},value:S},l().createElement(ke.gV5,{text:e("laboratoryAllLabSections","All Lab Sections"),value:""}),m&&m.map((function(e){return l().createElement(ke.gV5,{title:e.display,key:e.uuid,text:e.display,value:e.uuid},e.display)}))),c&&l().createElement(l().Fragment,null,l().createElement(ap,null)))),l().createElement(ke.oJK,u(),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,l().createElement(ke.ugy,null),i.map((function(e){var t,n;return"details"!==e.key&&l().createElement(ke.IEe,yp(gp({},s({header:e,isSortable:e.isSortable})),{className:r.isDesktop?zt.desktopHeader:zt.tabletHeader,key:"".concat(e.key),isSortable:"name"!==e.key}),null!==(n=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==n?n:e.header)})),l().createElement(ke.IEe,null))),l().createElement(ke.qqV,null,o.map((function(e){return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.cjO,yp(gp({className:r.isDesktop?zt.desktopRow:zt.tabletRow},d({row:e})),{key:e.id}),e.cells.map((function(e){var t;return"details"!==(null==e||null===(t=e.info)||void 0===t?void 0:t.header)&&l().createElement(ke.y6P,{key:e.id},e.value)}))),e.isExpanded&&l().createElement(ke.Ocq,{className:zt.tableExpandedRow,colSpan:i.length+1},l().createElement("section",{className:zt.rowExpandedContent},l().createElement(pp,{storageUuid:e.id}))))})))),0===o.length?l().createElement("div",{className:zt.tileContainer},l().createElement(ke.g$J,{className:zt.tile},l().createElement("div",{className:zt.tileContent},l().createElement("p",{className:zt.content},e("noStoragesToDisplay","No storage to display")),l().createElement("p",{className:zt.helper},e("checkFilters","Check the filters above"))))):null)}}),l().createElement(ke.eML,{page:g,pageSize:f,pageSizes:b,totalItems:null!=v?v:0,onChange:function(e){var t=e.page,n=e.pageSize;y(t),h(n)},className:zt.paginationOverride}))};function wp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ep(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Sp=function(e){var t=e.onPageChanged,n=Ep((0,o.useState)(0),2),a=n[0],i=n[1],s=Ep((0,o.useState)(!1),2),c=s[0],u=s[1],d=Ep((0,o.useState)(!1),2),m=d[0],A=d[1],p=(0,r.useSession)(),_=(0,He.useTranslation)().t;return(0,o.useEffect)((function(){t({showDateInHeader:!1,title:_("laboratoryTestConfigHeaderTitle","Settings")}),u((null==p?void 0:p.user)&&(0,r.userHasAccess)("App: labmanagement.storage",p.user)),A((null==p?void 0:p.user)&&(0,r.userHasAccess)("Manage Global Properties",p.user))}),[]),l().createElement(l().Fragment,null,l().createElement(ke.kZJ,{className:id.tabs,onChange:function(e){var t=e.selectedIndex;i(t)},selectedIndex:a},l().createElement(ke.qc_,{className:id.tablist,"aria-label":"List tabs",contained:!0},l().createElement(ke.sOW,{className:id.tab},_("laboratoryReferrerLocationConfiguration","Reference Locations")),l().createElement(ke.sOW,{className:id.tab},_("laboratoryDiagnosticCenters","Lab Sections")),l().createElement(ke.sOW,{className:id.tab},_("laboratoryTestsConfiguration","Tests")),l().createElement(ke.sOW,{className:id.tab},_("laboratoryApprovalsConfiguration","Approvals")),l().createElement(ke.sOW,{className:id.tab},_("laboratoryApprovalFlowsConfiguration","Approval Flows")),c?l().createElement(ke.sOW,{className:id.tab},_("laboratoryStorageConfiguration","Storage")):l().createElement(l().Fragment,null)),l().createElement(ke.on1,null,l().createElement(ke.Gke,{className:id.tabPanel},l().createElement("div",{className:id.panelContainer},0==a&&l().createElement(kA,null))),l().createElement(ke.Gke,{className:id.tabPanel},l().createElement("div",{className:id.panelContainer},1==a&&l().createElement(VA,null))),l().createElement(ke.Gke,{className:id.tabPanel},l().createElement("div",{className:id.panelContainer},2==a&&l().createElement(Zd,null))),l().createElement(ke.Gke,{className:id.tabPanel},l().createElement("div",{className:id.panelContainer},3==a&&l().createElement(Ym,null))),l().createElement(ke.Gke,{className:id.tabPanel},l().createElement("div",{className:id.panelContainer},4==a&&l().createElement(Tm,null))),c?l().createElement(ke.Gke,{className:id.tabPanel},l().createElement("div",{className:id.panelContainer},5==a&&l().createElement(Cp,null))):l().createElement(l().Fragment,null))),m&&l().createElement("div",{className:id.tabPanel,style:{padding:"0.5rem 1rem",fontSize:"75%"}},"Click"," ",l().createElement("a",{href:ue,target:"_blank"},"here")," ","to access the module openmrs settings."))};var kp=n(486),Tp={};Tp.styleTagTransform=Ue(),Tp.setAttributes=qe(),Tp.insert=Be().bind(null,"head"),Tp.domAPI=De(),Tp.insertStyleElement=Fe(),xe()(kp.c,Tp);const Op=kp.c&&kp.c.locals?kp.c.locals:void 0;function Np(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Np(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Np(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ip=Gl.z.object({uuid:Gl.z.string().nullish(),sampleTypeUuid:Gl.z.string().optional(),externalRef:Gl.z.string().max(100).optional(),accessionNumber:Gl.z.string().max(255).optional(),tests:Gl.z.any().optional(),archiveSample:Gl.z.boolean().nullable().optional(),storageUuid:Gl.z.string().nullable().optional(),storageUnitUuid:Gl.z.string().optional().nullish()}).refine((function(e){var t=e.sampleTypeUuid,n=e.externalRef,r=e.accessionNumber,a=e.tests,o=e.archiveSample;return Boolean(t)||Boolean(!(n||r||Boolean(a&&Object.entries(a).some((function(e){var t,n=xp(e,2),r=(n[0],n[1]);return(null==r||null===(t=r.tests)||void 0===t?void 0:t.length)>0})))||o))}),{message:"Required",path:["sampleTypeUuid"]}).refine((function(e){var t=e.sampleTypeUuid,n=e.externalRef,r=e.accessionNumber,a=e.tests,o=e.archiveSample;return Boolean(n)||Boolean(!(t||r||Boolean(a&&Object.entries(a).some((function(e){var t,n=xp(e,2),r=(n[0],n[1]);return(null==r||null===(t=r.tests)||void 0===t?void 0:t.length)>0})))||o))}),{message:"Required",path:["externalRef"]}).refine((function(e){var t=e.sampleTypeUuid,n=e.externalRef,r=e.accessionNumber,a=e.tests,o=e.archiveSample;return Boolean(r)||Boolean(!(t||n||Boolean(a&&Object.entries(a).some((function(e){var t,n=xp(e,2),r=(n[0],n[1]);return(null==r||null===(t=r.tests)||void 0===t?void 0:t.length)>0})))||o))}),{message:"Required",path:["accessionNumber"]}).refine((function(e){var t=e.sampleTypeUuid,n=e.externalRef,r=e.accessionNumber,a=e.tests,o=e.archiveSample;return Boolean(a&&Object.entries(a).some((function(e){var t,n=xp(e,2),r=(n[0],n[1]);return(null==r||null===(t=r.tests)||void 0===t?void 0:t.length)>0})))||Boolean(!(t||n||r||o))}),{message:"At least one test is required",path:["tests"]}).refine((function(e){var t=e.archiveSample,n=e.storageUuid;return!Boolean(t)||Boolean(n&&n.trim().length>0)}),{message:"Required",path:["storageUuid"]}).refine((function(e){var t=e.archiveSample,n=e.storageUnitUuid;return!Boolean(t)||Boolean(n&&n.trim().length>0)}),{message:"Required",path:["storageUnitUuid"]}),Dp=Gl.z.object({referralFromFacilityUuid:Gl.z.string(),requestDate:Gl.z.date(),urgency:Gl.z.enum(Li),referralInExternalRef:Gl.z.string().max(50).optional(),clinicalNote:Gl.z.string().max(1e3).optional(),uuid:Gl.z.string().nullish(),samples:Gl.z.array(Ip).nonempty("Required")}).refine((function(e){var t=e.samples;return(null==t?void 0:t.length)>0&&t.some((function(e){return Boolean(e.accessionNumber||e.externalRef||e.sampleTypeUuid||Boolean(e.tests&&Object.entries(e.tests).some((function(e){var t,n=xp(e,2),r=(n[0],n[1]);return(null==r||null===(t=r.tests)||void 0===t?void 0:t.length)>0}))))}))}),{message:"At least one sample is required",path:["samples"]});function Rp(){return"".concat((new Date).getTime(),"-").concat(Math.random().toString(36).substring(2,16))}var Bp=n(4928),Pp={};Pp.styleTagTransform=Ue(),Pp.setAttributes=qe(),Pp.insert=Be().bind(null,"head"),Pp.domAPI=De(),Pp.insertStyleElement=Fe(),xe()(Bp.c,Pp);const qp=Bp.c&&Bp.c.locals?Bp.c.locals:void 0;function jp(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function Fp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Fp(e,t,n[t])}))}return e}const Up=function(e){var t=(0,He.useTranslation)().t,n=rr().laboratoryConfig,a=n.enableSpecimenIdAutoGeneration,o=n.laboratoryBarcodePrintUri,i=n.laboratoryBarcodeAlgorithm,s=n.laboratoryBarcodeGenerateAndPrint,c=n.laboratoryBarcodeIdGenIdentifierSource,u=function(e){window.open(o.replace("%BARCODE%",e),"_blank","noreferrer")},d=function(){var e,n=(e=function(e,n){return function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,(function(a){return e.preventDefault(),lo(i,c).then((function(e){n(e),(0,r.showSnackbar)({isLowContrast:!0,title:t("generatesampleID","Generate Sample Id"),kind:"success",subtitle:t("generateSuccessfully","You have successfully generated a Sample Id"),autoClose:!0}),s&&u(e)}),(function(e){var n=Yr(e);(0,r.showNotification)({title:t("errorGeneratingId', 'Error Generating Sample Id"),kind:"error",critical:!0,description:n.join(", ")})})),[2]}))},function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){jp(o,r,a,l,i,"next",e)}function i(e){jp(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(e,t){return n.apply(this,arguments)}}();return l().createElement(Wo.Mc,{name:e.controllerName,control:e.control,render:function(t){var n,r,i=t.field,s=i.onChange,c=i.value,m=i.ref,A=io(c);return l().createElement(l().Fragment,null,l().createElement("div",{className:qp.generateContainer},l().createElement(ke.gf6,(n=Lp({},e),r=null!=(r={onChange:function(t){s(t.target.value),e.onChange&&e.onChange(t.target.value)},id:e.name,ref:m,value:c,title:null!=A?A:"",readOnly:a,hideReadOnly:!1})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))})),n)),l().createElement(ke.qaq,{className:qp.generateBtn,hasIconOnly:!0,onClick:function(t){return d(t,(function(t){s(t),e.onChange&&e.onChange(t)}))},renderIcon:function(e){return l().createElement(Mr.Ow,Lp({size:16,title:""},e))},disabled:!1,title:""}),o&&c&&l().createElement(ke.qaq,{hasIconOnly:!0,className:qp.generateBtn,kind:"ghost",size:"sm",onClick:function(e){return u(c)},renderIcon:function(e){return l().createElement(Mr.Ef,Lp({size:16},e))}})),e.invalid&&l().createElement("div",{className:qp.errorText},e.invalidText))}})};var zp=n(4592),Mp={};Mp.styleTagTransform=Ue(),Mp.setAttributes=qe(),Mp.insert=Be().bind(null,"head"),Mp.domAPI=De(),Mp.insertStyleElement=Fe(),xe()(zp.c,Mp);const Gp=zp.c&&zp.c.locals?zp.c.locals:void 0;function Hp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Hp(e,t,n[t])}))}return e}const Wp=function(e){var t=e.center,n=e.deleteTest,r=e.tests,a=e.deleteAllTests,o=e.showLocation,i=e.referOut,s=e.readonly,c=void 0!==s&&s,u=e.enableReferOut,d=void 0!==u&&u;return l().createElement("div",{className:Gp.selectedTests},o&&l().createElement("div",{className:Gp.testLocation},l().createElement("h6",null,t.display),!c&&a&&l().createElement(ke.qaq,{kind:"ghost",onClick:function(){return a(t)},renderIcon:function(e){return l().createElement(bo.Gi,Jp({size:16},e))}})),null==r?void 0:r.map((function(e,a){return l().createElement("div",{className:"".concat(Gp.selectedTest," ").concat(r.length%2==0?a%2==0?Gp.selectedTestAltRow:"":a%2==1?Gp.selectedTestAltRow:"")},l().createElement("div",{className:Gp.selectedTestName},l().createElement("span",null,a+1,"."," "),l().createElement("span",null,(null==e?void 0:e.testShortName)?"".concat(null==e?void 0:e.testShortName).concat((null==e?void 0:e.testName)?" (".concat(e.testName,")"):""):null==e?void 0:e.testName)),!c&&l().createElement("div",{className:Gp.referOut},d&&l().createElement(ke.ywS,{checked:e.referOut,onChange:function(n){i(t,e)},className:Gp.testGroupItem,labelText:"Refer-Out",id:"test-chk-".concat(e.uuid)}),l().createElement(ke.qaq,{kind:"ghost",onClick:function(){return n(t,e)},renderIcon:function(e){return l().createElement(bo.Gi,Jp({size:16},e))}})))})))};var Vp=n(9332),Yp={};Yp.styleTagTransform=Ue(),Yp.setAttributes=qe(),Yp.insert=Be().bind(null,"head"),Yp.domAPI=De(),Yp.insertStyleElement=Fe(),xe()(Vp.c,Yp);const Qp=Vp.c&&Vp.c.locals?Vp.c.locals:void 0;function Kp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Zp(e,t,n[t])}))}return e}function $p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||t_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e_(e){return function(e){if(Array.isArray(e))return Kp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||t_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t_(e,t){if(e){if("string"==typeof e)return Kp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kp(e,t):void 0}}const n_=function(e){var t=gd(),n=(t.items.results,t.isLoading),a=(t.isValidating,t.getApprovalFlows,$p((0,o.useState)(""),2)),i=(a[0],a[1],(0,He.useTranslation)().t),s=$p((0,o.useState)(100),2),c=s[0],u=s[1],d=$p((0,o.useState)((function(){var t;return null!==(t=e.availableTests)&&void 0!==t?t:[]})),2),m=d[0],A=d[1],p=$p((0,o.useState)(e.defaultValue),2),_=p[0],v=p[1],f=function(t,n){var r,a,o;e.onChange(t),v(t),n&&(o=new Set(Object.entries(_).map((function(e){var t=$p(e,2),n=t[0],r=t[1];return n.startsWith("NEW-")?[]:r.tests.map((function(e){return e.uuid}))})).flatMap((function(e){return e}))),A(null!==(a=null===(r=e.availableTests)||void 0===r?void 0:r.filter((function(e){return!o.has(e.uuid)})))&&void 0!==a?a:[]),u((function(e){return e+1})))},b=(0,o.useMemo)((function(){if(_){var e,t=$p(null!==(e=Object.entries(_).find((function(e){var t=$p(e,2),n=t[0];return t[1],n.startsWith("NEW-")})))&&void 0!==e?e:[void 0,void 0],2),n=t[0],r=t[1];return n&&(n=n.length>4?n.substring(4):void 0),{center:n,value:null!=r?r:{tests:[]}}}return{center:void 0,value:{tests:[],center:void 0}}}),[_]),g=e.updateValue,y=(0,o.useCallback)((function(){var e=(0,r.showModal)("lab-request-test-select-dialog",{closeModal:function(){return e()},availableTests:m,initialSelection:_?Object.entries(_).filter((function(e){var t=$p(e,2),n=t[0];return t[1],n.startsWith("NEW-")})).map((function(e){var t,n=$p(e,2),r=(n[0],n[1]);return null!==(t=null==r?void 0:r.tests)&&void 0!==t?t:[]})).flatMap((function(e){return e})):[],onSelectionComplete:function(t){var n,r=Xp({},null!=_?_:{}),a=$p(null!==(n=Object.entries(r).find((function(e){var t=$p(e,2),n=t[0];return t[1],n.startsWith("NEW-")})))&&void 0!==n?n:[void 0,void 0],2),o=a[0],l=a[1];o&&l&&(l.tests=e_(t)),v(r),g(r),u((function(e){return e+1})),e()}})}),[m,_,g]);return n?l().createElement(ke.Qrc,null):l().createElement(Wo.Mc,{name:e.controllerName,control:e.control,render:function(t){var n,r,a,o,s,d,A,p,_,v=t.field,g=v.onChange,h=v.ref,C=v.value;return l().createElement(l().Fragment,null,Object.entries(C).map((function(e){var t=$p(e,2),n=t[0],r=t[1];return n.startsWith("NEW")?l().createElement(l().Fragment,null):l().createElement("section",{key:n,className:Qp.locationLabRequest},l().createElement(Wp,{readonly:!1,center:r.center,tests:r.tests,showLocation:!0,deleteAllTests:function(e){var t=Xp({},C);delete t[e.uuid],g(t),u((function(e){return e+1})),f(t,!0)},deleteTest:function(e,t){var n=Xp({},C);r.tests.length<2?delete n[e.uuid]:n[e.uuid].tests=n[e.uuid].tests.filter((function(e){return e.uuid!=t.uuid})),g(n),u((function(e){return e+1})),f(n,!0)}}))})),l().createElement("section",{className:Qp.locationLabRequest},(!e.locations||0==e.locations.length)&&l().createElement(ke.Qrc,null),(null===(n=e.locations)||void 0===n?void 0:n.length)>0&&l().createElement(ke.M1e,{className:Qp.textInput,type:"text",labelText:i("laboratoryDiagonisticCenter","Lab Section"),rules:{required:!0},value:null!==(_=null==b?void 0:b.center)&&void 0!==_?_:"",invalid:!(null==b?void 0:b.center)&&e.invalid,invalidText:e.invalidText,onChange:function(t){var n,r,a,o=Xp({},null!=C?C:{}),l=$p(null!==(n=Object.entries(o).find((function(e){var t=$p(e,2),n=t[0];return t[1],n.startsWith("NEW-")})))&&void 0!==n?n:[void 0,void 0],2),i=l[0],s=l[1];i&&delete o[i],t.target.value&&(o["NEW-".concat(t.target.value)]={tests:e_(null!==(a=null==s?void 0:s.tests)&&void 0!==a?a:[]),center:null===(r=e.locations)||void 0===r?void 0:r.find((function(e){return e.uuid==t.target.value}))}),g(o),f(o,!0)}},!(null==b?void 0:b.center)&&l().createElement(ke.gV5,{text:i("laboratoryDiagonisticCenterSelect","Select Location"),value:""}),null===(r=e.locations)||void 0===r?void 0:r.map((function(e){return l().createElement(ke.gV5,{key:e.uuid,text:e.display,value:e.uuid},e.display)}))),(null==b?void 0:b.center)&&l().createElement("div",{className:Qp.labRequests},l().createElement("div",{className:"cds--label ".concat(Qp.labRequestsHeader)},l().createElement("span",null,"Lab Request(s):"),l().createElement(ke.qaq,{kind:"ghost",onClick:y,renderIcon:function(e){return l().createElement(bo.Uv,Xp({size:16},e))}},i("LaboratoryAllTests","All Tests"))),!e.availableTests&&l().createElement(ke.Qrc,null),m&&l().createElement(l().Fragment,null,l().createElement("div",{className:Qp.selectedTests},null==b||null===(o=b.value)||void 0===o||null===(a=o.tests)||void 0===a?void 0:a.map((function(e,t){var n;return l().createElement("div",{className:"".concat(Qp.selectedTest," ").concat((null==b||null===(n=b.value)||void 0===n?void 0:n.tests.length)%2==0?t%2==0?Qp.selectedTestAltRow:"":t%2==1?Qp.selectedTestAltRow:"")},l().createElement("div",{className:Qp.selectedTestName},l().createElement("span",null,t+1,"."," "),l().createElement("span",null,(null==e?void 0:e.testShortName)?"".concat(null==e?void 0:e.testShortName).concat((null==e?void 0:e.testName)?" (".concat(e.testName,")"):""):null==e?void 0:e.testName)),l().createElement(ke.qaq,{kind:"ghost",onClick:function(){var t,n,r,a,o,l=Xp({},null!=C?C:{}),i=$p(null!==(r=Object.entries(l).find((function(e){var t=$p(e,2),n=t[0];return t[1],n.startsWith("NEW-")})))&&void 0!==r?r:[void 0,void 0],2),s=i[0],c=i[1];s&&c&&0!=(null!==(a=null===(t=c.tests)||void 0===t?void 0:t.length)&&void 0!==a?a:0)&&(l[s].tests=null!==(o=null===(n=l[s].tests)||void 0===n?void 0:n.filter((function(t){return t.uuid!=e.uuid})))&&void 0!==o?o:[],g(l),u((function(e){return e+1})),f(l,!0))},renderIcon:function(e){return l().createElement(bo.Gi,Xp({size:16},e))}}))}))),(null==b||null===(d=b.value)||void 0===d||null===(s=d.tests)||void 0===s?void 0:s.length)>0&&l().createElement("div",null,l().createElement(ke.qaq,{size:"sm",iconDescription:"Add",hasIcon:!0,renderIcon:function(e){return l().createElement(Oe.OM,(t=Xp({},e),n=null!=(n={size:16})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t));var t,n},kind:"ghost",onClick:function(){var t,n,r,a=null!=C?C:{},o=$p(null!==(n=Object.entries(a).find((function(e){var t=$p(e,2),n=t[0];return t[1],n.startsWith("NEW-")})))&&void 0!==n?n:[void 0,void 0],2),l=o[0],i=o[1];if(l&&i&&0!=(null!==(r=null===(t=i.tests)||void 0===t?void 0:t.length)&&void 0!==r?r:0)){var s=l;l=l.substring(4);var c=Xp({},a);c[l]||(c[l]={center:e.locations.find((function(e){return e.uuid==l})),tests:new Array}),c[l].tests=e_(new Set(e_(c[l].tests).concat(e_(i.tests)))),delete c[s],c[s]={center:c[l].center,tests:[]},g(c),u((function(e){return e+1})),f(c,!0)}}},i("laboratoryAddForAnotherLocation","Add For Other Lab Section"))),l().createElement("div",{className:"".concat(Qp.multiSelectedCombo),style:{backgroundColor:"white"}},l().createElement(ke.oTB,{downshiftProps:{inputId:"labRequestMultiSelectedCombo"},key:c,direction:"top",titleText:e.title,name:e.name,control:e.control,controllerName:e.controllerName,id:e.id,placeholder:e.placeholder,initialSelectedItems:null==b||null===(A=b.value)||void 0===A?void 0:A.tests,selectedItems:null==b||null===(p=b.value)||void 0===p?void 0:p.tests,onChange:function(e){var t,n=Xp({},null!=C?C:{}),r=$p(null!==(t=Object.entries(n).find((function(e){var t=$p(e,2),n=t[0];return t[1],n.startsWith("NEW-")})))&&void 0!==t?t:[void 0,void 0],2),a=r[0],o=r[1];a&&(o.tests=e.selectedItems,g(n),f(n,!1))},items:e.availableTests,itemToString:function(e){var t;return null!==(t=(null==e?void 0:e.testShortName)?"".concat(null==e?void 0:e.testShortName).concat((null==e?void 0:e.testName)?" (".concat(e.testName,")"):""):null==e?void 0:e.testName)&&void 0!==t?t:""},selectionFeedback:"top-after-reopen",ref:h,invalid:e.invalid,invalidText:e.invalidText,size:"sm"}))))))}})};var r_=n(3044),a_={};a_.styleTagTransform=Ue(),a_.setAttributes=qe(),a_.insert=Be().bind(null,"head"),a_.domAPI=De(),a_.insertStyleElement=Fe(),xe()(r_.c,a_);const o_=r_.c&&r_.c.locals?r_.c.locals:void 0,l_=function(e){return l().createElement(Wo.Mc,{name:e.controllerName,control:e.control,render:function(t){var n=t.field,r=n.onChange,a=n.value,o=n.ref;return l().createElement(ke.ywS,{checked:a,ref:o,id:e.controllerName,onChange:function(){r(Boolean(!a)),e.onChange&&e.onChange(!a)},labelText:e.labelText})}})};function i_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const s_=function(e){var t,n,a,o,i,s,c,u,d=e.items,m=e.canEdit,A=e.errors,p=e.control,_=e.setValue,v=e.setFocus,f=e.canArchiveSamples,b=e.getValue,g=e.watch,y=(0,He.useTranslation)().t,h=rr().laboratoryConfig,C=h.laboratorySpecimenTypeConcept,w=h.laboratoryLocationTag,E=Yn({active:!0}),S=E.items.results,k=E.isLoading,T=(a=C,o="".concat(r.restBaseUrl,"/concept/").concat(a),s=(i=(0,Et.cp)(o,St,{revalidateOnFocus:!1})).data,c=i.error,u=i.isLoading,{items:(null==s?void 0:s.data)||{},isLoading:u,isError:c}),O=T.items,N=T.isLoading,x=(0,r.useLocations)(w),I=(0,Wo.QL)({control:p,name:"samples"}),D=I.fields,R=I.append,B=I.remove,P=function(e){if(D[e].uuid==D[D.length-1].uuid){var t="new-item-".concat(Rp());R({uuid:t,tests:{},archiveSample:!1})}},q=function(e){setTimeout((function(){return v(e)}),100)};return N||k?l().createElement(ke.m2V,{role:"progressbar"}):l().createElement(l().Fragment,null,(null==A||null===(t=A.samples)||void 0===t?void 0:t.root)&&l().createElement("div",{className:o_.errorText},null==A||null===(n=A.samples)||void 0===n?void 0:n.root.message),l().createElement("div",{className:"".concat(o_.samples," ")},D.map((function(e,t){var n,r,a,o,i,s,c,u,v,h,C,w,E,T,N,I,R,j,F,L,U,z,M,G,H,J,W,V,Y,Q,K,Z,X,$,ee,te,ne,re,ae,oe,le=g("samples.".concat(t,".storageUuid"));return l().createElement(ke.g$J,{className:"".concat(o_.sample," ").concat(t%2==0?o_.AltRow:""),key:e.id},m&&l().createElement(l().Fragment,null,l().createElement(Fi,{popUpDrirection:"bottom",concept:O,selectedId:null==e?void 0:e.sampleTypeUuid,selectedText:null==e?void 0:e.sampleTypeName,controllerName:"samples.".concat(t,".sampleTypeUuid"),name:"samples.".concat(t,".sampleTypeUuid"),control:p,title:"",onChange:function(e){return function(e,t,n){n&&P(t),q("samples.".concat(t,".externalRef"))}(D[t],t,e)},placeholder:y("laboratorySpecifySampleType","Sample Type"),invalid:!!(null==A||null===(r=A.samples)||void 0===r||null===(n=r[t])||void 0===n?void 0:n.sampleTypeUuid),invalidText:(null==A||null===(o=A.samples)||void 0===o||null===(a=o[t])||void 0===a?void 0:a.sampleTypeUuid)&&(null==A||null===(c=A.samples)||void 0===c||null===(s=c[t])||void 0===s||null===(i=s.sampleTypeUuid)||void 0===i?void 0:i.message)})),!m&&(null==e?void 0:e.sampleTypeName),m&&l().createElement(_i,{readOnly:!m,name:"samples.".concat(t,".externalRef"),control:p,controllerName:"samples.".concat(t,".externalRef"),maxLength:100,size:"sm",value:null!==(ae=null==e?void 0:e.externalRef)&&void 0!==ae?ae:"",labelText:"",placeholder:y("laboratoryExternalRef","Sample Reference Number"),invalid:!!(null==A||null===(v=A.samples)||void 0===v||null===(u=v[t])||void 0===u?void 0:u.externalRef),invalidText:(null==A||null===(C=A.samples)||void 0===C||null===(h=C[t])||void 0===h?void 0:h.externalRef)&&(null==A||null===(T=A.samples)||void 0===T||null===(E=T[t])||void 0===E||null===(w=E.externalRef)||void 0===w?void 0:w.message),onChange:function(e){return function(e,t,n){n&&P(t),q("samples.".concat(t,".externalRef"))}(D[t],t,e.target.value)}}),!m&&(null==e?void 0:e.externalRef),m&&l().createElement(Up,{readOnly:!m,name:"samples.".concat(t,".accessionNumber"),control:p,controllerName:"samples.".concat(t,".accessionNumber"),maxLength:100,size:"sm",value:null!==(oe=null==e?void 0:e.accessionNumber)&&void 0!==oe?oe:"",labelText:"",placeholder:y("laboratoryGenerateInternalReference","Generate Internal Reference"),invalid:!!(null==A||null===(I=A.samples)||void 0===I||null===(N=I[t])||void 0===N?void 0:N.accessionNumber),invalidText:(null==A||null===(j=A.samples)||void 0===j||null===(R=j[t])||void 0===R?void 0:R.accessionNumber)&&(null==A||null===(U=A.samples)||void 0===U||null===(L=U[t])||void 0===L||null===(F=L.accessionNumber)||void 0===F?void 0:F.message),onChange:function(e){return function(e,t,n){n&&P(t),q("samples.".concat(t,".accessionNumber"))}(D[t],t,e)}}),!m&&(null==e?void 0:e.accessionNumber),m&&l().createElement(l().Fragment,null,k&&l().createElement(ke.Qrc,null),!k&&S&&x&&l().createElement(n_,{id:"samples.".concat(t,".tests"),name:"samples.".concat(t,".tests"),control:p,locations:x,availableTests:S,controllerName:"samples.".concat(t,".tests"),defaultValue:e.tests,updateValue:function(e){_("samples.".concat(t,".tests"),e)},onChange:function(e){},title:"",placeholder:y("laboratoryRequestChooseTests","Choose tests"),invalid:!!(null==A||null===(M=A.samples)||void 0===M||null===(z=M[t])||void 0===z?void 0:z.tests),invalidText:(null==A||null===(H=A.samples)||void 0===H||null===(G=H[t])||void 0===G?void 0:G.tests)&&(null==A||null===(V=A.samples)||void 0===V||null===(W=V[t])||void 0===W||null===(J=W.tests)||void 0===J?void 0:J.message)})),!m&&Object.entries(e.tests).map((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return i_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i_(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],o=r[1];return a.startsWith("NEW")?l().createElement(l().Fragment,null):l().createElement("section",{key:a,className:o_.locationLabRequest},l().createElement(Wp,{readonly:!0,center:o.center,tests:o.tests,showLocation:!0,deleteAllTests:function(){},deleteTest:function(){}}))})),f&&l().createElement(l().Fragment,null,l().createElement("div",null,l().createElement(l_,{controllerName:"samples.".concat(t,".archiveSample"),name:"samples.".concat(t,".archiveSample"),labelText:y("laboratoryArchiveSample","Archive Sample"),control:p,onChange:function(){_("samples.".concat(t,".storageUuid"),null),_("samples.".concat(t,".storageUnitUuid"),null)}})),l().createElement("div",null,Boolean(b("samples.".concat(t,".archiveSample")))&&l().createElement(l().Fragment,null,l().createElement(nu,{controllerName:"samples.".concat(t,".storageUuid"),active:!0,name:"samples.".concat(t,".storageUuid"),control:p,hideLabel:!0,title:"",placeholder:y("laboratoryRepositoryStorage","Storage"),onChange:function(){_("samples.".concat(t,".storageUnitUuid"),null)},invalid:!!(null==A||null===(Q=A.samples)||void 0===Q||null===(Y=Q[t])||void 0===Y?void 0:Y.storageUuid),invalidText:null==A||null===(X=A.samples)||void 0===X||null===(Z=X[t])||void 0===Z||null===(K=Z.storageUuid)||void 0===K?void 0:K.message,direction:"top"}),le&&l().createElement(lu,{key:"samples.".concat(t,".storageUnitUuid-").concat(le),controllerName:"samples.".concat(t,".storageUnitUuid"),storageUuid:le,active:!0,assigned:!1,name:"samples.".concat(t,".storageUnitUuid"),control:p,title:"",hideLabel:!0,placeholder:y("laboratoryRepositoryStorageUnit","Storage Unit"),invalid:!!(null==A||null===(ee=A.samples)||void 0===ee||null===($=ee[t])||void 0===$?void 0:$.storageUnitUuid),invalidText:null==A||null===(re=A.samples)||void 0===re||null===(ne=re[t])||void 0===ne||null===(te=ne.storageUnitUuid)||void 0===te?void 0:te.message,direction:"top"})))),m&&l().createElement("div",{className:o_.sampleRemove},l().createElement(ke.qaq,{type:"button",size:"sm",iconDescription:"Delete",kind:"ghost",renderIcon:bo.Gi,onClick:function(n){return function(e,t,n){var r;n.preventDefault(),(null===(r=e.uuid)||void 0===r?void 0:r.startsWith("new-item"))&&e.uuid===d[d.length-1].uuid||B(t)}(e,t,n)}},y("laboratorySampleRemove","Remove"))))}))))};function c_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u_(e){return function(e){if(Array.isArray(e))return c_(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c_(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const d_=function(e){var t=eA({active:!0,referrerIn:e.referrerIn,referrerOut:e.referrerOut}),n=t.items.results;return t.isLoading?l().createElement(ke.Qrc,null):l().createElement(Wo.Mc,{name:e.controllerName,control:e.control,render:function(t){var r,a=t.field.onChange;return l().createElement(ke.Q1m,{titleText:e.title,name:e.name,control:e.control,controllerName:e.controllerName,id:"".concat(e.name,"-").concat(e.idSuffix),size:"md",items:e.selectedId?u_((null==n?void 0:n.some((function(t){return t.uuid===e.selectedId})))?[]:[{uuid:e.selectedId,display:e.selectedText}]).concat(u_(null!=n?n:[])):n||[],onChange:function(t){var n,r;null===(n=e.onChange)||void 0===n||n.call(e,null==t?void 0:t.selectedItem),a(null==t||null===(r=t.selectedItem)||void 0===r?void 0:r.uuid)},initialSelectedItem:e.selectedId?null!==(r=null==n?void 0:n.find((function(t){return t.uuid===e.selectedId})))&&void 0!==r?r:{uuid:e.selectedId,display:e.selectedText}:null,itemToString:function(e){var t,n;return null!==(n=null!==(t=null==e?void 0:e.name)&&void 0!==t?t:null==e?void 0:e.conceptName)&&void 0!==n?n:(null==e?void 0:e.patientFamilyName)||(null==e?void 0:e.patientGivenName)?"".concat(null==e?void 0:e.patientFamilyName," ").concat(null==e?void 0:e.patientMiddleName," ").concat(null==e?void 0:e.patientGivenName):""},shouldFilterItem:function(){return!0},placeholder:e.placeholder,invalid:e.invalid,invalidText:e.invalidText})}})};function m_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A_(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function p_(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){A_(o,r,a,l,i,"next",e)}function i(e){A_(o,r,a,l,i,"throw",e)}l(void 0)}))}}function __(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){__(e,t,n[t])}))}return e}function f_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b_(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}const g_=function(e){var t,n,a,i,s,c=e.onPageChanged,d=e.model,m=(0,He.useTranslation)().t,A=f_((0,o.useState)(!1),2),p=A[0],_=A[1],v=kt(),f=f_((0,o.useState)(0),2),b=f[0],g=f[1],y=(0,r.useSession)();(0,o.useEffect)((function(){_((null==y?void 0:y.user)&&(0,r.userHasAccess)(tn,y.user))}),[y.user]),(0,o.useEffect)((function(){c({showDateInHeader:!1,title:m("laboratoryReferralConfigHeaderTitle","Referral Request")})}),[]);var h,C,w=(0,Wo.aS)({defaultValues:v_({},null!=d?d:{},(null==d?void 0:d.requestDate)?{}:{requestDate:kt()},{samples:new Array({uuid:"new-item-".concat(Rp()),tests:{},archiveSample:!1})}),mode:"all",resolver:(0,Ml.C)(Dp)}),E=w.handleSubmit,S=w.control,k=w.formState,T=w.watch,O=w.setValue,N=w.getValues,x=w.setFocus,I=f_((0,o.useState)(!1),2),D=I[0],R=I[1],B=function(){var e=p_((function(e){var t,n,a,o,l,i;return b_(this,(function(s){switch(s.label){case 0:t=e,s.label=1;case 1:return s.trys.push([1,3,,4]),a=t.samples.map((function(e){if(Boolean(!(e.sampleTypeUuid||e.externalRef||e.accessionNumber||Boolean(e.tests&&Object.entries(e.tests).some((function(e){var t,n=f_(e,2),r=(n[0],n[1]);return(null==r||null===(t=r.tests)||void 0===t?void 0:t.length)>0}))))))return null;var t={sampleTypeUuid:e.sampleTypeUuid,accessionNumber:e.accessionNumber,externalRef:e.externalRef,tests:Object.entries(e.tests).map((function(e){var t,n=f_(e,2)[1];return null===(t=n.tests)||void 0===t?void 0:t.map((function(e){return{testUuid:e.testUuid,locationUuid:n.center.uuid}}))})).flatMap((function(e){return e.filter((function(e){return e}))}))};return e.archiveSample&&(t.archive=!0,t.storageUnitUuid=e.storageUnitUuid),t})).filter((function(e){return null!=e})),o={atLocationUuid:null===(n=y.sessionLocation)||void 0===n?void 0:n.uuid,requestDate:Rt(t.requestDate),clinicalNote:t.clinicalNote,urgency:t.urgency,referralFromFacilityUuid:t.referralFromFacilityUuid,referralInExternalRef:t.referralInExternalRef,samples:a,referredIn:!0},R(!0),[4,ln(o)];case 2:return l=s.sent(),zn(ne),zn(re),zn(Y),(null==l?void 0:l.data)&&((0,r.showSnackbar)({isLowContrast:!0,title:m("laboratoryAddReferralTestRequest","Add Referral Request"),kind:"success",subtitle:m("laboratoryAddReferralTestRequestSuccess","Referral Request Added Successfully")}),(0,r.navigate)({to:u})),[3,4];case 3:return i=s.sent(),R(!1),(0,r.showNotification)({title:m("laboratoryAddReferralTestRequestError","Error adding referral request"),kind:"error",critical:!0,description:Yr(i)}),[3,4];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),P=k.errors,q=function(){var e=p_((function(e){return b_(this,(function(e){return(0,r.showSnackbar)({isLowContrast:!0,title:m("laboratoryLabRequestSubmitError","Error saving lab request"),kind:"error",subtitle:"Check and complete the required fields",autoClose:!0}),[2]}))}));return function(t){return e.apply(this,arguments)}}(),j=T("samples");return l().createElement("div",{className:Op.formWrapper},l().createElement("form",{className:Op.form},l().createElement("div",{className:Op.modalBody},l().createElement(l().Fragment,null,l().createElement(ke.kZJ,{className:Op.tabs,onChange:function(e){var t=e.selectedIndex;g(t)},selectedIndex:b},l().createElement(ke.qc_,{className:Op.tablist,"aria-label":"List tabs",contained:!0},l().createElement(ke.sOW,{className:Op.tab},m("laboratoryReferralTestsInfo","Referral Information")),l().createElement(ke.sOW,{className:Op.tab},m("laboratoryReferralSamples","Samples"))),l().createElement(ke.on1,null,l().createElement(ke.Gke,{className:Op.tabPanel},l().createElement("div",{className:"".concat(Op.panelContainer," ").concat(Op.referralInfo)},l().createElement(d_,{selectedId:null==d?void 0:d.referralFromFacilityUuid,selectedText:null==d?void 0:d.referralFromFacilityName,controllerName:"referralFromFacilityUuid",name:"referralFromFacilityUuid",control:S,title:m("locationReferral","Reference Location:"),placeholder:m("chooseAnItem","Choose an item"),invalid:!!P.referralFromFacilityUuid,invalidText:P.referralFromFacilityUuid&&(null==P||null===(t=P.referralFromFacilityUuid)||void 0===t?void 0:t.message),referrerIn:!0})),l().createElement("div",null,l().createElement("section",{className:"".concat(Op.section," ").concat(Op.inputWhite)},l().createElement(Wo.Mc,{control:S,name:"requestDate",render:function(e){var t,n=e.field,r=n.onChange,a=n.value;return l().createElement(ke.I4g,{datePickerType:"single",maxDate:Dt(v),locale:"en",dateFormat:Tt,onChange:function(e){r(e[0])},value:a},l().createElement(ke.Mjs,{invalid:!!P.requestDate,invalidText:P.requestDate&&(null==P||null===(t=P.requestDate)||void 0===t?void 0:t.message),id:"requestDate",name:"requestDate",placeholder:Ot,labelText:m("date","Date"),value:Dt(a),defaultValue:a}))}}),l().createElement("div",{className:"".concat(Op["clear-margin-padding-top-bottom"]," ").concat(Op.horizontalRadioButtons)},l().createElement("div",{className:"".concat(Op.radioLabel," cds--label")},m("laboratoryRequestUrgency","Urgency"),P.urgency&&(null==P||null===(n=P.urgency)||void 0===n?void 0:n.message)&&l().createElement("div",{className:Op.errorText},m(null==P||null===(a=P.urgency)||void 0===a?void 0:a.message))),l().createElement(Wo.Mc,{name:"urgency",control:S,render:function(e){var t,n=e.field,r=n.onChange,a=n.value,o=n.ref;return l().createElement(ke.OOm,{id:"urgency",name:"urgency",invalid:!!P.urgency,invalidText:P.urgency&&(null==P||null===(t=P.urgency)||void 0===t?void 0:t.message),legendText:"",value:a,ref:o,defaultSelected:null==d?void 0:d.urgency,onChange:r},Li.map((function(e,t){return l().createElement(ke.OUg,{key:"".concat(t,"-urgency-").concat(e),id:"urgency-".concat(e),labelText:e,value:e,checked:a===e,onChange:function(){return r(e)},ref:o})})))}})),l().createElement("div",{className:"".concat(Op.panelContainer," ").concat(Op.referralInfo)},l().createElement(_i,{name:"referralInExternalRef",control:S,controllerName:"referralInExternalRef",maxLength:50,size:"sm",value:null!==(h=null==d?void 0:d.referralInExternalRef)&&void 0!==h?h:"",labelText:m("laboratoryReferralReferenceNumber:","Referral Reference Number"),invalid:!!(null==P?void 0:P.referralInExternalRef),invalidText:(null==P?void 0:P.referralInExternalRef)&&(null==P||null===(i=P.referralInExternalRef)||void 0===i?void 0:i.message)})),l().createElement(rl,{id:"clinicalNote",name:"clinicalNote",control:S,controllerName:"clinicalNote",maxLength:500,value:"".concat(null!==(C=null==d?void 0:d.clinicalNote)&&void 0!==C?C:""),labelText:m("clinicalNote:","Clinical Notes"),invalid:!!P.clinicalNote,invalidText:P.clinicalNote&&(null==P||null===(s=P.clinicalNote)||void 0===s?void 0:s.message)})))),l().createElement(ke.Gke,{className:Op.tabPanel},l().createElement("div",{className:Op.panelContainer},l().createElement(s_,{items:j,canEdit:!0,errors:P,control:S,getValue:N,setValue:O,setFocus:x,watch:T,canArchiveSamples:p}))))))),l().createElement("div",{className:Op.modalFooter},l().createElement(ke.qaq,{disabled:D,onClick:function(){return(0,r.navigate)({to:u})},kind:"secondary"},m("cancel","Cancel")),l().createElement(ke.qaq,{onClick:E(B,q),disabled:D},D?l().createElement(ke.kp8,null):m("save","Save")))))};var y_=n(4676),h_={};h_.styleTagTransform=Ue(),h_.setAttributes=qe(),h_.insert=Be().bind(null,"head"),h_.domAPI=De(),h_.insertStyleElement=Fe(),xe()(y_.c,h_);const C_=y_.c&&y_.c.locals?y_.c.locals:void 0;var w_,E_=Gl.z.object({id:Gl.z.string().optional().nullable().nullish(),conceptUuid:Gl.z.string().optional().nullable().nullish(),worksheetItemUuid:Gl.z.string().optional().nullable().nullish(),testResultUuid:Gl.z.string().nullable().optional(),orderUuid:Gl.z.string().optional().nullable().nullish(),isNumeric:Gl.z.boolean().nullable().optional(),isTextOrNumeric:Gl.z.boolean().nullable().optional(),isCoded:Gl.z.boolean().nullable().optional(),isPanel:Gl.z.boolean().nullable().optional(),value:Gl.z.coerce.string().nullish().optional(),allowDecimals:Gl.z.boolean().nullable().optional(),minValue:Gl.z.coerce.string().nullable().optional().nullish(),maxValue:Gl.z.coerce.string().nullable().optional().nullish()}).partial(),S_=E_.extend({remarks:Gl.z.string().max(1e3,"1000 char(s) max").optional().nullable().nullish(),setMembers:Gl.z.array(E_.refine((function(e){var t=e.isNumeric,n=e.minValue;if(!t)return!0;if(!n)return!0;if("string"==typeof n){if(0==n.length)return!0;n=n.replace(" ","X")}return!Number.isNaN(Number(n))}),{message:"Number required",path:["minValue"]}).refine((function(e){var t=e.isNumeric,n=e.maxValue;if(!t)return!0;if(!n)return!0;if("string"==typeof n){if(0==n.length)return!0;n=n.replace(" ","X")}return!Number.isNaN(Number(n))}),{message:"Number required",path:["maxValue"]}).refine((function(e){var t=e.isNumeric,n=e.minValue,r=e.allowDecimals;if(!t)return!0;if(!n)return!0;if("string"==typeof n){if(0==n.length)return!0;n=n.replace(" ","X")}var a=Number(n);return!!Number.isNaN(a)||!!(r=null==r||r)||Math.ceil(a)==a}),{message:"Decimals not allowed",path:["minValue"]}).refine((function(e){var t=e.isNumeric,n=e.maxValue,r=e.allowDecimals;if(!t)return!0;if(!n)return!0;if("string"==typeof n){if(0==n.length)return!0;n=n.replace(" ","X")}var a=Number(n);return!!Number.isNaN(a)||!!(r=null==r||r)||Math.ceil(a)==a}),{message:"Decimals not allowed",path:["maxValue"]})).optional()}).refine((function(e){var t=e.isNumeric,n=e.minValue;if(!t)return!0;if(!n)return!0;if("string"==typeof n){if(0==n.length)return!0;n=n.replace(" ","X")}return!Number.isNaN(Number(n))}),{message:"Number required",path:["minValue"]}).refine((function(e){var t=e.isNumeric,n=e.maxValue;if(!t)return!0;if(!n)return!0;if("string"==typeof n){if(0==n.length)return!0;n=n.replace(" ","X")}return!Number.isNaN(Number(n))}),{message:"Number required",path:["maxValue"]}).refine((function(e){var t=e.isNumeric,n=e.minValue,r=e.allowDecimals;if(!t)return!0;if(!n)return!0;if("string"==typeof n){if(0==n.length)return!0;n=n.replace(" ","X")}var a=Number(n);return!!Number.isNaN(a)||!!(r=null==r||r)||Math.ceil(a)==a}),{message:"Decimals not allowed",path:["minValue"]}).refine((function(e){var t=e.isNumeric,n=e.maxValue,r=e.allowDecimals;if(!t)return!0;if(!n)return!0;if("string"==typeof n){if(0==n.length)return!0;n=n.replace(" ","X")}var a=Number(n);return!!Number.isNaN(a)||!!(r=null==r||r)||Math.ceil(a)==a}),{message:"Decimals not allowed",path:["maxValue"]}),k_=(Gl.z.object({worksheetItems:Gl.z.array(S_)}),Gl.z.object({reportName:Gl.z.string(),reportSystemName:Gl.z.string(),dateRequired:Gl.z.boolean(),date:Gl.z.coerce.date().optional(),startDateRequired:Gl.z.boolean(),startDate:Gl.z.coerce.date().optional(),endDateRequired:Gl.z.boolean(),endDate:Gl.z.coerce.date().optional(),locationRequired:Gl.z.boolean(),locationUuid:Gl.z.string().optional(),locationName:Gl.z.string().optional(),patientRequired:Gl.z.boolean(),patientUuid:Gl.z.string().optional(),patientName:Gl.z.string().optional(),referralLocationRequired:Gl.z.boolean(),referralLocationUuid:Gl.z.string().optional(),referralLocationName:Gl.z.string().optional(),limitRequired:Gl.z.boolean(),limit:Gl.z.string().optional(),diagnosticLocationRequired:Gl.z.boolean(),diagnosticLocationUuid:Gl.z.string().optional(),diagnosticLocationName:Gl.z.string().optional(),testTypeRequired:Gl.z.boolean(),testTypeUuid:Gl.z.string().optional(),testTypeName:Gl.z.string().optional(),testOutcomeRequired:Gl.z.boolean(),testOutcomes:Gl.z.array(S_).optional(),testOutcomeName:Gl.z.string().optional(),testerRequired:Gl.z.boolean(),testerUuid:Gl.z.string().optional(),testerName:Gl.z.string().optional(),testApproverRequired:Gl.z.boolean(),testApproverUuid:Gl.z.string().optional(),testApproverName:Gl.z.string().optional(),referenceNumberRequired:Gl.z.boolean(),referenceNumber:Gl.z.string().optional()}).refine((function(e){var t=e.dateRequired,n=e.date;return!t||Boolean(n)}),{message:"Required",path:["date"]}).refine((function(e){var t=e.startDateRequired,n=e.startDate;return!t||Boolean(n)}),{message:"Required",path:["startDate"]}).refine((function(e){var t=e.endDateRequired,n=e.endDate;return!t||Boolean(n)}),{message:"Required",path:["endDate"]}).refine((function(e){var t=e.locationRequired,n=e.locationUuid;return!t||Boolean(n)}),{message:"Required",path:["locationUuid"]}).refine((function(e){var t=e.patientRequired,n=e.patientUuid;return!t||Boolean(n)}),{message:"Required",path:["patientUuid"]}).refine((function(e){var t=e.referralLocationRequired,n=e.referralLocationUuid;return!t||Boolean(n)}),{message:"Required",path:["referralLocationUuid"]}).refine((function(e){var t=e.limitRequired,n=e.limit;return!t||Boolean(n)}),{message:"Required",path:["limit"]}).refine((function(e){var t=e.diagnosticLocationRequired,n=e.diagnosticLocationUuid;return!t||Boolean(n)}),{message:"Required",path:["diagnosticLocationUuid"]}).refine((function(e){var t=e.testTypeRequired,n=e.testTypeUuid;return!t||Boolean(n)}),{message:"Required",path:["testTypeUuid"]}).refine((function(e){var t=e.testOutcomes;return!e.testOutcomeRequired||(null==t?void 0:t.some((function(e){return!e.isPanel||!!e.setMembers&&(!(e.setMembers.find((function(e){return!!e.value}))||(e.isTextOrNumeric||e.isCoded)&&e.value)||!e.setMembers.some((function(e){return!Boolean(e.value)}))&&(!e.isTextOrNumeric&&!e.isCoded||Boolean(e.value)))})))}),{message:"Required",path:["testOutcomes"]}).refine((function(e){var t=e.testerRequired,n=e.testerUuid;return!t||Boolean(n)}),{message:"Required",path:["testerUuid"]}).refine((function(e){var t=e.testApproverRequired,n=e.testApproverUuid;return!t||Boolean(n)}),{message:"Required",path:["testApproverUuid"]}).refine((function(e){var t=e.referenceNumberRequired,n=e.referenceNumber;return!t||Boolean(null==n?void 0:n.trim())}),{message:"Required",path:["referenceNumber"]}));function T_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){O_(e,t,n[t])}))}return e}function x_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return T_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e.Date="Date",e.StartDate="StartDate",e.EndDate="EndDate",e.Location="Location",e.Patient="Patient",e.ReferralLocation="ReferralLocation",e.Limit="Limit",e.DiagnosticLocation="DiagnosticLocation",e.TestType="TestType",e.TestOutcome="TestOutcome",e.Tester="Tester",e.TestApprover="TestApprover",e.ReferenceNumber="ReferenceNumber"}(w_||(w_={}));var I_=function(e){return e?20:null},D_=function(e,t){return function(e){return"AUDIT_TRAIL_REPORT"===e}(e)?t("laboratoryReportUser","User"):t("laboratoryReportTester","Tester")};function R_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B_(e){return function(e){if(Array.isArray(e))return R_(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P_(e,t){if(e){if("string"==typeof e)return R_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R_(e,t):void 0}}const q_=function(e){var t,n,r=function(){var e=RA((0,o.useState)(!0),2),t=e[0],n=e[1],r=RA((0,o.useState)(),2),a=r[0],l=r[1],i=(0,wt.c)("".concat(ce),(function(){return St("".concat(ce).concat(Ct(a,!1)))})),s=i.data,c=i.error,u=i.trigger,d=i.isMutating,m=(0,o.useCallback)((function(e){l(e),n(!1)}),[]);return(0,o.useEffect)((function(){t||u()}),[a,t,u]),{getOpenMRSLocations:m,items:(null==s?void 0:s.data)||{},isLoading:!1,isError:c,isValidating:!t&&d}}(),a=r.items.results,i=r.isLoading,s=(r.isValidating,r.getOpenMRSLocations),c=(t=(0,o.useState)(""),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||P_(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],d=c[1],m=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){s({q:e,startIndex:0,limit:10,v:gt.Default})}),300)}),[s]);return i?l().createElement(ke.Qrc,null):l().createElement(Wo.Mc,{name:e.controllerName,control:e.control,render:function(t){var n,r=t.field,o=r.onChange,i=r.ref;return l().createElement(ke.Q1m,{titleText:e.title,name:e.name,control:e.control,controllerName:e.controllerName,id:e.name,size:"md",onChange:function(t){var n,r;null===(n=e.onLocationUuidChange)||void 0===n||n.call(e,t.selectedItem),o(null===(r=t.selectedItem)||void 0===r?void 0:r.uuid)},items:e.selectedId?B_((null==a?void 0:a.some((function(t){return t.uuid===e.selectedId})))?[]:[{uuid:e.selectedId,display:e.selectedText}]).concat(B_(null!=a?a:[])):a||[],initialSelectedItem:e.selectedId?null!==(n=null==a?void 0:a.find((function(t){return t.uuid===e.selectedId})))&&void 0!==n?n:{uuid:e.selectedId,display:e.selectedText}:null,itemToString:function(e){var t;return null!==(t=null==e?void 0:e.display)&&void 0!==t?t:""},shouldFilterItem:function(){return!0},onInputChange:function(e){return d(t=e),void m(t);var t},inputValue:u,placeholder:e.placeholder,ref:i,invalid:e.invalid,invalidText:e.invalidText})}})};function j_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){j_(e,t,n[t])}))}return e}function L_(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const U_=function(e){e.concept;var t=e.control,n=e.errors,r=(e.isPanel,e.isCoded,e.isTextOrNumeric,e.controllerName),a=e.hideLabel,o=e.rowIndex,i=(0,He.useTranslation)().t,s=(0,Wo.QL)({control:t,name:r}).fields;return l().createElement(l().Fragment,null,s.map((function(e,s){var c,u,d,m,A=e;return A.isTextOrNumeric?"Numeric"===(null===(u=A.concept)||void 0===u||null===(c=u.datatype)||void 0===c?void 0:c.display)?l().createElement("div",null,l().createElement("label",{className:"cds--label"},null!==(m=(null===(d=A.concept)||void 0===d?void 0:d.display)+ya(A.concept,""))&&void 0!==m?m:""),l().createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},l().createElement(Wo.Mc,{key:e.id,control:t,name:"".concat(r,".").concat(s,".minValue"),render:function(e){var t,r,i,c,u,d,m,p,_,v,f,b,g,y,h=e.field;return l().createElement(ke.gf6,L_(F_({key:A.concept.uuid},h),{className:Ho.textInput,type:"text",hideLabel:a,placeholder:"Numeric"===(null===(r=A.concept)||void 0===r||null===(t=r.datatype)||void 0===t?void 0:t.display)&&null!==(y=ya(A.concept,null===(g=null===(i=A.concept)||void 0===i?void 0:i.allowDecimal)||void 0===g||g?"Decimal #":"Whole #"))&&void 0!==y?y:"",labelText:"Min",onChange:function(e){h.onChange(e.target.value)},invalid:null==n||null===(m=n.testOutcomes)||void 0===m||null===(d=m[o])||void 0===d||null===(u=d.setMembers)||void 0===u||null===(c=u[s])||void 0===c?void 0:c.value,invalidText:null==n||null===(b=n.testOutcomes)||void 0===b||null===(f=b[o])||void 0===f||null===(v=f.setMembers)||void 0===v||null===(_=v[s])||void 0===_||null===(p=_.value)||void 0===p?void 0:p.message}))}}),l().createElement(Wo.Mc,{key:e.id,control:t,name:"".concat(r,".").concat(s,".maxValue"),render:function(e){var t,r,i,c,u,d,m,p,_,v,f,b,g,y,h=e.field;return l().createElement(ke.gf6,L_(F_({key:A.concept.uuid},h),{className:Ho.textInput,type:"text",hideLabel:a,placeholder:"Numeric"===(null===(r=A.concept)||void 0===r||null===(t=r.datatype)||void 0===t?void 0:t.display)&&null!==(y=ya(A.concept,null===(g=null===(i=A.concept)||void 0===i?void 0:i.allowDecimal)||void 0===g||g?"Decimal #":"Whole #"))&&void 0!==y?y:"",labelText:"Max",onChange:function(e){h.onChange(e.target.value)},invalid:null==n||null===(m=n.testOutcomes)||void 0===m||null===(d=m[o])||void 0===d||null===(u=d.setMembers)||void 0===u||null===(c=u[s])||void 0===c?void 0:c.value,invalidText:null==n||null===(b=n.testOutcomes)||void 0===b||null===(f=b[o])||void 0===f||null===(v=f.setMembers)||void 0===v||null===(_=v[s])||void 0===_||null===(p=_.value)||void 0===p?void 0:p.message}))}}))):l().createElement(Wo.Mc,{key:e.id,control:t,name:"".concat(r,".").concat(s,".value"),render:function(e){var t,r,i,c,u,d,m,p,_,v,f=e.field;return l().createElement(ke.gf6,L_(F_({key:A.concept.uuid},f),{className:Ho.textInput,type:"text",hideLabel:a,placeholder:"",labelText:null===(t=A.concept)||void 0===t?void 0:t.display,onChange:function(e){f.onChange(e.target.value)},invalid:null==n||null===(u=n.testOutcomes)||void 0===u||null===(c=u[o])||void 0===c||null===(i=c.setMembers)||void 0===i||null===(r=i[s])||void 0===r?void 0:r.value,invalidText:null==n||null===(v=n.testOutcomes)||void 0===v||null===(_=v[o])||void 0===_||null===(p=_.setMembers)||void 0===p||null===(m=p[s])||void 0===m||null===(d=m.value)||void 0===d?void 0:d.message}))}}):A.isCoded?l().createElement(Wo.Mc,{name:"".concat(r,".").concat(s,".value"),key:e.id,control:t,render:function(e){var t,r,c,u,d,m,p,_,v,f,b,g,y=e.field;return l().createElement(ke.M1e,L_(F_({key:A.concept.uuid},y),{className:Ho.textInput,type:"text",hideLabel:a,labelText:null===(t=A.concept)||void 0===t?void 0:t.display,onChange:function(e){y.onChange(e.target.value)},invalid:null==n||null===(d=n.testOutcomes)||void 0===d||null===(u=d[o])||void 0===u||null===(c=u.setMembers)||void 0===c||null===(r=c[s])||void 0===r?void 0:r.value,invalidText:null==n||null===(f=n.testOutcomes)||void 0===f||null===(v=f[o])||void 0===v||null===(_=v.setMembers)||void 0===_||null===(p=_[s])||void 0===p||null===(m=p.value)||void 0===m?void 0:m.message}),l().createElement(ke.gV5,{text:i("option","Choose an Option"),value:""}),null===(g=A.concept)||void 0===g||null===(b=g.answers)||void 0===b?void 0:b.map((function(e){return l().createElement(ke.gV5,{key:e.uuid,text:e.display,value:e.uuid},e.display)})))}}):void 0})))};function z_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){z_(e,t,n[t])}))}return e}function G_(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const H_=function(e){var t,n=e.concept,r=e.control,a=e.errors,o=e.isPanel,i=e.isCoded,s=e.isTextOrNumeric,c=e.controllerName,u=e.register,d=e.hideLabel,m=e.rowIndex,A=(0,He.useTranslation)().t;return l().createElement(l().Fragment,null,s&&l().createElement(l().Fragment,null,"Numeric"===n.datatype.display?l().createElement("div",null,l().createElement("label",{className:"cds--label"},(null==n?void 0:n.display)+("Numeric"===n.datatype.display&&null!==(t=ya(n,""))&&void 0!==t?t:"")),l().createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},l().createElement(Wo.Mc,{key:n.uuid,name:"".concat(c,".minValue"),control:r,render:function(e){var t,r,o,i,s,c,u,A=e.field;return l().createElement(ke.gf6,G_(M_({className:Ho.textInput},A),{type:"text",onChange:function(e){A.onChange(e.target.value)},hideLabel:d,placeholder:"Numeric"===n.datatype.display&&null!==(u=ya(n,null===(c=n.allowDecimal)||void 0===c||c?"Decimal #":"Whole #"))&&void 0!==u?u:"",labelText:"Min",invalid:null==a||null===(r=a.testOutcomes)||void 0===r||null===(t=r[m])||void 0===t?void 0:t.value,invalidText:null==a||null===(s=a.testOutcomes)||void 0===s||null===(i=s[m])||void 0===i||null===(o=i.value)||void 0===o?void 0:o.message}))}}),l().createElement(Wo.Mc,{key:n.uuid,name:"".concat(c,".maxValue"),control:r,render:function(e){var t,r,o,i,s,c,u,A=e.field;return l().createElement(ke.gf6,G_(M_({className:Ho.textInput},A),{type:"text",onChange:function(e){A.onChange(e.target.value)},hideLabel:d,placeholder:"Numeric"===n.datatype.display&&null!==(u=ya(n,null===(c=n.allowDecimal)||void 0===c||c?"Decimal #":"Whole #"))&&void 0!==u?u:"",labelText:"Max",invalid:null==a||null===(r=a.testOutcomes)||void 0===r||null===(t=r[m])||void 0===t?void 0:t.value,invalidText:null==a||null===(s=a.testOutcomes)||void 0===s||null===(i=s[m])||void 0===i||null===(o=i.value)||void 0===o?void 0:o.message}))}}))):l().createElement(Wo.Mc,{key:n.uuid,name:"".concat(c,".value"),control:r,render:function(e){var t,r,o,i,s,c,u=e.field;return l().createElement(ke.gf6,G_(M_({className:Ho.textInput},u),{type:"text",onChange:function(e){u.onChange(e.target.value)},hideLabel:d,placeholder:"",labelText:(null==n?void 0:n.display)+("Numeric"===n.datatype.display&&null!==(c=ya(n))&&void 0!==c?c:""),invalid:null==a||null===(r=a.testOutcomes)||void 0===r||null===(t=r[m])||void 0===t?void 0:t.value,invalidText:null==a||null===(s=a.testOutcomes)||void 0===s||null===(i=s[m])||void 0===i||null===(o=i.value)||void 0===o?void 0:o.message}))}})),i&&l().createElement(Wo.Mc,{key:n.uuid,name:"".concat(c,".value"),control:r,render:function(e){var t,r,o,i,s,c,u=e.field;return l().createElement(ke.M1e,G_(M_({},u),{className:Ho.textInput,type:"text",hideLabel:d,labelText:null==n?void 0:n.display,onChange:function(e){u.onChange(e.target.value)},invalid:null==a||null===(r=a.testOutcomes)||void 0===r||null===(t=r[m])||void 0===t?void 0:t.value,invalidText:null==a||null===(s=a.testOutcomes)||void 0===s||null===(i=s[m])||void 0===i||null===(o=i.value)||void 0===o?void 0:o.message}),l().createElement(ke.gV5,{text:A("option","Choose an Option"),value:""}),null==n||null===(c=n.answers)||void 0===c?void 0:c.map((function(e){return l().createElement(ke.gV5,{key:e.uuid,text:e.display,value:e.uuid},e.display)})))}}),o&&l().createElement(U_,{concept:n,control:r,errors:a,isPanel:o,isCoded:i,isTextOrNumeric:s,controllerName:"".concat(c,".setMembers"),register:u,hideLabel:d,rowIndex:m}))};function J_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W_(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function V_(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){W_(o,r,a,l,i,"next",e)}function i(e){W_(o,r,a,l,i,"throw",e)}l(void 0)}))}}function Y_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||K_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q_(e){return function(e){if(Array.isArray(e))return J_(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||K_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K_(e,t){if(e){if("string"==typeof e)return J_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J_(e,t):void 0}}function Z_(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}const X_=function(e){var t,n,a,i,s,c,u,d=e.model,m=(0,He.useTranslation)().t,A=rr().laboratoryConfig.laboratoryLocationTag,p=(0,r.useLocations)(A),_=function(){var e,t,n="".concat(_e,"?v=default"),r=(0,Et.cp)(n,St),a=r.data,o=r.error,l=r.isLoading;return{items:null!==(t=null==a||null===(e=a.data)||void 0===e?void 0:e.results)&&void 0!==t?t:[],isLoading:l,isError:o}}(),v=_.items,f=_.isLoading,b=Y_((0,o.useState)(!1),2),g=b[0],y=b[1],h=Y_((0,o.useState)(0),2),C=h[0],w=h[1],E=Y_((0,o.useState)(!1),2),S=E[0],k=E[1],T=Y_((0,o.useState)(!1),2),O=T[0],N=T[1],x=Y_((0,o.useState)(!1),2),I=x[0],D=x[1],R=Y_((0,o.useState)(!1),2),B=R[0],P=R[1],q=Y_((0,o.useState)(!1),2),j=q[0],F=q[1],L=Y_((0,o.useState)(!1),2),U=L[0],z=L[1],M=Y_((0,o.useState)(!1),2),G=M[0],H=M[1],J=Y_((0,o.useState)(!1),2),W=J[0],V=J[1],Y=Y_((0,o.useState)(!1),2),Q=Y[0],K=Y[1],Z=Y_((0,o.useState)(!1),2),X=Z[0],$=Z[1],ee=Y_((0,o.useState)(!1),2),te=ee[0],ne=ee[1],re=Y_((0,o.useState)(!1),2),ae=re[0],oe=re[1],le=Y_((0,o.useState)(!1),2),ie=le[0],se=le[1],ce=Y_((0,o.useState)(!1),2),ue=ce[0],de=ce[1],me=Y_((0,o.useState)((function(){var e;return null!==(e=null==d?void 0:d.reportName)&&void 0!==e?e:""})),2),Ae=me[0],ve=me[1],fe=Y_((0,o.useState)(null),2),be=fe[0],ge=fe[1],ye=(0,Wo.aS)({mode:"all",defaultValues:function(){return d?Promise.resolve(null!=d?d:{}):Promise.resolve({})},resolver:(0,Ml.C)(k_)}),he=ye.handleSubmit,Ce=ye.control,we=ye.formState,Ee=we.errors,Se=(we.defaultValues,we.isDirty,ye.setValue),Te=ye.register,Oe=ye.watch,Ne=(0,Wo.QL)({control:Ce,name:"testOutcomes"}),xe=Ne.fields,Ie=Ne.replace,De=function(){var e=V_((function(e){var t,n,a;return Z_(this,(function(o){switch(o.label){case 0:if(!e)return Se("testOutcomes",null),Ie(null),ge(null),[2];y(!0),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,(l=e,i={v:"fullchildren"},St("".concat(r.restBaseUrl,"/concept/").concat(l).concat(Ct(i)),{method:"GET",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal}))];case 2:return t=o.sent(),n=[t.data].map((function(e){var t,n={id:e.uuid,worksheetItem:null,worksheetItemUuid:e.uuid,concept:e,isCoded:_a(e),isPanel:va(e),isTextOrNumeric:fa(e),orderUuid:e.uuid,testResultUuid:e.uuid,conceptUuid:e.uuid,remarks:"",isNumeric:ba(e),minValue:null,maxValue:null,allowDecimals:!0};return n.isNumeric&&(n.allowDecimals=null===(t=null==e?void 0:e.allowDecimal)||void 0===t||t),n.isPanel&&(n.setMembers=e.setMembers.map((function(t,n){var r,a={id:"".concat(e.uuid,"-").concat(n),concept:t,isCoded:_a(t),isPanel:va(t),isTextOrNumeric:fa(t),orderUuid:e.uuid,conceptUuid:t.uuid,isNumeric:ba(t),minValue:null,maxValue:null,allowDecimals:!0};return a.isNumeric&&(a.allowDecimals=null===(r=null==t?void 0:t.allowDecimal)||void 0===r||r),(a.isCoded||a.isTextOrNumeric)&&(a.value=""),a}))),(n.isCoded||n.isTextOrNumeric)&&(n.value=""),n})),Se("testOutcomes",n),Ie(n),ge(t.data),[3,5];case 3:return a=o.sent(),y(!1),(0,r.showNotification)({title:m("laboratoryReportTestOutcomeLoadError","Error loading test concept"),kind:"error",critical:!0,description:Yr(a)}),[3,5];case 4:return y(!1),w((function(e){return e+1})),[7];case 5:return[2]}var l,i}))}));return function(t){return e.apply(this,arguments)}}(),Re=(0,o.useCallback)((function(){var e=!1;if(Ae){var t=null==v?void 0:v.find((function(e){return e.name===Ae}));if(t){var n=function(e,n,r){var a,o,l=null===(a=t.parameters)||void 0===a?void 0:a.find((function(t){return t.name===e}));r(Boolean(l)),Se(n,null!==(o=null==l?void 0:l.isRequired)&&void 0!==o&&o)};n(w_.Date,"dateRequired",N),n(w_.StartDate,"startDateRequired",D),n(w_.EndDate,"endDateRequired",P),n(w_.Location,"locationRequired",F),n(w_.Patient,"patientRequired",z),n(w_.ReferralLocation,"referralLocationRequired",H),n(w_.Limit,"limitRequired",V),n(w_.DiagnosticLocation,"diagnosticLocationRequired",K),n(w_.TestType,"testTypeRequired",$),n(w_.TestOutcome,"testOutcomeRequired",ne),n(w_.TestApprover,"testApproverRequired",se),n(w_.Tester,"testerRequired",oe),n(w_.ReferenceNumber,"referenceNumberRequired",de),e=!0}}e||(N(!1),Se("dateRequired",!1),D(!1),Se("startDateRequired",!1),P(!1),Se("endDateRequired",!1),F(!1),Se("locationRequired",!1),z(!1),Se("patientRequired",!1),H(!1),Se("referralLocationRequired",!1),V(!1),Se("limitRequired",!1),K(!1),Se("diagnosticLocationRequired",!1),$(!1),Se("testTypeRequired",!1),ne(!1),Se("testOutcomeRequired",!1),oe(!1),Se("testerRequired",!1),de(!1),Se("referenceNumberRequired",!1),se(!1),Se("testApproverRequired",!1))}),[v,Ae,Se]);(0,o.useEffect)((function(){Re()}),[Ae,v,Re]);var Be,Pe,qe,je=function(e,t,n,r,a){return{value:t,valueDescription:n,description:r}},Fe=function(){var e=V_((function(e){var t,n,a,o,l,i,s,c,u,d,A,p,_,f,b,g,y,h,C,w,E,S,T,N,x;return Z_(this,(function(D){switch(D.label){case 0:t=v.find((function(t){return t.name===e.reportName})),k(!0),D.label=1;case 1:return D.trys.push([1,,3,4]),n={report:null==t?void 0:t.systemName},O&&(n[w_.Date]=je(w_.Date,e.date?JSON.stringify(e.date).split('"').join(""):"",null!==(a=xt(e.date))&&void 0!==a?a:"",m("displayReportDate","labmanagement.report.edit.date"))),I&&(n[w_.StartDate]=je(w_.StartDate,e.startDate?JSON.stringify(e.startDate).split('"').join(""):"",null!==(o=xt(e.startDate))&&void 0!==o?o:"",m((e.reportSystemName,"Start Date")))),B&&(n[w_.EndDate]=je(w_.EndDate,e.endDate?JSON.stringify(e.endDate).split('"').join(""):"",null!==(l=xt(e.endDate))&&void 0!==l?l:"",m((e.reportSystemName,"End Date")))),j&&(n[w_.Location]=je(w_.Location,e.locationUuid,(null===(i=e.locationName)||void 0===i?void 0:i.trim())?null===(s=e.locationName)||void 0===s?void 0:s.trim():"",m("location","Location"))),U&&(n[w_.Patient]=je(w_.Patient,null!==(d=e.patientUuid)&&void 0!==d?d:"",(null===(c=e.patientName)||void 0===c?void 0:c.trim())?null===(u=e.patientName)||void 0===u?void 0:u.trim():"All Patients",m("patients","Patients"))),G&&(n[w_.ReferralLocation]=je(w_.ReferralLocation,null!==(_=e.referralLocationUuid)&&void 0!==_?_:"",(null===(A=e.referralLocationName)||void 0===A?void 0:A.trim())?null===(p=e.referralLocationName)||void 0===p?void 0:p.trim():"All Reference Locations",m("LaboratoryReportReferenceLocations","Reference Locations"))),W&&(n[w_.Limit]=je(w_.Limit,(null!==(b=null!==(f=e.limit)&&void 0!==f?f:I_(e.reportSystemName))&&void 0!==b?b:20).toString(),(null!==(y=null!==(g=e.limit)&&void 0!==g?g:I_(e.reportSystemName))&&void 0!==y?y:20).toString(),m((e.reportSystemName,"labmanagement.report.edit.limit")))),Q&&(n[w_.DiagnosticLocation]=je(w_.DiagnosticLocation,null!==(C=e.diagnosticLocationUuid)&&void 0!==C?C:"",(null===(h=e.diagnosticLocationName)||void 0===h?void 0:h.trim())?e.diagnosticLocationName:"All Lab Sections",m("laboaratoryDiagnosticCenter","Lab Section"))),X&&(n[w_.TestType]=je(w_.TestType,null!==(w=e.testTypeUuid)&&void 0!==w?w:"",e.testTypeName?e.testTypeName:"All Tests",m("laboaratoryReportTestTypes","Tests"))),te&&(E=function(e){var t,n="",r=null==e||null===(t=e.testOutcomes)||void 0===t?void 0:t.map((function(e){var t,r,a,o=be,l={conceptUuid:o.uuid};if(e.isCoded&&e.value&&(l.value={uuid:e.value},n=(null==be?void 0:be.display)+": "+(null!==(a=null==o||null===(r=o.answers)||void 0===r||null===(t=r.find((function(t){return t.uuid==e.value})))||void 0===t?void 0:t.display)&&void 0!==a?a:"")),e.isTextOrNumeric)if(e.isNumeric){if(e.minValue||e.maxValue){var i,s,c="".concat(null!==(i=e.minValue)&&void 0!==i?i:"*"," - ").concat(null!==(s=e.maxValue)&&void 0!==s?s:"*");n=(null==be?void 0:be.display)+": "+c,e.minValue&&(l.minValue=e.minValue),e.maxValue&&(l.maxValue=e.maxValue)}}else e.value&&(l.value=e.value,n=(null==be?void 0:be.display)+": "+e.value);if(e.isPanel&&e.setMembers){var u=e.setMembers.map((function(e){var t,r,a,o,l=null==be||null===(t=be.setMembers)||void 0===t?void 0:t.find((function(t){return t.uuid==e.conceptUuid})),i={conceptUuid:e.conceptUuid,value:void 0};if(e.isCoded&&e.value&&(i.value={uuid:e.value},n=(n?n+", ":"")+(null==l?void 0:l.display)+": "+(null!==(o=null==l||null===(a=l.answers)||void 0===a||null===(r=a.find((function(t){return t.uuid==e.value})))||void 0===r?void 0:r.display)&&void 0!==o?o:"")),e.isTextOrNumeric)if(e.isNumeric){if(e.minValue||e.maxValue){var s,c,u="".concat(null!==(s=e.minValue)&&void 0!==s?s:"*"," - ").concat(null!==(c=e.maxValue)&&void 0!==c?c:"*");n=(n?n+", ":"")+(null==l?void 0:l.display)+": "+u,e.minValue&&(i.minValue=e.minValue),e.maxValue&&(i.maxValue=e.maxValue)}}else e.value&&(i.value=e.value,n=(n?n+", ":"")+(null==l?void 0:l.display)+": "+e.value);return i})).filter((function(e){return e.value||e.minValue||e.maxValue}));u.length>0&&(l.groupMembers=u)}return l}));return{outcome:(null==r?void 0:r.length)>0?r[0]:null,descr:null!=n?n:null}}(e),n[w_.TestOutcome]=je(w_.TestOutcome,null!==(S=null==E?void 0:E.outcome)&&void 0!==S?S:null,(null==E?void 0:E.descr)?null==E?void 0:E.descr:"All Test Outcomes",m("laboaratoryReportTestOutcome","Test Outcome"))),ae&&(n[w_.Tester]=je(w_.Tester,null!==(T=e.testerUuid)&&void 0!==T?T:"",e.testerName?e.testerName:"All Testers",m("laboaratoryReportTesters","Testers"))),ue&&(n[w_.ReferenceNumber]=je(w_.ReferenceNumber,null!==(N=e.referenceNumber)&&void 0!==N?N:"",e.referenceNumber?e.referenceNumber:"Any Sample",m("laboaratoryReportSampleReference","Sample Reference"))),ie&&(n[w_.TestApprover]=je(w_.TestApprover,null!==(x=e.testApproverUuid)&&void 0!==x?x:"",e.testApproverName?e.testApproverName:"All Test Approvers",m("laboaratoryReportTestApprovers","Test Approvers"))),[4,(R={batchJobType:null==t?void 0:t.batchJobType,description:e.reportName,parameters:n},St(pe,{method:"POST",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal,body:R})).then((function(e){Qe(),201===e.status?(0,r.showSnackbar)({autoClose:!0,isLowContrast:!0,title:m("batchJob","Batch Job"),subtitle:m("BatchJobSuccess","Batch job created successfully"),kind:"success"}):(0,r.showSnackbar)({autoClose:!0,isLowContrast:!0,title:m("BatchJobErrorTitle","Batch job"),subtitle:m("batchJobErrorMessage","Error creating batch job"),kind:"error"}),zn(pe)})).catch((function(){(0,r.showSnackbar)({autoClose:!0,isLowContrast:!0,title:m("BatchJobErrorTitle","Batch job"),subtitle:m("batchJobErrorMessage","Error creating batch job"),kind:"error"})}))];case 2:return D.sent(),k(!1),[3,4];case 3:return k(!1),[7];case 4:return[2]}var R}))}));return function(t){return e.apply(this,arguments)}}(),Le=Oe("testTypeUuid"),Ue=Oe("reportSystemName");return f&&0==v.length?l().createElement(ke.kp8,{status:"active",iconDescription:"Loading",description:"Loading data..."}):l().createElement(ke.QFz,{onSubmit:he(Fe,(function(e){console.error(e)}))},l().createElement("div",{className:C_.reportContainer},l().createElement(l().Fragment,null,0==(null==v?void 0:v.length)?l().createElement(ke.Qrc,null):l().createElement(Wo.Mc,{control:Ce,name:"reportName",render:function(e){var t,n=e.field,r=n.onChange,a=n.ref;return l().createElement(ke.Q1m,{ref:a,control:Ce,controllerName:"reportName",size:"md",labelText:m("reportName","Report"),itemToString:function(e){var t;return null!==(t=null==e?void 0:e.name)&&void 0!==t?t:""},placeholder:"Filter...",onChange:function(e){var t,n=e.selectedItem;r(null==n?void 0:n.name),Se("reportSystemName",null==n?void 0:n.systemName),t=null==n?void 0:n.name,ve(t)},initialSelectedItem:(null==d?void 0:d.reportSystemName)?{systemName:null==d?void 0:d.reportSystemName,name:null==d?void 0:d.reportName}:null,items:(null==d?void 0:d.reportSystemName)?Q_(v.some((function(e){return e.systemName===(null==d?void 0:d.reportSystemName)}))?[]:[{systemName:null==d?void 0:d.reportSystemName,name:null==d?void 0:d.reportName}]).concat(Q_(null!=v?v:[])):v,shouldFilterItem:function(e){return!0},invalid:Ee.reportSystemName,invalidText:m(null===(t=Ee.reportSystemName)||void 0===t?void 0:t.message)})}})),l().createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",columnGap:"0.5rem"}},U&&l().createElement(Gi,{title:"Patient",selectedId:null==d?void 0:d.patientUuid,selectedText:null==d?void 0:d.patientName,placeholder:m("laboratoryReportPatient","Patient"),control:Ce,controllerName:"patientUuid",name:"patientUuid",patientUuid:null!==(Be=null==d?void 0:d.patientUuid)&&void 0!==Be?Be:"",onPatientUuidChange:function(e){return Se("patientName",null==e?void 0:e.display)},invalid:!!Ee.patientUuid,invalidText:m(null===(t=Ee.patientUuid)||void 0===t?void 0:t.message)}),G&&l().createElement(d_,{selectedId:null==d?void 0:d.referralLocationUuid,selectedText:null==d?void 0:d.referralLocationName,controllerName:"referralLocationUuid",name:"referralLocationUuid",control:Ce,title:m("locationReferral","Reference Location:"),placeholder:m("chooseAnItem","Choose an item"),onChange:function(e){var t,n;Se("referralLocationName",null!==(n=null!==(t=null==e?void 0:e.name)&&void 0!==t?t:null==e?void 0:e.conceptName)&&void 0!==n?n:(null==e?void 0:e.patientFamilyName)||(null==e?void 0:e.patientGivenName)?"".concat(null==e?void 0:e.patientFamilyName," ").concat(null==e?void 0:e.patientMiddleName," ").concat(null==e?void 0:e.patientGivenName):"")},invalid:!!Ee.referralLocationUuid,invalidText:Ee.referralLocationUuid&&(null==Ee||null===(n=Ee.referralLocationUuid)||void 0===n?void 0:n.message),referrerIn:!0})),X&&l().createElement(l().Fragment,null,l().createElement(Ti,{title:m("laboratoryReportTestType","Test Type"),popUpDirection:"bottom",selectedId:null==d?void 0:d.testTypeUuid,selectedText:d?En(null==d?void 0:d.testTypeName):"",controllerName:"testTypeUuid",name:"testTypeUuid",control:Ce,onChange:function(e){Se("testTypeName",En(null==e?void 0:e.testName,null==e?void 0:e.testShortName)),De(null==e?void 0:e.testUuid)},placeholder:m("laboratoryReportAllTests","All Tests"),invalid:!!(null==Ee?void 0:Ee.testTypeUuid),invalidText:null==Ee||null===(a=Ee.testTypeUuid)||void 0===a?void 0:a.message}),te&&Le&&l().createElement(l().Fragment,null,xe.map((function(e,t){var n,r,a,o,i,s,c=e;return g?l().createElement(ke.Qrc,null):l().createElement(l().Fragment,null,(null==Ee||null===(a=Ee.testOutcomes)||void 0===a||null===(r=a[t])||void 0===r||null===(n=r.setMembers)||void 0===n?void 0:n.root)&&l().createElement("div",{className:C_.errorDiv,style:{gridColumn:"1 / span 2",paddingLeft:"0.5rem",paddingTop:"0.5rem"}},null==Ee||null===(s=Ee.testOutcomes)||void 0===s||null===(i=s[t])||void 0===i||null===(o=i.setMembers)||void 0===o?void 0:o.root.message),l().createElement("div",{className:C_.testOutComesField},l().createElement(H_,{rowIndex:t,concept:c.concept,control:Ce,errors:Ee,isCoded:c.isCoded,isPanel:c.isPanel,isTextOrNumeric:c.isTextOrNumeric,register:Te,controllerName:"testOutcomes.".concat(t),key:C,hideLabel:!1})))})))),l().createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",columnGap:"0.5rem"}},I&&l().createElement(Wo.Mc,{control:Ce,name:"startDate",render:function(e){var t,n,r=e.field,a=r.onChange,o=r.value;return l().createElement(ke.I4g,{datePickerType:"single",maxDate:Dt(kt()),locale:"en",dateFormat:Tt,onChange:function(e){a(e[0])},value:o},l().createElement(ke.Mjs,{name:"startDate",placeholder:Ot,labelText:m("startDate","Start Date"),defaultValue:"",invalid:null==Ee||null===(t=Ee.startDate)||void 0===t?void 0:t.message,invalidText:null==Ee||null===(n=Ee.startDate)||void 0===n?void 0:n.message}))}}),B&&l().createElement(Wo.Mc,{control:Ce,name:"endDate",render:function(e){var t,n,r=e.field,a=r.onChange,o=r.value;return l().createElement(ke.I4g,{datePickerType:"single",maxDate:Dt(kt()),locale:"en",dateFormat:Tt,onChange:function(e){a(e[0])},value:o},l().createElement(ke.Mjs,{name:"endDate",placeholder:Ot,labelText:m("endDate","End Date"),defaultValue:"",invalid:null==Ee||null===(t=Ee.endDate)||void 0===t?void 0:t.message,invalidText:null==Ee||null===(n=Ee.endDate)||void 0===n?void 0:n.message}))}})),Q&&l().createElement(Wo.Mc,{control:Ce,name:"diagnosticLocationUuid",render:function(e){var t,n,r,a=e.field,o=a.onChange,i=a.ref,s=a.value;return l().createElement(ke.M1e,{ref:i,name:"diagnosticLocationUuid",value:s,className:"select-field",labelText:m("laboratoryDiagnosticCenter","Lab Section"),onChange:function(e){var t;o(e.target.value),Se("diagnosticLocationName",null==p||null===(t=p.find((function(t){return t.uuid==e.target.value})))||void 0===t?void 0:t.display)},defaultValue:"",invalid:null==Ee||null===(t=Ee.diagnosticLocationUuid)||void 0===t?void 0:t.message,invalidText:null==Ee||null===(n=Ee.diagnosticLocationUuid)||void 0===n?void 0:n.message},l().createElement(ke.gV5,{value:"",text:m("AllDiagonisticCenters","All Lab Sections")}),null===(r=null!=p?p:[])||void 0===r?void 0:r.map((function(e){return l().createElement(ke.gV5,{key:e.uuid,value:e.uuid,text:e.display})})))}}),j&&l().createElement(q_,{title:"",selectedId:null==d?void 0:d.locationUuid,selectedText:null==d?void 0:d.locationName,placeholder:m("laboratoryReportPatient","Patient"),control:Ce,controllerName:"locationUuid",name:"locationUuid",locationUuid:null!==(Pe=null==d?void 0:d.locationUuid)&&void 0!==Pe?Pe:"",onLocationUuidChange:function(e){return Se("locationName",null==e?void 0:e.display)},invalid:!!Ee.locationUuid,invalidText:m(null===(i=Ee.locationUuid)||void 0===i?void 0:i.message)}),W&&l().createElement(Wo.Mc,{control:Ce,name:"limit",render:function(e){var t,n,r=e.field,a=r.onChange,o=r.value;return l().createElement(ke.WC6,{allowEmpty:!0,hideSteppers:!0,value:o,onchange:a,label:m("limit","Limit"),defaultValue:20,invalid:null==Ee||null===(t=Ee.limit)||void 0===t?void 0:t.message,invalidText:null==Ee||null===(n=Ee.limit)||void 0===n?void 0:n.message})}}),ae&&l().createElement(l().Fragment,null,l().createElement(Ei,{selectedId:null==d?void 0:d.testerUuid,selectedText:null==d?void 0:d.testerName,controllerName:"testerUuid",name:"testerUuid",control:Ce,title:D_(Ue,m),placeholder:m("filter","Filter ..."),onUserChanged:function(e){var t,n;return Se("testerName",null!==(n=null==e||null===(t=e.person)||void 0===t?void 0:t.display)&&void 0!==n?n:null==e?void 0:e.display)},invalid:!!(null==Ee?void 0:Ee.testerUuid),invalidText:null==Ee||null===(s=Ee.testerUuid)||void 0===s?void 0:s.message})),ie&&l().createElement(l().Fragment,null,l().createElement(Ei,{selectedId:null==d?void 0:d.testApproverUuid,selectedText:null==d?void 0:d.testApproverName,controllerName:"testApproverUuid",name:"testApproverUuid",control:Ce,title:m("laboratoryReportTestApprover","Results Approver"),placeholder:m("filter","Filter ..."),onUserChanged:function(e){var t,n;return Se("testApproverName",null!==(n=null==e||null===(t=e.person)||void 0===t?void 0:t.display)&&void 0!==n?n:null==e?void 0:e.display)},invalid:!!(null==Ee?void 0:Ee.testApproverUuid),invalidText:null==Ee||null===(c=Ee.testApproverUuid)||void 0===c?void 0:c.message})),ue&&l().createElement(_i,{name:"referenceNumber",control:Ce,controllerName:"referenceNumber",maxLength:255,size:"md",value:"".concat(null!==(qe=null==d?void 0:d.referenceNumber)&&void 0!==qe?qe:""),labelText:m("laboratoryReportSampleReferenceNumber","Sample Reference"),invalid:!!Ee.referenceNumber,invalidText:null==Ee||null===(u=Ee.referenceNumber)||void 0===u?void 0:u.message}),O&&l().createElement(Wo.Mc,{control:Ce,name:"date",render:function(e){var t,n,r=e.field,a=r.onChange,o=r.value;return l().createElement(ke.I4g,{datePickerType:"single",maxDate:Dt(kt()),locale:"en",dateFormat:Tt,onChange:function(e){a(e[0])},value:o},l().createElement(ke.Mjs,{name:"date",placeholder:Ot,labelText:m("date","Date"),defaultValue:"",invalid:null==Ee||null===(t=Ee.date)||void 0===t?void 0:t.message,invalidText:null==Ee||null===(n=Ee.date)||void 0===n?void 0:n.message}))}})),l().createElement("div",{className:C_.reportButton},l().createElement(ke.qaq,{disabled:S,onClick:function(){return Qe()},kind:"secondary"},m("cancel","Cancel")),l().createElement(ke.qaq,{onClick:he(Fe)},S?l().createElement(ke.kp8,null):m("continue","Continue"))))},$_=function(){var e=(0,He.useTranslation)().t,t=(0,o.useCallback)((function(){Ye("New Report",l().createElement(X_,null))}),[]);return l().createElement(ke.qaq,{onClick:t,size:"md",kind:"primary"},e("laboratoryNewReport","New Report"))};var ev=n(3420),tv={};tv.styleTagTransform=Ue(),tv.setAttributes=qe(),tv.insert=Be().bind(null,"head"),tv.domAPI=De(),tv.insertStyleElement=Fe(),xe()(ev.c,tv);const nv=ev.c&&ev.c.locals?ev.c.locals:void 0;function rv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var av="Pending",ov="Running",lv="Failed",iv="Completed",sv="Cancelled",cv="Expired",uv=[av,ov,lv,iv,sv,cv],dv=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return null;var n={};try{var r;n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){rv(e,t,n[t])}))}return e}({},n,null!==(r=JSON.parse(e))&&void 0!==r?r:{})}catch(e){}return t.forEach((function(e){n[e]&&delete n[e]})),n},mv=n(4980),Av=n(2004),pv=n(4340),_v={};_v.styleTagTransform=Ue(),_v.setAttributes=qe(),_v.insert=Be().bind(null,"head"),_v.domAPI=De(),_v.insertStyleElement=Fe(),xe()(pv.c,_v);const vv=pv.c&&pv.c.locals?pv.c.locals:void 0,fv=function(e){var t,n,r=e.batchJob,a=e.executionState,o=(0,He.useTranslation)().t;return l().createElement(ke.g$J,{className:vv.expandedRowAdditionInfo},(null==r?void 0:r.status)===sv&&l().createElement("div",{className:vv.expandedRowAdditionInfoTileField},l().createElement("p",{className:vv.productiveHeading01},o("Cancelled","Cancelled")),l().createElement("ul",null,l().createElement("li",null,qt(null==r?void 0:r.cancelledDate)," "),l().createElement("li",null," ",o("by","By")," ",null!==(t=r.cancelledByFamilyName)&&void 0!==t?t:""," ",null!==(n=r.cancelledByGivenName)&&void 0!==n?n:""),l().createElement("li",null,r.cancelReason))),(null==r?void 0:r.startTime)&&l().createElement("div",{className:vv.expandedRowAdditionInfoTileField},l().createElement("p",{className:vv.productiveHeading01},o("labManagementReportStarted","Started")),l().createElement("ul",null,l().createElement("li",null," ",qt(null==r?void 0:r.startTime)))),(null==r?void 0:r.endTime)&&l().createElement("div",{className:vv.expandedRowAdditionInfoTileField},l().createElement("p",{className:vv.productiveHeading01},o("labManagementReportEnded","Finished")),l().createElement("ul",null,l().createElement("li",null,qt(null==r?void 0:r.endTime)))),(null==r?void 0:r.expiration)&&l().createElement("div",{className:vv.expandedRowAdditionInfoTileField},l().createElement("p",{className:vv.productiveHeading01},o("labManagementReportExpires","Expires")),l().createElement("ul",null,l().createElement("li",null," ",qt(null==r?void 0:r.expiration)))),a&&l().createElement("div",{className:vv.expandedRowAdditionInfoTileField},l().createElement("p",{className:vv.productiveHeading01},o("labManagementReportExecutionState","Execution State")),l().createElement("ul",null,l().createElement("li",null,a))),(null==r?void 0:r.completedDate)&&l().createElement("div",{className:vv.expandedRowAdditionInfoTileField},l().createElement("p",{className:vv.productiveHeading01},o("labManagementReportCompleted","Completed")),l().createElement("ul",null,l().createElement("li",null," ",qt(null==r?void 0:r.completedDate)))),(null==r?void 0:r.exitMessage)&&l().createElement("div",{className:vv.expandedRowAdditionInfoTileField},l().createElement("p",{className:vv.productiveHeading01},o("labManagementReportExitMessage","Exit Message")),l().createElement("ul",null,l().createElement("li",null," ",r.exitMessage))))};function bv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){gv(e,t,n[t])}))}return e}function hv(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Cv=function(){var e,t,n=(0,He.useTranslation)().t,a=rr().laboratoryConfig.laboratoryLocationTag,i=(0,r.useLocations)(a),s=(e=(0,o.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return bv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bv(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],u=s[1],d=function(){zn(_e)},m=function(e,t){var n,a,l,i=x_((0,o.useState)((null!==(n=null==e?void 0:e.startIndex)&&void 0!==n?n:0)+1),2),s=i[0],c=i[1],u=x_((0,o.useState)(null!==(a=null==e?void 0:e.limit)&&void 0!==a?a:10),2),d=u[0],m=u[1],A=x_((0,o.useState)(null==e?void 0:e.q),2),p=A[0],_=A[1],v=x_((0,o.useState)((function(){var t;return N_({},{startIndex:s-1,v:gt.Default,limit:10,q:null==e?void 0:e.q,totalCount:null===(t=null==e?void 0:e.totalCount)||void 0===t||t,sort:"-id"},null!=e?e:{})})),2),f=v[0],b=v[1],g=x_((0,o.useState)(e.batchJobType),2),y=g[0],h=g[1],C=x_((0,o.useState)(e.status),2),w=C[0],E=C[1],S=x_((0,o.useState)(e.locationScopeUuid),2),k=S[0],T=S[1],O=x_((0,o.useState)(e.dateCreatedMin),2),N=O[0],x=O[1],I=x_((0,o.useState)(e.dateCreatedMax),2),D=I[0],R=I[1],B=x_((0,o.useState)(e.completedDateMin),2),P=B[0],q=B[1],j=x_((0,o.useState)(e.completedDateMax),2),F=j[0],L=j[1],U=x_((0,o.useState)(!1),2),z=U[0],M=U[1],G=function(e,t){var n="".concat(pe).concat(Ct(e)),r=(0,Et.cp)(n,St,{refreshInterval:null!=t?t:0}),a=r.data,o=r.error,l=r.isLoading,i=r.isValidating;return{items:(null==a?void 0:a.data)||{},isLoading:l,isError:o,isValidating:i}}(f,t),H=G.items,J=G.isLoading,W=G.isError,V=G.isValidating,Y=(0,r.usePagination)(H.results,d);return(0,o.useEffect)((function(){b((function(e){return N_({},e,{startIndex:s-1,limit:d,q:p,totalCount:e.totalCount,v:e.v,batchJobType:y,status:w,locationScopeUuid:k,dateCreatedMin:N,dateCreatedMax:D,completedDateMin:P,completedDateMax:F})}))}),[p,s,d,y,w,k,N,D,P,F]),(0,o.useEffect)((function(){!z&&J&&M(!0)}),[J,z]),{items:Y.results,pagination:Y,totalCount:null!==(l=null==H?void 0:H.totalCount)&&void 0!==l?l:0,currentPageSize:d,currentPage:s,setCurrentPage:c,setPageSize:m,pageSizes:[10,20,30,40,50],isLoading:J,isValidating:V,isError:W,setSearchString:_,loaded:z,batchJobType:y,setBatchJobType:h,status:w,setStatus:E,locationScopeUuid:k,setLocationScopeUuid:T,dateCreatedMin:N,setDateCreatedMin:x,dateCreatedMax:D,setDateCreatedMax:R,completedDateMin:P,setCompletedDateMin:q,completedDateMax:F,setCompletedDateMax:L}}({batchJobType:"".concat("Report",",").concat("Migration"),v:gt.Default,limit:10,totalCount:!0},1e4),A=m.items,p=m.isLoading,_=m.currentPage,v=m.pageSizes,f=m.totalCount,b=m.currentPageSize,g=m.setCurrentPage,y=m.setPageSize,h=(m.batchJobType,m.setBatchJobType,m.status),C=m.setStatus,w=m.locationScopeUuid,E=m.setLocationScopeUuid,S=(m.dateCreatedMin,m.setDateCreatedMin),k=(m.dateCreatedMax,m.setDateCreatedMax),T=(m.completedDateMin,m.setCompletedDateMin),O=(m.completedDateMax,m.setCompletedDateMax),N=m.loaded,x=m.isValidating,I=(0,r.useSession)();(0,o.useEffect)((function(){u((null==I?void 0:I.user)&&(0,r.userHasAccess)("Task: labmanagement.reports.mutate",I.user))}),[I.user]);var D=(0,o.useMemo)((function(){return[{key:"checkbox",header:""},{key:"description",header:n("LabManagementReportListDescription","Description")},{key:"parameters",header:n("LabManagementReportListParameters","Parameters")},{key:"requesteddate",header:n("LabManagementReportListRequestedDate","Requested Date")},{key:"owners",header:n("LabManagementReportListOwners","Owner")},{key:"status",header:n("LabManagementReportListStatus","Status")},{key:"actions",header:""},{key:"details",header:n("LabManagementReportListDetails","Details")}]}),[n]),R=(0,o.useCallback)((function(e,t){e&&window.open(be(e,!0),"_blank")}),[]),B=function(e,t){if(!t)return null;var n=Object.keys(t);return 0===n.length?null:n.map((function(n,r){var a,o,i,s=null!==(a=t[n].description)&&void 0!==a?a:n,c=null!==(i=null!==(o=t[n].display)&&void 0!==o?o:t[n].valueDescription)&&void 0!==i?i:t[n].value;return l().createElement("div",{key:"".concat(e,"-param-").concat(r)},l().createElement("span",{className:nv["field-label"]},s,":"),l().createElement("span",{className:nv["field-value"]},c))}))},P=(0,o.useCallback)((function(e){var t=null==A?void 0:A.find((function(t){return t.uuid===e}));if(t&&t.parameters){var n=dv(t.parameters);if(n){var r,a,o,i,s,c,u,d,m,p,_,v,f,b,g,y,h,C,w,E,S,k,T,O,N,x,I,D,R,B,P,q,j,F,L,U,z={};if(n.report){var M=n.report;z.reportSystemName=M,z.reportName=null==t?void 0:t.description}if(!z.reportSystemName)return;(null===(r=n[w_.Date])||void 0===r?void 0:r.value)&&(z.date=null===(p=n[w_.Date])||void 0===p?void 0:p.value),(null===(a=n[w_.StartDate])||void 0===a?void 0:a.value)&&(z.startDate=null===(_=n[w_.StartDate])||void 0===_?void 0:_.value),(null===(o=n[w_.EndDate])||void 0===o?void 0:o.value)&&(z.endDate=null===(v=n[w_.EndDate])||void 0===v?void 0:v.value),(null===(i=n[w_.Location])||void 0===i?void 0:i.value)&&(z.locationUuid=null===(f=n[w_.Location])||void 0===f?void 0:f.value,z.locationName=null!==(y=null===(b=n[w_.Location])||void 0===b?void 0:b.description)&&void 0!==y?y:null===(g=n[w_.Location])||void 0===g?void 0:g.display),(null===(s=n[w_.Patient])||void 0===s?void 0:s.value)&&(z.patientUuid=null===(h=n[w_.Patient])||void 0===h?void 0:h.value,z.patientName=null!==(E=null===(C=n[w_.Patient])||void 0===C?void 0:C.valueDescription)&&void 0!==E?E:null===(w=n[w_.Patient])||void 0===w?void 0:w.display),(null===(c=n[w_.ReferralLocation])||void 0===c?void 0:c.value)&&(z.referralLocationUuid=null===(S=n[w_.ReferralLocation])||void 0===S?void 0:S.value,z.referralLocationName=null!==(O=null===(k=n[w_.ReferralLocation])||void 0===k?void 0:k.valueDescription)&&void 0!==O?O:null===(T=n[w_.ReferralLocation])||void 0===T?void 0:T.display),(null===(u=n[w_.DiagnosticLocation])||void 0===u?void 0:u.value)&&(z.diagnosticLocationUuid=null===(N=n[w_.DiagnosticLocation])||void 0===N?void 0:N.value,z.diagnosticLocationName=null!==(D=null===(x=n[w_.DiagnosticLocation])||void 0===x?void 0:x.valueDescription)&&void 0!==D?D:null===(I=n[w_.DiagnosticLocation])||void 0===I?void 0:I.display),(null===(d=n[w_.Tester])||void 0===d?void 0:d.value)&&(z.testerUuid=null===(R=n[w_.Tester])||void 0===R?void 0:R.value,z.testerName=null!==(q=null===(B=n[w_.Tester])||void 0===B?void 0:B.valueDescription)&&void 0!==q?q:null===(P=n[w_.Tester])||void 0===P?void 0:P.display),(null===(m=n[w_.TestApprover])||void 0===m?void 0:m.value)&&(z.testApproverUuid=null===(j=n[w_.TestApprover])||void 0===j?void 0:j.value,z.testApproverName=null!==(U=null===(F=n[w_.TestApprover])||void 0===F?void 0:F.valueDescription)&&void 0!==U?U:null===(L=n[w_.TestApprover])||void 0===L?void 0:L.display),n[w_.Limit]&&n[w_.Limit].value&&(z.limit=parseFloat(n[w_.Limit].value)),n[w_.ReferenceNumber]&&n[w_.ReferenceNumber].value&&(z.referenceNumber=n[w_.ReferenceNumber].value),Ye("New Report",l().createElement(X_,{model:z}))}}}),[A]),q=(0,o.useMemo)((function(){return null==A?void 0:A.map((function(e){var t,n,r,a,o=function(e){return e===av||e===ov}(null==e?void 0:e.status),i=(null==e?void 0:e.status)===iv;try{n=B(e.uuid,dv(null==e?void 0:e.parameters,["report"]))}catch(e){}try{r=B(e.uuid,dv(null==e?void 0:e.executionState))}catch(e){}return{checkbox:o,id:null==e?void 0:e.uuid,key:"key-".concat(null==e?void 0:e.uuid),uuid:"".concat(null==e?void 0:e.uuid),batchJobType:e.batchJobType,description:i?l().createElement("a",{rel:"noreferrer",href:be(e.uuid,!0),target:"_blank"},e.description):"".concat(e.description," (").concat(e.status,")"),requesteddate:It(e.dateCreated),parameters:n,owners:null==e||null===(t=e.owners)||void 0===t?void 0:t.map((function(t,n){var r,a;return l().createElement("div",{key:"".concat(e.uuid,"-owner-").concat(n)},"".concat(null!==(r=t.ownerFamilyName)&&void 0!==r?r:""," ").concat(null!==(a=t.ownerGivenName)&&void 0!==a?a:""))})),status:l().createElement(l().Fragment,null,e.status===av&&l().createElement(ke.kp8,{className:nv["queued-inline-loading"],status:"active",iconDescription:"Loading",description:"Queued..."}),e.status===ov&&l().createElement(ke.kp8,{status:"active",iconDescription:"Loading",description:"Generating report..."}),e.status===lv&&l().createElement(mv.e0,{className:"report-failed",title:e.status}),e.status===sv&&l().createElement(tt.fT,{className:"report-cancelled",title:e.status}),e.status===iv&&l().createElement(Mt.aU,{className:"report-completed",title:e.status,size:16}),e.status===cv&&l().createElement(Av.uI,{className:"report-expired",title:e.status})),details:l().createElement(fv,{executionState:r,batchJob:e}),actions:l().createElement("div",{key:"".concat(null==e?void 0:e.uuid,"-actions"),style:{display:"inline-block",whiteSpace:"nowrap"}},e.outputArtifactViewable&&"hide"===e.batchJobType&&l().createElement(ke.qaq,{key:"".concat(null==e?void 0:e.uuid,"-actions-view"),type:"button",size:"sm",className:"submitButton clear-padding-margin",iconDescription:"Edit",kind:"ghost",renderIcon:bo.Uv}),l().createElement(ke.qaq,{type:"button",size:"sm",className:"submitButton clear-padding-margin",iconDescription:"Copy",kind:"ghost",renderIcon:Te.I$,onClick:function(){return P(e.uuid)}}),(null==e?void 0:e.status)===iv&&(null!==(a=e.outputArtifactSize)&&void 0!==a?a:0)>0&&l().createElement(ke.qaq,{type:"button",size:"sm",className:"submitButton clear-padding-margin",iconDescription:"Download",kind:"ghost",renderIcon:_o.kd,onClick:function(){return R(e.uuid,e.outputArtifactFileExt)}}))}}))}),[A,P,R]),j=(0,o.useCallback)((function(e,t){return a=e,l=(n=t).reduce((function(e,t,n){return 0===n?e:e+=(e.length>0?",":"")+encodeURIComponent(t)}),""),l=l.length>0?"?ids=".concat(l,"&reason=").concat(encodeURIComponent(a)):"?reason=".concat(encodeURIComponent(a)),St((o="".concat(n[0]).concat(l),"".concat(r.restBaseUrl,"/labmanagement/batch-job/").concat(o)),{method:"DELETE",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal,body:{reason:a}});var n,a,o,l}),[]),F=(0,o.useCallback)((function(e,t){if(0!=(null==t?void 0:t.length))var a=t.map((function(e){return e.id})),o=(0,r.showModal)("lab-approve-test-request-dialog",{closeModal:function(e){var t;e&&(zn(pe),"button.cds--batch-summary__cancel",null===(t=document.querySelectorAll("button.cds--batch-summary__cancel"))||void 0===t||t.forEach((function(e){e.click()}))),o()},hideRemarks:!1,approvalTitle:n("laboratoryReportCancel","Cancel Job"),approvalDescription:l().createElement("div",{style:{width:"100%"}},n("laboratoryReportConfirmText","Are you sure you want to cancel the job(s)")),actionButtonLabel:n("laboratoryReportCancelJob","Cancel Job"),remarksRequired:!0,approveCallback:function(e){return j(e,a)},kind:"danger",successMessageTitle:n("laboratoryReportCancel","Cancel Job"),successMessageBody:n("laboratoryReportCancelSuccess","Job has been cancelled successfully")})}),[j,n]),L=function(e){C(e.target.value)},U=function(e){E(e.target.value)},z=function(e){S(e[0]?JSON.stringify(e[0]).split('"').join(""):void 0),k(e[1]?JSON.stringify(e[1]).split('"').join(""):void 0)},M=function(e){T(e[0]?JSON.stringify(e[0]).split('"').join(""):void 0),O(e[1]?JSON.stringify(e[1]).split('"').join(""):void 0)};return p&&!N?l().createElement(ke.m2V,{role:"progressbar"}):l().createElement("main",{className:"omrs-main-content"},l().createElement("section",{className:zt.orderTabsContainer},l().createElement("div",{className:zt.tableOverride},l().createElement("div",{className:zt.tableToolbarContentHeaderText,style:{marginTop:"-1rem",marginBottom:"0.5rem"}},n("laboratoryReportDescription","List of reports requested by users")),(p||x)&&N&&l().createElement(ke.cHM,{size:"small",type:"indented",status:"status",label:"",hideLabel:!0,className:zt.progressBarThin}),l().createElement(ke.iSL,{rows:q,headers:D,isSortable:!0,useZebraStyles:!0,render:function(e){var t=e.rows,a=e.headers,o=e.getHeaderProps,s=e.getTableProps,u=e.getRowProps,m=e.getSelectionProps,A=e.getBatchActionProps,p=e.selectedRows,_=e.getToolbarProps;return l().createElement(ke._tR,{className:zt.tableContainer},l().createElement(ke.MBp,hv(yv({},_()),{style:{position:(null==p?void 0:p.length)>0?"inherit":"static",margin:0}}),l().createElement(ke.a_I,A(),c&&l().createElement(ke.eXR,{renderIcon:function(e){return l().createElement(_o.wx,yv({size:16},e))},iconDescription:n("labmanagementReportCancelSelectedRows","Cancel Selected Rows"),onClick:function(e){return F(e,p)}},n("labmanagementReportCancelReport","Cancel Report"))),l().createElement(ke.aGn,{style:{display:"flex",alignItems:"center",backgroundColor:"#f4f4f4"}},l().createElement(ke.M1e,{className:"stkpg-datable-select",inline:!0,id:"statusFilter",labelText:"",value:h,onChange:L},l().createElement(ke.gV5,{text:"All",value:""}),null==uv?void 0:uv.map((function(e){return l().createElement(ke.gV5,{key:e,value:e,text:e})}))),l().createElement(ke.M1e,{className:"stkpg-datable-select",inline:!0,id:"locationScopeId",labelText:"",onChange:U,value:w},l().createElement(ke.gV5,{text:"All",value:""}),i&&i.map((function(e){return l().createElement(ke.gV5,{title:e.display,key:e.uuid,text:e.display,value:e.uuid},e.display)}))),l().createElement("div",{style:{fontSize:"90%"}},n("laboratoryBatchJobRequestDate","Requested"),":"),l().createElement(ke.I4g,{datePickerType:"range",className:"date-range-filter",locale:"en",dateFormat:Tt,onChange:z},l().createElement(ke.Mjs,{id:"date-picker-input-id-start",autoComplete:"off",placeholder:Ot,labelText:""}),l().createElement(ke.Mjs,{id:"date-picker-input-id-finish",autoComplete:"off",placeholder:Ot,labelText:""})),l().createElement("div",{style:{fontSize:"90%"}},n("laboratoryBatchJobCompletedDate","Completed"),":"),l().createElement(ke.I4g,{datePickerType:"range",className:"date-range-filter",locale:"en",dateFormat:Tt,onChange:M},l().createElement(ke.Mjs,{id:"date-picker-input-id-start",autoComplete:"off",placeholder:Ot,labelText:""}),l().createElement(ke.Mjs,{id:"date-picker-input-id-finish",autoComplete:"off",placeholder:Ot,labelText:""})),l().createElement(ke.qSH,null,l().createElement(ke.EpS,{onClick:d},"Refresh")),c&&l().createElement($_,null))),l().createElement(ke.oJK,hv(yv({},s()),{className:zt.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,l().createElement(ke.ugy,null),c&&l().createElement(ke.IEe,{className:"checkbox-column"}),a.map((function(e,t){var n,a;return"details"!==e.key&&"checkbox"!==e.key&&l().createElement(ke.IEe,hv(yv({},o({header:e,isSortable:e.isSortable})),{className:r.isDesktop?zt.desktopHeader:zt.tabletHeader,key:"".concat(e.key)}),null!==(a=null===(n=e.header)||void 0===n?void 0:n.content)&&void 0!==a?a:e.header)})))),l().createElement(ke.qqV,null,t.map((function(e,t){return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.cjO,yv({className:r.isDesktop?zt.desktopRow:zt.tabletRow},u({row:e})),e.cells.map((function(t,n){var r,a,o,i;return l().createElement(l().Fragment,{key:t.id},c&&"checkbox"===(null==t||null===(r=t.info)||void 0===r?void 0:r.header)&&l().createElement(l().Fragment,null,t.value&&l().createElement(ke.qwX,yv({className:"checkbox-column"},m({row:e}))),!t.value&&l().createElement(ke.y6P,null,t.value)),"details"!==(null==t||null===(a=t.info)||void 0===a?void 0:a.header)&&"checkbox"!==(null==t||null===(o=t.info)||void 0===o?void 0:o.header)&&l().createElement(ke.y6P,{className:"status"===(null==t||null===(i=t.info)||void 0===i?void 0:i.header)?"report-status":void 0},t.value))}))),l().createElement(ke.Ocq,{colSpan:a.length},l().createElement("div",null,e.cells[e.cells.length-1].value)))})))))}}),l().createElement(ke.eML,{page:_,pageSize:b,pageSizes:v,totalItems:null!=f?f:0,onChange:function(e){var t=e.page,n=e.pageSize;g(t),y(n)},className:zt.paginationOverride}))))},wv=function(e){var t=e.onPageChanged,n=(0,He.useTranslation)().t;return(0,o.useEffect)((function(){t({showDateInHeader:!1,title:n("laboratoryReport","Reports")})}),[]),l().createElement(l().Fragment,null,l().createElement(Cv,null))};var Ev=n(2148),Sv=n(484),kv=n(4540),Tv={};Tv.styleTagTransform=Ue(),Tv.setAttributes=qe(),Tv.insert=Be().bind(null,"head"),Tv.domAPI=De(),Tv.insertStyleElement=Fe(),xe()(kv.c,Tv);const Ov=kv.c&&kv.c.locals?kv.c.locals:void 0;function Nv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Iv(e){return function(e){if(Array.isArray(e))return xv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return xv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xv(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Dv=function(e){var t,n,a,i,s,c,u,d,m,A,p,_=(t={},n=(0,o.useState)(t),a=2,(i=function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(n,a)||function(e,t){if(e){if("string"==typeof e)return Nv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nv(e,t):void 0}}(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],s=i[1],c="".concat(r.restBaseUrl,"/provider").concat(Ct(t)),u=(0,Et.cp)(c,St,{revalidateOnFocus:!1}),d=u.data,m=u.error,A=u.isLoading,p=u.isValidating,{getProviders:function(e){s(e)},items:(null==d?void 0:d.data)||{},isLoading:A,isError:m,isValidating:p}),v=_.items.results;return _.isLoading?l().createElement(ke.Qrc,null):l().createElement(Wo.Mc,{name:e.controllerName,control:e.control,render:function(t){var n,r=t.field.onChange;return l().createElement(ke.Q1m,{titleText:e.title,name:e.name,control:e.control,controllerName:e.controllerName,id:"".concat(e.name,"-").concat(e.idSuffix),size:"md",items:e.selectedId?Iv((null==v?void 0:v.some((function(t){return t.uuid===e.selectedId})))?[]:[{uuid:e.selectedId,display:e.selectedText}]).concat(Iv(null!=v?v:[])):v||[],onChange:function(t){var n,a;null===(n=e.onChange)||void 0===n||n.call(e,null==t?void 0:t.selectedItem),r(null==t||null===(a=t.selectedItem)||void 0===a?void 0:a.uuid)},initialSelectedItem:e.selectedId?null!==(n=null==v?void 0:v.find((function(t){return t.uuid===e.selectedId})))&&void 0!==n?n:{uuid:e.selectedId,display:e.selectedText}:null,itemToString:function(e){return e&&(null==e?void 0:e.display)?"".concat(null==e?void 0:e.display):""},shouldFilterItem:function(){return!0},placeholder:e.placeholder,invalid:e.invalid,invalidText:e.invalidText})}})};var Rv=Gl.z.object({patientUuid:Gl.z.string().max(100),requestDate:Gl.z.date(),careSettingUuid:Gl.z.string(),urgency:Gl.z.string(),providerUuid:Gl.z.string().max(100),clinicalNote:Gl.z.string().max(1e3).optional(),uuid:Gl.z.string().nullish(),requireRequestReason:Gl.z.boolean().nullish().optional(),requestReason:Gl.z.string().max(500).nullish()}).refine((function(e){var t=e.requireRequestReason,n=e.requestReason;return!t||Boolean(n)}),{message:"Required",path:["requestReason"]});function Bv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pv=n(3540),qv={};qv.styleTagTransform=Ue(),qv.setAttributes=qe(),qv.insert=Be().bind(null,"head"),qv.domAPI=De(),qv.insertStyleElement=Fe(),xe()(Pv.c,qv);const jv=Pv.c&&Pv.c.locals?Pv.c.locals:void 0;function Fv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fv(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Mv=function(e){var t,n,a=(t=(0,o.useState)(1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Uv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uv(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],s=a[1],c=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Bv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bv(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,o.useState)({}),2),n=t[0],a=t[1],l="".concat(r.restBaseUrl,"/caresetting").concat(Ct(n)),i=(0,Et.cp)(l,St,{revalidateOnFocus:!1}),s=i.data,c=i.error,u=i.isLoading,d=i.isValidating;return{setSearchCriteria:a,getCareSettings:function(e){a(e)},items:(null==s?void 0:s.data)||{},isLoading:u,isError:c,isValidating:d}}(),u=c.items.results,d=c.isLoading,m=function(){var e=Lv((0,o.useState)(!0),2),t=e[0],n=e[1],a=Lv((0,o.useState)(),2),l=a[0],i=a[1],s=(0,wt.c)("".concat(r.restBaseUrl,"/visit"),(function(){return St("".concat(r.restBaseUrl,"/visit").concat(Ct(l)))})),c=s.data,u=s.error,d=s.trigger,m=s.isMutating,A=(0,o.useCallback)((function(e){i(e),n(!1)}),[]);return(0,o.useEffect)((function(){t||d()}),[l,t,d]),{getVisits:A,items:(null==c?void 0:c.data)||{},isLoading:!1,isError:u,isValidating:!t&&m}}(),A=m.items.results,p=m.getVisits,_=e.defaultSelected,v=e.preselectForPatientUuid,f=e.control,b=e.name,g=e.onRequestChange;return(0,o.useEffect)((function(){v&&!_&&p({patient:v,includeInactive:!1,v:gt.Default})}),[p,_,v]),(0,o.useEffect)((function(){if(1==i&&u&&A&&g&&f&&b&&!f._formValues[b]){var e,t=null!==(e=null==A?void 0:A.find((function(e){return null===e.stopDatetime})))&&void 0!==e?e:null;if(t&&t.location){var n=null;if(t.location.display){var r=t.location.display.toLowerCase();r.indexOf("patient")>-1&&(r.indexOf("out")>-1?n="out":r.indexOf("in")>-1&&(n="in"))}if(!n&&t.location.name){var a=t.location.name.toLowerCase();a.indexOf("patient")>-1&&(a.indexOf("out")>-1?n="out":a.indexOf("in")>-1&&(n="in"))}if(n){var o=null==u?void 0:u.find((function(e){var t,r=null===(t=e.display)||void 0===t?void 0:t.toLowerCase(),a=r.indexOf(n);return a>-1&&a<r.indexOf("patient")}));o&&g&&(g(o.uuid),s(i+1))}}}}),[u,g,f,b,A,i]),d?l().createElement(ke.Qrc,null):l().createElement("div",{className:jv.horizontalRadioButtons},l().createElement("div",{className:"".concat(jv.radioLabel," cds--label")},e.labelText,e.invalid&&e.invalidText&&l().createElement("div",{className:jv.errorText},e.invalidText)),l().createElement(Wo.Mc,{name:e.controllerName,control:e.control,render:function(t){var n,r,a,o=t.field,s=o.onChange,c=o.value,d=o.ref;return l().createElement(ke.OOm,(r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){zv(e,t,n[t])}))}return e}({},e),a={key:i,onChange:function(t,n,r){s(t,n,r),e.onChange&&e.onChange(t,n,r)},id:e.name,ref:d,defaultSelected:null!==(n=e.defaultSelected)&&void 0!==n?n:c,value:c},a=null!=a?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(a)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})),r),u.map((function(t,n){return l().createElement(ke.OUg,{key:"".concat(n,"-").concat(e.name,"-").concat(t.uuid),id:"".concat(e.name,"-").concat(t.uuid),labelText:t.display,value:t.uuid,checked:c===t.uuid,onChange:function(){return s(t.uuid)},ref:d})})))}}))};function Gv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hv(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function Jv(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){Hv(o,r,a,l,i,"next",e)}function i(e){Hv(o,r,a,l,i,"throw",e)}l(void 0)}))}}function Wv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Wv(e,t,n[t])}))}return e}function Yv(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Qv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||Zv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kv(e){return function(e){if(Array.isArray(e))return Gv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Zv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zv(e,t){if(e){if("string"==typeof e)return Gv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gv(e,t):void 0}}function Xv(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}var $v=function(e){var t,n,a,i,s,c,u,d,m,A,p,_,v=e.patientUuid,f=e.mode,b=e.closeWorkspace,g=e.model,y=(0,He.useTranslation)().t,h=rr().laboratoryConfig.laboratoryLocationTag,C=(0,r.useLocations)(h),w=Qv((0,o.useState)(),2),E=(w[0],w[1]),S=Qv((0,o.useState)(),2),k=S[0],T=S[1],O=Qv((0,o.useState)(100),2),N=O[0],x=O[1],I=Qv((0,o.useState)([]),2),D=I[0],R=I[1],B=kt(),P=Qv((0,o.useState)({}),2),q=P[0],j=P[1],F=Qv((0,o.useState)(),2),L=F[0],U=F[1],z=Qv((0,o.useState)((function(){var e;return null!==(e=null==g?void 0:g.patientUuid)&&void 0!==e?e:v})),2),M=z[0],G=z[1],H=(0,r.useSession)(),J=(0,Wo.aS)({defaultValues:Yv(Vv({},null!=g?g:{},(null==g?void 0:g.requestDate)?{}:{requestDate:kt()},(null==g?void 0:g.patientUuid)?{}:"patient"==f?{patientUuid:v}:{},(null==g?void 0:g.providerUuid)?{}:"patient"==f&&(null===(t=H.currentProvider)||void 0===t?void 0:t.uuid)?{providerUuid:null===(n=H.currentProvider)||void 0===n?void 0:n.uuid}:{}),{requireRequestReason:"other"===f}),mode:"all",resolver:(0,Ml.C)(Rv)}),W=J.handleSubmit,V=J.control,Q=J.formState,K=J.setValue,Z=Yn({active:!0}),X=Z.items.results,$=Z.isLoading;(0,o.useEffect)((function(){var e;if(!k&&(null==C?void 0:C.length)>0)if(1==C.length)T(C[0].uuid);else if(null==H||null===(e=H.sessionLocation)||void 0===e?void 0:e.uuid){var t=null==C?void 0:C.find((function(e){var t;return e.uuid==(null==H||null===(t=H.sessionLocation)||void 0===t?void 0:t.uuid)}));t&&T(t.uuid)}}),[C,k,null==H||null===(a=H.sessionLocation)||void 0===a?void 0:a.uuid]);var ee=Qv((0,o.useState)(!1),2),te=ee[0],ae=ee[1],oe=function(){var e=Jv((function(e){var t,n,a,o,l,i,s,c;return Xv(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),n=Object.entries(q).map((function(e){var t=Qv(e,2)[1];return t.tests.map((function(e){return{testUuid:e.testUuid,locationUuid:t.center.uuid,referredOut:Boolean(e.referOut)}}))})).flatMap((function(e){return e})),a=D.map((function(e){return{testUuid:e.testUuid,locationUuid:k,referredOut:Boolean(e.referOut)}})),o={atLocationUuid:null===(t=H.sessionLocation)||void 0===t?void 0:t.uuid,providerUuid:e.providerUuid,requestDate:Rt(e.requestDate),clinicalNote:e.clinicalNote,requestReason:e.requestReason,patientUuid:M,referredIn:!1,urgency:e.urgency,careSettingUuid:e.careSettingUuid,tests:Kv(n).concat(Kv(a))},ae(!0),[4,ln(o)];case 1:return l=u.sent(),zn(ne),zn(re),zn(Y),(null==l?void 0:l.data)&&((0,r.showSnackbar)({isLowContrast:!0,title:y("laboratoryAddTestRequest","Add Test Request"),kind:"success",subtitle:y("laboratoryAddTestRequestSuccess","Test Request Added Successfully")}),b(!0)),[3,3];case 2:return i=u.sent(),ae(!1),(0,r.showNotification)({title:y("laboratoryAddTestRequestError","Error adding test request"),kind:"error",critical:!0,description:null==i||null===(c=i.responseBody)||void 0===c||null===(s=c.error)||void 0===s?void 0:s.message}),[3,3];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){var e,t=new Set(Object.entries(q).map((function(e){return Qv(e,2)[1].tests.map((function(e){return e.uuid}))})).flatMap((function(e){return e})));U(null!==(e=null==X?void 0:X.filter((function(e){return!t.has(e.uuid)})))&&void 0!==e?e:[]),x((function(e){return e+1}))}),[q,X]);var le,ie,se,ce,ue=(0,o.useCallback)((function(){var e=(0,r.showModal)("lab-request-test-select-dialog",{closeModal:function(){return e()},availableTests:L,initialSelection:D,onSelectionComplete:function(t){R(Kv(t)),x((function(e){return e+1})),e()}})}),[L,D]),de=(0,o.useCallback)((function(e){e&&(G(e),K("patientUuid",e))}),[K]),me=(0,o.useMemo)((function(){return{selectPatientAction:de,initialSearchTerm:""}}),[de]),Ae=Q.errors,pe=function(){var e=Jv((function(){return Xv(this,(function(e){return(0,r.showSnackbar)({isLowContrast:!0,title:y("laboratoryLabRequestSubmitError","Error saving lab request"),kind:"error",subtitle:"Check and complete the required fields",autoClose:!0}),[2]}))}));return function(){return e.apply(this,arguments)}}();return l().createElement("div",{className:Ov.formWrapper},l().createElement("form",{className:Ov.form},l().createElement(ke.aUI,{className:Ov.modalBody},"patient"!==f&&l().createElement(l().Fragment,null,l().createElement("div",{className:Ov.patientSearch},l().createElement(r.ExtensionSlot,{name:"patient-search-bar-slot",state:me})),M&&l().createElement(Vo,{key:M,patientUuid:M,onPatientChange:E})),M&&l().createElement("div",null,l().createElement("section",{className:"".concat(Ov.section," ").concat(Ov.inputWhite)},l().createElement(Wo.Mc,{control:V,name:"requestDate",render:function(e){var t,n=e.field,r=n.onChange,a=n.value;return l().createElement(ke.I4g,{datePickerType:"single",maxDate:Dt(B),locale:"en",dateFormat:Tt,onChange:function(e){r(e[0])},value:a},l().createElement(ke.Mjs,{invalid:!!Ae.requestDate,invalidText:Ae.requestDate&&(null==Ae||null===(t=Ae.requestDate)||void 0===t?void 0:t.message),id:"requestDate",name:"requestDate",placeholder:Ot,labelText:y("laboratoryRequestDate","Date:"),value:Dt(a),defaultValue:a}))}}),l().createElement("div",{className:Ov.urgencyContainer},l().createElement("div",{className:"".concat(Ov["clear-margin-padding-top-bottom"]," ").concat(Ov.horizontalRadioButtons)},l().createElement("div",{className:"".concat(Ov.radioLabel," cds--label")},y("laboratoryRequestUrgency","Urgency:"),Ae.urgency&&(null==Ae||null===(i=Ae.urgency)||void 0===i?void 0:i.message)&&l().createElement("div",{className:Ov.errorText},y(null==Ae||null===(s=Ae.urgency)||void 0===s?void 0:s.message))),l().createElement(Wo.Mc,{name:"urgency",control:V,render:function(e){var t,n=e.field,r=n.onChange,a=n.value,o=n.ref;return l().createElement(ke.OOm,{id:"urgency",name:"urgency",invalid:!!Ae.urgency,invalidText:Ae.urgency&&(null==Ae||null===(t=Ae.urgency)||void 0===t?void 0:t.message),legendText:"",value:a,ref:o,defaultSelected:null==g?void 0:g.urgency,onChange:r},Li.map((function(e,t){return l().createElement(ke.OUg,{key:"".concat(t,"-urgency-").concat(e),id:"urgency-".concat(e),labelText:e,value:e,checked:a===e,onChange:function(){return r(e)},ref:o})})))}})),l().createElement(Mv,{control:V,defaultSelected:null==g?void 0:g.careSettingUuid,name:"careSettingUuid",controllerName:"careSettingUuid",labelText:y("laboratoryRequestCareSettingEdit","Care Setting:"),invalid:!!Ae.careSettingUuid,onChange:function(){},preselectForPatientUuid:M,onRequestChange:function(e){K("careSettingUuid",e)},invalidText:Ae.careSettingUuid&&(null==Ae||null===(c=Ae.careSettingUuid)||void 0===c?void 0:c.message)})),l().createElement(Dv,{className:Ov.formField,selectedId:null!==(le=null==g?void 0:g.providerUuid)&&void 0!==le?le:(null==g?void 0:g.uuid)||"patient"!=f?null:null===(u=H.currentProvider)||void 0===u?void 0:u.uuid,selectedText:null!==(ie=null==g?void 0:g.providerName)&&void 0!==ie?ie:(null==g?void 0:g.uuid)||"patient"!=f?null:(null===(d=H.currentProvider)||void 0===d?void 0:d.uuid)?"".concat(H.currentProvider.identifier," ").concat(null===(m=H.user)||void 0===m?void 0:m.display):null,controllerName:"providerUuid",name:"providerUuid",control:V,title:y("laboratoryRequestProviderEdit","Provider:"),placeholder:y("chooseAProvider","Choose a provider"),invalid:!!Ae.providerUuid,invalidText:Ae.providerUuid&&(null==Ae||null===(A=Ae.providerUuid)||void 0===A?void 0:A.message)}),l().createElement(rl,{id:"clinicalNote",name:"clinicalNote",rows:2,control:V,controllerName:"clinicalNote",maxLength:500,value:"".concat(null!==(se=null==g?void 0:g.clinicalNote)&&void 0!==se?se:""),labelText:y("clinicalNote:","Clinical Notes"),invalid:!!Ae.clinicalNote,invalidText:Ae.clinicalNote&&(null==Ae||null===(p=Ae.clinicalNote)||void 0===p?void 0:p.message)}),"other"==f&&l().createElement(rl,{id:"requestReason",name:"requestReason",rows:1,control:V,controllerName:"requestReason",maxLength:500,value:"".concat(null!==(ce=null==g?void 0:g.requestReason)&&void 0!==ce?ce:""),labelText:y("requestReason:","Request Reason"),invalid:!!Ae.requestReason,invalidText:Ae.requestReason&&(null==Ae||null===(_=Ae.requestReason)||void 0===_?void 0:_.message)})),Object.entries(q).map((function(e){var t=Qv(e,2),n=t[0],r=t[1];return l().createElement("section",{key:n,className:Ov.locationLabRequest},l().createElement(Wp,{readonly:!1,center:r.center,tests:r.tests,showLocation:!0,deleteAllTests:function(e){var t=Vv({},q);delete t[e.uuid],j(t)},deleteTest:function(e,t){var n=Vv({},q);r.tests.length<2?delete n[e.uuid]:n[e.uuid].tests=n[e.uuid].tests.filter((function(e){return e.uuid!=t.uuid})),j(n),x((function(e){return e+1}))},enableReferOut:!0,referOut:function(e,t){var n=Boolean(!t.referOut);j((function(r){var a=Vv({},r);return a[e.uuid].tests.find((function(e){return e.uuid==t.uuid})).referOut=n,a}))}}))})),l().createElement("section",{className:Ov.locationLabRequest},(!C||0==C.length)&&l().createElement(ke.Qrc,null),(null==C?void 0:C.length)>0&&l().createElement(ke.M1e,{className:Ov.textInput,type:"text",labelText:y("laboratoryDiagonisticCenter","Lab Section"),rules:{required:!0},value:null!=k?k:"",onChange:function(e){T(e.target.value)}},!k&&l().createElement(ke.gV5,{text:y("laboratoryDiagonisticCenterSelect","Select Location"),value:""}),null==C?void 0:C.map((function(e){return l().createElement(ke.gV5,{key:e.uuid,text:e.display,value:e.uuid},e.display)}))),k&&l().createElement("div",{className:Ov.labRequests},l().createElement("div",{className:"cds--label ".concat(Ov.labRequestsHeader)},l().createElement("span",null,"Lab Request(s):"),l().createElement(ke.qaq,{kind:"ghost",onClick:ue,renderIcon:function(e){return l().createElement(bo.Uv,Vv({size:16},e))}},y("LaboratoryAllTests","All Tests"))),$&&l().createElement(ke.Qrc,null),L&&l().createElement(l().Fragment,null,l().createElement("div",{className:Ov.selectedTests},null==D?void 0:D.map((function(e,t){return l().createElement("div",{className:"".concat(Ov.selectedTest," ").concat(D.length%2==0?t%2==0?Ov.selectedTestAltRow:"":t%2==1?Ov.selectedTestAltRow:"")},l().createElement("div",{className:Ov.selectedTestName},l().createElement("span",null,t+1,"."," "),l().createElement("span",null,(null==e?void 0:e.testShortName)?"".concat(null==e?void 0:e.testShortName).concat((null==e?void 0:e.testName)?" (".concat(e.testName,")"):""):null==e?void 0:e.testName)),l().createElement("div",{className:Ov.referOut},l().createElement(ke.ywS,{checked:e.referOut,onChange:function(t){var n=Boolean(!e.referOut);R((function(t){var r=Kv(t);return r.find((function(t){return t.uuid==e.uuid})).referOut=n,r}))},className:Ov.testGroupItem,labelText:y("referOut","Refer-Out"),id:"test-chk-".concat(e.uuid)}),l().createElement(ke.qaq,{kind:"ghost",onClick:function(){R(null==D?void 0:D.filter((function(t){return t.uuid!=e.uuid}))),x((function(e){return e+1}))},renderIcon:function(e){return l().createElement(bo.Gi,Vv({size:16},e))}})))}))),(null==D?void 0:D.length)>0&&l().createElement("div",null,l().createElement(ke.qaq,{size:"sm",iconDescription:"Add",hasIcon:!0,renderIcon:function(e){return l().createElement(Oe.OM,Yv(Vv({},e),{size:16}))},kind:"ghost",onClick:function(){if(D.length>0){var e=Vv({},q);e[k]||(e[k]={center:C.find((function(e){return e.uuid==k})),tests:new Array}),e[k].tests=Kv(new Set(Kv(e[k].tests).concat(Kv(D)))),j(e),R([]),x((function(e){return e+1}))}}},y("laboratoryAddForAnotherLocation","Add For Other Lab Section"))),l().createElement("div",{className:"".concat(Ov.multiSelectedCombo),style:{backgroundColor:"white"}},l().createElement(ke.oTB,{downshiftProps:{inputId:"labRequestMultiSelectedCombo"},key:N,direction:"top",id:"cbLabRequestOptions",titleText:"",placeholder:y("laboratoryRequestChooseTests","Choose tests"),initialSelectedItems:D,selectedItems:D,onChange:function(e){return t=e.selectedItems,void R(t);var t},items:L,itemToString:function(e){var t;return null!==(t=(null==e?void 0:e.testShortName)?"".concat(null==e?void 0:e.testShortName).concat((null==e?void 0:e.testName)?" (".concat(e.testName,")"):""):null==e?void 0:e.testName)&&void 0!==t?t:""},selectionFeedback:"top-after-reopen"}))))))),l().createElement(ke._AC,{className:Ov.modalFooter},l().createElement(ke.qaq,{disabled:te,onClick:function(){return b(!0)},kind:"secondary"},y("cancel","Cancel")),l().createElement(ke.qaq,{onClick:W(oe,pe),disabled:0==(null==D?void 0:D.length)&&0==Object.keys(D).length},te?l().createElement(ke.kp8,null):y("save","Save")))))};const ef=function(e){var t=e.patientUuid,n=e.mode,r=e.closeWorkspace,a=e.model;return rr().configReady?l().createElement($v,{patientUuid:t,mode:n,closeWorkspace:r,model:a}):l().createElement(ke.m2V,{role:"progressbar"})};function tf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const nf=function(){var e=(0,He.useTranslation)().t,t=(0,o.useCallback)((function(){Ye(e("laboratoryLabRequestNew","New Laboratory Request"),l().createElement(ef,{mode:"other",closeWorkspace:Qe}))}),[e]);return l().createElement(ke.qaq,{size:"sm",className:to.headerButton,iconDescription:"New Request",hasIcon:!0,renderIcon:function(e){return l().createElement(Oe.OM,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){tf(e,t,n[t])}))}return e}({},e),n=null!=(n={size:16})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t));var t,n},kind:"ghost",onClick:t},e("laboratoryNewRequest","New Request"))};function rf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const af=function(){var e=(0,He.useTranslation)().t;return l().createElement(ke.qaq,{size:"sm",className:to.headerButton,iconDescription:"New Referral",hasIcon:!0,renderIcon:function(e){return l().createElement(Ya.SU,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){rf(e,t,n[t])}))}return e}({},e),n=null!=(n={size:16})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t));var t,n},kind:"ghost",onClick:function(){return(0,r.navigate)({to:v})}},e("laboratoryNewReferral","Referral"))};function of(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){lf(e,t,n[t])}))}return e}function cf(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function uf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return of(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?of(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const df=function(){var e=(0,He.useTranslation)().t,t=uf((0,o.useState)(!1),2),n=t[0],a=t[1],i=uf((0,o.useState)(!1),2),s=i[0],c=i[1],d=(0,r.useSession)();return(0,o.useEffect)((function(){a((null==d?void 0:d.user)&&(0,r.userHasAccess)("Task: labmanagement.testrequests.mutate",d.user)),c((null==d?void 0:d.user)&&(0,r.userHasAccess)("App: labmanagement.reports",d.user))}),[d]),l().createElement("div",{className:"".concat($e.headerActions)},l().createElement(ke.qaq,{size:"sm",className:$e.headerButton,iconDescription:"Home",hasIcon:!0,renderIcon:function(e){return l().createElement(Ev.AF,cf(sf({},e),{size:16}))},kind:"ghost",onClick:function(){return(0,r.navigate)({to:u})}},e("laboratoryHome","Home")),n&&l().createElement(l().Fragment,null,l().createElement(nf,null),l().createElement(af,null)),s&&l().createElement(ke.qaq,{size:"sm",className:$e.headerButton,iconDescription:"Reports",hasIcon:!0,renderIcon:function(e){return l().createElement(Oe.gn,cf(sf({},e),{size:16}))},kind:"ghost",onClick:function(){return(0,r.navigate)({to:fe})}},e("laboratoryReports","Reports")),l().createElement(ke.qaq,{size:"sm",className:$e.headerButton,iconDescription:"Settings",hasIcon:!0,renderIcon:function(e){return l().createElement(Sv.aE,cf(sf({},e),{size:16}))},kind:"ghost",onClick:function(){return(0,r.navigate)({to:p})}},e("laboratorySettings","Settings")))};function mf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Af(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return mf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pf(){var e=Af((0,o.useState)(),2),t=e[0],n=e[1],r=Af((0,o.useState)(!1),2),a=r[0],s=r[1],c=function(e){n(null==e?void 0:e.title),s(Boolean(null==e?void 0:e.showDateInHeader))};return rr().configReady?l().createElement("main",{className:"omrs-main-content"},l().createElement(i.BrowserRouter,{basename:u},l().createElement("div",{className:$e.container},l().createElement("div",null,l().createElement(_t,{sectionTitle:t,showDate:a}),l().createElement("div",null,l().createElement(df,null)),l().createElement(i.Routes,null,l().createElement(i.Route,{path:A,element:l().createElement(Sp,{onPageChanged:c})}),l().createElement(i.Route,{path:_,element:l().createElement(g_,{onPageChanged:c})}),l().createElement(i.Route,{path:ve,element:l().createElement(wv,{onPageChanged:c})}),l().createElement(i.Route,{path:"*",element:l().createElement(ad,{onPageChanged:c})}))),l().createElement(Ke,null)))):l().createElement(ke.m2V,{role:"progressbar"})}const _f=function(e){var t=e.closeWorkspace,n=e.promptBeforeClosing,r=e.patientUuid;return l().createElement(ef,{mode:"patient",patientUuid:r,closeWorkspace:t,promptBeforeClosing:n})};var vf=n(8900),ff={};ff.styleTagTransform=Ue(),ff.setAttributes=qe(),ff.insert=Be().bind(null,"head"),ff.domAPI=De(),ff.insertStyleElement=Fe(),xe()(vf.c,ff);const bf=vf.c&&vf.c.locals?vf.c.locals:void 0;var gf=n(4384),yf={};yf.styleTagTransform=Ue(),yf.setAttributes=qe(),yf.insert=Be().bind(null,"head"),yf.domAPI=De(),yf.insertStyleElement=Fe(),xe()(gf.c,yf);const hf=gf.c&&gf.c.locals?gf.c.locals:void 0;var Cf=n(4616),wf={};wf.styleTagTransform=Ue(),wf.setAttributes=qe(),wf.insert=Be().bind(null,"head"),wf.domAPI=De(),wf.insertStyleElement=Fe(),xe()(Cf.c,wf);const Ef=Cf.c&&Cf.c.locals?Cf.c.locals:void 0;function Sf(e){var t="".concat(r.restBaseUrl,"/concept/").concat(e,"?v=full"),n=(0,Et.cp)(t,r.openmrsFetch),a=n.data,o=n.error,l=n.isLoading;return{concept:null==a?void 0:a.data,isLoading:l,isError:o}}function kf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Tf=function(e){var t=e.members,n=(0,He.useTranslation)().t,r=[{id:1,header:n("test","Test"),key:"test"},{id:2,header:n("results","Results"),key:"value"},{id:3,header:n("range","Reference Range"),key:"range"}],a=(0,o.useMemo)((function(){return null==t?void 0:t.map((function(e){var t;return{id:e.uuid,test:{content:l().createElement("span",null,null==e||null===(t=e.concept)||void 0===t?void 0:t.display)},value:{content:l().createElement("span",null,"number"==typeof(null==e?void 0:e.value)?null==e?void 0:e.value:null==e?void 0:e.display)}}}))}),[t]),i=function(e){var t=Sf(e.conceptUuid),n=t.concept,r=t.isLoading,a=t.isError;return r?l().createElement(ke.y6P,null,l().createElement(ke.kp8,{status:"active"})):a?l().createElement(ke.y6P,null,l().createElement("span",null,"Error")):l().createElement(ke.y6P,null,void 0===(null==n?void 0:n.hiNormal)||void 0===(null==n?void 0:n.lowNormal)?"N/A":l().createElement("div",null,l().createElement("span",null,null==n?void 0:n.lowNormal)," : ",l().createElement("span",null,null==n?void 0:n.hiNormal),l().createElement("span",{style:{marginLeft:"10px"}},null==n?void 0:n.units)))},s=function(e){var t,n=e.value,r=Sf(e.conceptUuid),a=r.concept,o=r.isLoading,i=r.isError;if(o)return l().createElement(ke.y6P,null,l().createElement(ke.kp8,{status:"active"}));if(i)return l().createElement(ke.y6P,null,l().createElement("span",null,"Error"));if("coded"===(null==a||null===(t=a.datatype)||void 0===t?void 0:t.display))return l().createElement(ke.y6P,null,"object"==typeof n?null==n?void 0:n.display:n);var s="";return"number"==typeof n?((null==a?void 0:a.hiCritical)&&n>=(null==a?void 0:a.hiCritical)&&(s=Ef.criticallyHigh),(null==a?void 0:a.hiNormal)&&n>(null==a?void 0:a.hiNormal)&&(s=Ef.high),(null==a?void 0:a.lowCritical)&&n<=(null==a?void 0:a.lowCritical)&&(s=Ef.criticallyLow),(null==a?void 0:a.lowNormal)&&n<(null==a?void 0:a.lowNormal)&&(s=Ef.low),l().createElement(ke.y6P,{className:s},n)):l().createElement(ke.y6P,null,n.display)};if((null==a?void 0:a.length)>=0)return l().createElement("div",null,l().createElement(ke.iSL,{rows:a,headers:r,useZebraStyles:!0},(function(e){var r,a,o=e.rows,c=e.headers,u=e.getHeaderProps,d=e.getTableProps,m=e.getRowProps;return l().createElement(ke._tR,{className:Ef.tableContainer},l().createElement(ke.oJK,(r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){kf(e,t,n[t])}))}return e}({},d()),a=null!=(a={className:Ef.activePatientsTable})?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(a)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})),r),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,c.map((function(e){return l().createElement(ke.IEe,u({header:e}),e.header)})))),l().createElement(ke.qqV,null,o.map((function(e,n){return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.CGA,m({row:e}),e.cells.map((function(e){var r,a,o,c,u,d,m;return"range"===e.info.header?l().createElement(i,{conceptUuid:null===(a=t[n])||void 0===a||null===(r=a.concept)||void 0===r?void 0:r.uuid},null===(o=e.value)||void 0===o?void 0:o.content):"value"===e.info.header?l().createElement(s,{conceptUuid:null===(c=t[n])||void 0===c?void 0:c.concept.uuid,value:null===(u=t[n])||void 0===u?void 0:u.value}):l().createElement(ke.y6P,{key:e.id},null!==(m=null===(d=e.value)||void 0===d?void 0:d.content)&&void 0!==m?m:null==e?void 0:e.value)}))))})))),0===o.length?l().createElement("div",{className:Ef.tileContainer},l().createElement(ke.g$J,{className:Ef.tile},l().createElement("div",{className:Ef.tileContent},l().createElement("p",{className:Ef.content},n("noTestOrdersToDisplay","No test orders to display"))))):null)})))};function Of(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Nf=function(e){var t=e.obs,n=(0,He.useTranslation)().t,a=[{id:0,header:n("order","Order"),key:"order",align:"center"},{id:1,header:n("date","Date"),key:"date"},{id:2,header:n("result","Results"),key:"result"}],i=null==t?void 0:t.filter((function(e){var t;return"testorder"===(null==e||null===(t=e.obs.order)||void 0===t?void 0:t.type)})),s=(0,o.useMemo)((function(){return i.map((function(e,t){var a,o,i,s,c,u,d,m;return{id:e.obs.uuid,order:{content:l().createElement("span",null,null==e||null===(a=e.obs.concept)||void 0===a?void 0:a.display," ",(null==e?void 0:e.completed)?"":" (".concat(n("preliminary"),")"))},date:{content:l().createElement("span",null,(m=null==e?void 0:e.obs.obsDatetime,(0,r.formatDate)((0,r.parseDate)(m),{time:!1})))},result:{content:l().createElement("div",null,l().createElement("span",null,null===(null===(o=e[t])||void 0===o?void 0:o.groupMembers)?null==e?void 0:e.obs.display:null!==(d=null!==(u=null!==(c=null==e||null===(i=e.obs.value)||void 0===i?void 0:i.display)&&void 0!==c?c:null==e?void 0:e.obs.display)&&void 0!==u?u:null==e||null===(s=e.obs.value)||void 0===s?void 0:s.display)&&void 0!==d?d:null==e?void 0:e.obs.value),e.remarks&&l().createElement("div",{className:Ef.testResultRemarks},e.remarks))}}}))}),[i]);return l().createElement("div",null,l().createElement(ke.iSL,{rows:s,headers:a,useZebraStyles:!0},(function(e){var t,r,a=e.rows,o=e.headers,s=e.getHeaderProps,c=e.getTableProps,u=e.getRowProps;return l().createElement(ke._tR,{className:Ef.tableContainer},l().createElement(ke.oJK,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Of(e,t,n[t])}))}return e}({},c()),r=null!=(r={className:Ef.activePatientsTable})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})),t),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,l().createElement(ke.ugy,null),o.map((function(e){return l().createElement(ke.IEe,s({header:e}),e.header)})))),l().createElement(ke.qqV,null,a.map((function(e,t){var n,r,a,s,c,d,m;return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.cjO,u({row:e}),e.cells.map((function(e){var t,n;return l().createElement(ke.y6P,{key:e.id},null!==(n=null===(t=e.value)||void 0===t?void 0:t.content)&&void 0!==n?n:e.value)}))),e.isExpanded?l().createElement(ke.Ocq,{className:Ef.expandedActiveVisitRow,colSpan:o.length+2},null!==(null===(r=i[t])||void 0===r||null===(n=r.obs)||void 0===n?void 0:n.groupMembers)&&(null===(c=i[t])||void 0===c||null===(s=c.obs)||void 0===s||null===(a=s.groupMembers)||void 0===a?void 0:a.length)>0&&l().createElement(Tf,{members:null===(m=i[t])||void 0===m||null===(d=m.obs)||void 0===d?void 0:d.groupMembers})):l().createElement(ke.Ocq,{className:Ef.hiddenRow,colSpan:o.length+2}))})))),0===a.length&&l().createElement("div",{className:Ef.tileContainer},l().createElement(ke.g$J,{className:Ef.tile},l().createElement("div",{className:Ef.tileContent},l().createElement("p",{className:Ef.content},n("noTestResultsToDisplay","No test results to display"))))))})))};var xf=n(8504),If=n(3416),Df={};Df.styleTagTransform=Ue(),Df.setAttributes=qe(),Df.insert=Be().bind(null,"head"),Df.domAPI=De(),Df.insertStyleElement=Fe(),xe()(If.c,Df);const Rf=If.c&&If.c.locals?If.c.locals:void 0;var Bf=function(e){var t;return(null==e||null===(t=e.testResult)||void 0===t?void 0:t.completed)?{background:"green",color:"white"}:(null==e?void 0:e.status)==vn?{background:"red",color:"white"}:(null==e?void 0:e.status)==An||(null==e?void 0:e.status)==pn||(null==e?void 0:e.status)==_n?{background:"#6F6F6F",color:"white"}:{background:"gray",color:"white"}};const Pf=function(e){var t=e.testRequestItem,n=e.showRemarks,r=l().createElement(ke.EDW,{style:Bf(t),role:"tooltip"},En(null==t?void 0:t.testName,null==t?void 0:t.testShortName));return l().createElement(l().Fragment,null,n&&(null==t?void 0:t.requestApprovalRemarks)?l().createElement("div",{className:Rf.tagWithRemarks},r,l().createElement("div",{className:Rf.approvalRemarks},t.requestApprovalRemarks)):r)};function qf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ff(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){jf(e,t,n[t])}))}return e}function Lf(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Uf=function(e){var t,n,a=e.patientUuid,i=(0,He.useTranslation)().t,s=(t=(0,o.useState)(""),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return qf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qf(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],u=s[1],d=rr(),m=d.laboratoryConfig.enableSendingLabTestsByEmail,A=d.configReady,p=i("referralLaboratoryTestsDisplayTextTitle","Laboratory Referral Tests"),_=((new Date).getTime(),sn({v:gt.Full,minActivatedDate:null,maxActivatedDate:null,referredOut:!0,includeTestItemSamples:!1,allTests:!1,includeTestItemTestResult:!0,testResultApprovals:!0,includeItemConcept:!0,patient:a})),v=_.isLoading,f=_.items,b=_.currentPageSize,g=_.pageSizes,y=_.currentPage,h=_.setPageSize,C=_.setCurrentPage,E=_.totalCount,S=_.isError,k=(0,o.useCallback)((function(e){var t,n,r=null==e||null===(n=e.target)||void 0===n||null===(t=n.value)||void 0===t?void 0:t.trim().toLowerCase();u(r)}),[]),T=function(){var e=(0,o.useCallback)((function(){var e=(0,r.showModal)("send-email-dialog",{closeModal:function(){return e()}})}),[]);return l().createElement(ke.qaq,{kind:"ghost",size:"sm",onClick:function(){return e()},renderIcon:function(e){return l().createElement(tt.cz,Ff({size:16},e))}})},O=(0,o.useMemo)((function(){return[{id:0,header:i("orderDate","Test Date"),key:"orderDate"},{id:1,header:i("tests","Tests"),key:"orders"},{id:2,header:i("location","Location"),key:"location"},{id:3,header:i("request#","Request #"),key:"status"},{id:4,header:i("actions","Action"),key:"actions"},{id:2,header:"details",key:"details"}]}),[i]),N=(0,o.useMemo)((function(){return(c?null==f?void 0:f.map((function(e){var t;return Lf(Ff({},e),{tests:null===(t=e.tests)||void 0===t?void 0:t.filter((function(e){var t,n,r,a;return(null===(n=e.testName)||void 0===n||null===(t=n.toLowerCase())||void 0===t?void 0:t.includes(c))||(null===(a=e.testShortName)||void 0===a||null===(r=a.toLowerCase())||void 0===r?void 0:r.includes(c))}))})})).filter((function(e){var t,n;return(null!==(n=null===(t=e.tests)||void 0===t?void 0:t.length)&&void 0!==n?n:0)>0})):f).sort((function(e,t){var n=new Date(e.dateCreated);return new Date(t.dateCreated).getTime()-n.getTime()})).map((function(e){var t,n,r,a=null==e||null===(t=e.tests)||void 0===t?void 0:t.map((function(e){var t,n,r,a;return(null===(t=e.testResult)||void 0===t?void 0:t.obs)?{obs:null===(n=e.testResult)||void 0===n?void 0:n.obs,completed:null===(r=e.testResult)||void 0===r?void 0:r.completed,remarks:null===(a=e.testResult)||void 0===a?void 0:a.remarks}:null})).filter((function(e){return e}));return Lf(Ff({},e),{id:e.uuid,orderDate:qt(e.dateCreated),orders:l().createElement(l().Fragment,null,null==e||null===(n=e.tests)||void 0===n?void 0:n.sort((function(e,t){return e.requestApprovalRemarks&&t.requestApprovalRemarks?0:e.requestApprovalRemarks?1:-1})).map((function(e){return l().createElement(Pf,{testRequestItem:e,showRemarks:!0})}))),location:e.atLocationName,status:l().createElement("div",{className:hf.status},l().createElement("div",null,l().createElement("a",{href:w(e.requestNo,Rt(e.dateCreated)),target:"_blank"},e.requestNo))),actions:l().createElement("div",{style:{display:"flex"}},l().createElement(ja,{testRequestUuid:e.uuid,enableResults:null==e||null===(r=e.tests)||void 0===r?void 0:r.some((function(e){return e.testResult}))}),m&&l().createElement(T,null)),details:(null==a?void 0:a.length)>0?l().createElement(Nf,{obs:a}):l().createElement(l().Fragment,null)})}))}),[m,f,c]);return v||!A?l().createElement(ke.m2V,{role:"progressbar"}):S?l().createElement(r.ErrorState,{error:S,headerTitle:"Error"}):(null==N?void 0:N.length)>=0?l().createElement("div",{className:hf.widgetCard},l().createElement(xf.qh,{title:p},v?l().createElement("span",null,l().createElement(ke.kp8,null)):null,l().createElement("div",{className:hf.buttons},l().createElement(ke.qaq,{kind:"ghost",renderIcon:function(e){return l().createElement(Oe.OM,Ff({size:16},e))},iconDescription:"Launch lab Request",onClick:function(){(0,xf.cn)("patient-laboratory-referral-workspace",{workspaceTitle:"Lab Request Form",mutateForm:function(){(0,Et.Uz)((function(e){return!0}),void 0,{revalidate:!0})},patientUuid:a})}},i("add","Add")))),l().createElement(ke.iSL,{rows:N,headers:O,useZebraStyles:!0},(function(e){var t=e.rows,n=e.headers,r=e.getHeaderProps,a=e.getTableProps,o=e.getRowProps;return l().createElement(ke._tR,{className:hf.tableContainer},l().createElement(ke.MBp,{style:{position:"static",height:"3rem",overflow:"visible",backgroundColor:"color"}},l().createElement(ke.aGn,null,l().createElement("div",{style:{fontSize:"10px",margin:"5px",display:"flex",flexDirection:"row",alignItems:"center"}},"Key:",l().createElement(ke.EDW,{size:"sm",style:{background:"#6F6F6F",color:"white"},title:"Result Requested",renderIcon:function(){return l().createElement(Sv.wr,null)}},"Requested"),l().createElement(ke.EDW,{size:"sm",style:{background:"green",color:"white"},title:"Result Complete",renderIcon:function(){return l().createElement(Mt.O,null)}},"Completed"),l().createElement(ke.EDW,{size:"sm",style:{background:"red",color:"white"},title:"Result Rejected",renderIcon:function(){return l().createElement(tt.gu,null)}},"Rejected")),l().createElement(ke.ar0,null,l().createElement(ke.OWJ,{expanded:!0,value:c,onChange:k,placeholder:i("searchThisList","Search this list"),size:"sm"})))),l().createElement(ke.oJK,Lf(Ff({},a()),{className:hf.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,l().createElement(ke.ugy,null),n.map((function(e){return!e.key.startsWith("details")&&l().createElement(ke.IEe,r({header:e}),e.header)})))),l().createElement(ke.qqV,null,t.map((function(e,t){return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.cjO,o({row:e}),e.cells.map((function(e){var t,n,r;return!(null==e||null===(t=e.info)||void 0===t?void 0:t.header.startsWith("details"))&&l().createElement(ke.y6P,{key:e.id},null!==(r=null===(n=e.value)||void 0===n?void 0:n.content)&&void 0!==r?r:e.value)}))),e.isExpanded&&e.cells[e.cells.length-1].value?l().createElement(ke.Ocq,{className:hf.expandedActiveVisitRow,colSpan:n.length+2},e.cells[e.cells.length-1].value):l().createElement(ke.Ocq,{className:hf.hiddenRow,colSpan:n.length+2}))})))),0===t.length?l().createElement("div",{className:hf.tileContainer},l().createElement(ke.g$J,{className:hf.tile},l().createElement("div",{className:hf.tileContent},l().createElement("p",{className:hf.content},i("noTestOrdersToDisplay","No test orders to display"))))):null,l().createElement(ke.eML,{page:y,pageSize:b,pageSizes:g,totalItems:null!=E?E:0,onChange:function(e){var t=e.page,n=e.pageSize;C(t),h(n)},className:hf.paginationOverride}))}))):void 0};var zf=n(3804),Mf={};Mf.styleTagTransform=Ue(),Mf.setAttributes=qe(),Mf.insert=Be().bind(null,"head"),Mf.domAPI=De(),Mf.insertStyleElement=Fe(),xe()(zf.c,Mf);const Gf=zf.c&&zf.c.locals?zf.c.locals:void 0;function Hf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Jf(e,t,n[t])}))}return e}function Vf(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Yf=function(e){var t,n,a=e.patientUuid,i=(0,He.useTranslation)().t,s=(t=(0,o.useState)(""),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Hf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hf(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],u=s[1],d=rr(),m=d.laboratoryConfig.enableSendingLabTestsByEmail,A=d.configReady,p=i("pastLaboratoryTestsDisplayTextTitle","Past Laboratory Tests"),_=((new Date).getTime(),sn({v:gt.Full,minActivatedDate:null,maxActivatedDate:new Date((new Date).setMilliseconds(0)-86400001).toISOString(),includeTestItemSamples:!1,allTests:!0,includeTestItemTestResult:!0,testResultApprovals:!0,includeItemConcept:!0,patient:a})),v=_.isLoading,f=_.items,b=_.currentPageSize,g=_.pageSizes,y=_.currentPage,h=_.setPageSize,C=_.setCurrentPage,E=_.totalCount,S=_.isError,k=(0,o.useCallback)((function(e){var t,n,r=null==e||null===(n=e.target)||void 0===n||null===(t=n.value)||void 0===t?void 0:t.trim().toLowerCase();u(r)}),[]),T=function(){var e=(0,o.useCallback)((function(){var e=(0,r.showModal)("send-email-dialog",{closeModal:function(){return e()}})}),[]);return l().createElement(ke.qaq,{kind:"ghost",size:"sm",onClick:function(){return e()},renderIcon:function(e){return l().createElement(tt.cz,Wf({size:16},e))}})},O=(0,o.useMemo)((function(){return[{id:0,header:i("orderDate","Test Date"),key:"orderDate"},{id:1,header:i("tests","Tests"),key:"orders"},{id:2,header:i("location","Location"),key:"location"},{id:3,header:i("request#","Request #"),key:"status"},{id:4,header:i("actions","Action"),key:"actions"},{id:2,header:"details",key:"details"}]}),[i]),N=(0,o.useMemo)((function(){return(c?null==f?void 0:f.map((function(e){var t;return Vf(Wf({},e),{tests:null===(t=e.tests)||void 0===t?void 0:t.filter((function(e){var t,n,r,a;return(null===(n=e.testName)||void 0===n||null===(t=n.toLowerCase())||void 0===t?void 0:t.includes(c))||(null===(a=e.testShortName)||void 0===a||null===(r=a.toLowerCase())||void 0===r?void 0:r.includes(c))}))})})).filter((function(e){var t,n;return(null!==(n=null===(t=e.tests)||void 0===t?void 0:t.length)&&void 0!==n?n:0)>0})):f).sort((function(e,t){var n=new Date(e.dateCreated);return new Date(t.dateCreated).getTime()-n.getTime()})).map((function(e){var t,n,r,a=null==e||null===(t=e.tests)||void 0===t?void 0:t.map((function(e){var t,n,r,a;return(null===(t=e.testResult)||void 0===t?void 0:t.obs)?{obs:null===(n=e.testResult)||void 0===n?void 0:n.obs,completed:null===(r=e.testResult)||void 0===r?void 0:r.completed,remarks:null===(a=e.testResult)||void 0===a?void 0:a.remarks}:null})).filter((function(e){return e}));return Vf(Wf({},e),{id:e.uuid,orderDate:qt(e.dateCreated),orders:l().createElement(l().Fragment,null,null==e||null===(n=e.tests)||void 0===n?void 0:n.sort((function(e,t){return e.requestApprovalRemarks&&t.requestApprovalRemarks?0:e.requestApprovalRemarks?1:-1})).map((function(e){return l().createElement(Pf,{testRequestItem:e,showRemarks:!0})}))),location:e.atLocationName,status:l().createElement("div",{className:Gf.status},l().createElement("div",null,l().createElement("a",{href:w(e.requestNo,Rt(e.dateCreated)),target:"_blank"},e.requestNo))),actions:l().createElement("div",{style:{display:"flex"}},l().createElement(ja,{testRequestUuid:e.uuid,enableResults:null==e||null===(r=e.tests)||void 0===r?void 0:r.some((function(e){return e.testResult}))}),m&&l().createElement(T,null)),details:(null==a?void 0:a.length)>0?l().createElement(Nf,{obs:a}):l().createElement(l().Fragment,null)})}))}),[m,f,c]);return v||!A?l().createElement(ke.m2V,{role:"progressbar"}):S?l().createElement(r.ErrorState,{error:S,headerTitle:"Error"}):(null==N?void 0:N.length)>=0?l().createElement("div",{className:Gf.widgetCard},l().createElement(xf.qh,{title:p},v?l().createElement("span",null,l().createElement(ke.kp8,null)):null,l().createElement("div",{className:Gf.buttons},l().createElement(ke.qaq,{kind:"ghost",renderIcon:function(e){return l().createElement(Oe.OM,Wf({size:16},e))},iconDescription:"Launch lab Request",onClick:function(){(0,xf.cn)("patient-laboratory-referral-workspace",{workspaceTitle:"Lab Request Form",mutateForm:function(){(0,Et.Uz)((function(e){return!0}),void 0,{revalidate:!0})},patientUuid:a})}},i("add","Add")))),l().createElement(ke.iSL,{rows:N,headers:O,useZebraStyles:!0},(function(e){var t=e.rows,n=e.headers,r=e.getHeaderProps,a=e.getTableProps,o=e.getRowProps;return l().createElement(ke._tR,{className:Gf.tableContainer},l().createElement(ke.MBp,{style:{position:"static",height:"3rem",overflow:"visible",backgroundColor:"color"}},l().createElement(ke.aGn,null,l().createElement("div",{style:{fontSize:"10px",margin:"5px",display:"flex",flexDirection:"row",alignItems:"center"}},"Key:",l().createElement(ke.EDW,{size:"sm",style:{background:"#6F6F6F",color:"white"},title:"Result Requested",renderIcon:function(){return l().createElement(Sv.wr,null)}},"Requested"),l().createElement(ke.EDW,{size:"sm",style:{background:"green",color:"white"},title:"Result Complete",renderIcon:function(){return l().createElement(Mt.O,null)}},"Completed"),l().createElement(ke.EDW,{size:"sm",style:{background:"red",color:"white"},title:"Result Rejected",renderIcon:function(){return l().createElement(tt.gu,null)}},"Rejected")),l().createElement(ke.ar0,null,l().createElement(ke.OWJ,{expanded:!0,value:c,onChange:k,placeholder:i("searchThisList","Search this list"),size:"sm"})))),l().createElement(ke.oJK,Vf(Wf({},a()),{className:Gf.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,l().createElement(ke.ugy,null),n.map((function(e){return!e.key.startsWith("details")&&l().createElement(ke.IEe,r({header:e}),e.header)})))),l().createElement(ke.qqV,null,t.map((function(e,t){return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.cjO,o({row:e}),e.cells.map((function(e){var t,n,r;return!(null==e||null===(t=e.info)||void 0===t?void 0:t.header.startsWith("details"))&&l().createElement(ke.y6P,{key:e.id},null!==(r=null===(n=e.value)||void 0===n?void 0:n.content)&&void 0!==r?r:e.value)}))),e.isExpanded&&e.cells[e.cells.length-1].value?l().createElement(ke.Ocq,{className:Gf.expandedActiveVisitRow,colSpan:n.length+2},e.cells[e.cells.length-1].value):l().createElement(ke.Ocq,{className:Gf.hiddenRow,colSpan:n.length+2}))})))),0===t.length?l().createElement("div",{className:Gf.tileContainer},l().createElement(ke.g$J,{className:Gf.tile},l().createElement("div",{className:Gf.tileContent},l().createElement("p",{className:Gf.content},i("noTestOrdersToDisplay","No test orders to display"))))):null,l().createElement(ke.eML,{page:y,pageSize:b,pageSizes:g,totalItems:null!=E?E:0,onChange:function(e){var t=e.page,n=e.pageSize;C(t),h(n)},className:Gf.paginationOverride}))}))):void 0};var Qf=n(2012),Kf={};Kf.styleTagTransform=Ue(),Kf.setAttributes=qe(),Kf.insert=Be().bind(null,"head"),Kf.domAPI=De(),Kf.insertStyleElement=Fe(),xe()(Qf.c,Kf);const Zf=Qf.c&&Qf.c.locals?Qf.c.locals:void 0;function Xf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){$f(e,t,n[t])}))}return e}function tb(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const nb=function(e){var t,n,a=e.patientUuid,i=(0,He.useTranslation)().t,s=(t=(0,o.useState)(""),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Xf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xf(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],u=s[1],d=rr(),m=d.laboratoryConfig.enableSendingLabTestsByEmail,A=d.configReady,p=i("activelLaboratoryTestsDisplayTextTitle","Active Laboratory Tests"),_=sn({v:gt.Full,minActivatedDate:new Date((new Date).setMilliseconds(0)-864e5).toISOString(),maxActivatedDate:new Date((new Date).setHours(0,0,0,0)+864e5).toISOString(),includeTestItemSamples:!1,allTests:!0,includeTestItemTestResult:!0,testResultApprovals:!0,includeItemConcept:!0,patient:a}),v=_.isLoading,f=_.items,b=_.currentPageSize,g=_.pageSizes,y=_.currentPage,h=_.setPageSize,C=_.setCurrentPage,E=_.totalCount,S=_.isError,k=(0,o.useCallback)((function(e){var t,n,r=null==e||null===(n=e.target)||void 0===n||null===(t=n.value)||void 0===t?void 0:t.trim().toLowerCase();u(r)}),[]),T=function(){var e=(0,o.useCallback)((function(){var e=(0,r.showModal)("send-email-dialog",{closeModal:function(){return e()}})}),[]);return l().createElement(ke.qaq,{kind:"ghost",size:"sm",onClick:function(){return e()},renderIcon:function(e){return l().createElement(tt.cz,eb({size:16},e))}})},O=(0,o.useMemo)((function(){return[{id:0,header:i("orderDate","Test Date"),key:"orderDate"},{id:1,header:i("tests","Tests"),key:"orders"},{id:2,header:i("location","Location"),key:"location"},{id:3,header:i("request#","Request #"),key:"status"},{id:4,header:i("actions","Action"),key:"actions"},{id:2,header:"details",key:"details"}]}),[i]),N=(0,o.useMemo)((function(){return(c?null==f?void 0:f.map((function(e){var t;return tb(eb({},e),{tests:null===(t=e.tests)||void 0===t?void 0:t.filter((function(e){var t,n,r,a;return(null===(n=e.testName)||void 0===n||null===(t=n.toLowerCase())||void 0===t?void 0:t.includes(c))||(null===(a=e.testShortName)||void 0===a||null===(r=a.toLowerCase())||void 0===r?void 0:r.includes(c))}))})})).filter((function(e){var t,n;return(null!==(n=null===(t=e.tests)||void 0===t?void 0:t.length)&&void 0!==n?n:0)>0})):f).sort((function(e,t){var n=new Date(e.dateCreated);return new Date(t.dateCreated).getTime()-n.getTime()})).map((function(e){var t,n,r,a=null==e||null===(t=e.tests)||void 0===t?void 0:t.map((function(e){var t,n,r,a;return(null===(t=e.testResult)||void 0===t?void 0:t.obs)?{obs:null===(n=e.testResult)||void 0===n?void 0:n.obs,completed:null===(r=e.testResult)||void 0===r?void 0:r.completed,remarks:null===(a=e.testResult)||void 0===a?void 0:a.remarks}:null})).filter((function(e){return e}));return tb(eb({},e),{id:e.uuid,orderDate:qt(e.dateCreated),orders:l().createElement(l().Fragment,null,null==e||null===(n=e.tests)||void 0===n?void 0:n.sort((function(e,t){return e.requestApprovalRemarks&&t.requestApprovalRemarks?0:e.requestApprovalRemarks?1:-1})).map((function(e){return l().createElement(Pf,{testRequestItem:e,showRemarks:!0})}))),location:e.atLocationName,status:l().createElement("div",{className:Zf.status},l().createElement("div",null,l().createElement("a",{href:w(e.requestNo,Rt(e.dateCreated)),target:"_blank"},e.requestNo))),actions:l().createElement("div",{style:{display:"flex"}},l().createElement(ja,{testRequestUuid:e.uuid,enableResults:null==e||null===(r=e.tests)||void 0===r?void 0:r.some((function(e){return e.testResult}))}),m&&l().createElement(T,null)),details:(null==a?void 0:a.length)>0?l().createElement(Nf,{obs:a}):l().createElement(l().Fragment,null)})}))}),[m,f,c]);return v||!A?l().createElement(ke.m2V,{role:"progressbar"}):S?l().createElement(r.ErrorState,{error:S,headerTitle:"Error"}):(null==N?void 0:N.length)>=0?l().createElement("div",{className:Zf.widgetCard},l().createElement(xf.qh,{title:p},v?l().createElement("span",null,l().createElement(ke.kp8,null)):null,l().createElement("div",{className:Zf.buttons},l().createElement(ke.qaq,{kind:"ghost",renderIcon:function(e){return l().createElement(Oe.OM,eb({size:16},e))},iconDescription:"Launch lab Request",onClick:function(){(0,xf.cn)("patient-laboratory-referral-workspace",{workspaceTitle:"Lab Request Form",mutateForm:function(){(0,Et.Uz)((function(e){return!0}),void 0,{revalidate:!0})},patientUuid:a})}},i("add","Add")))),l().createElement(ke.iSL,{rows:N,headers:O,useZebraStyles:!0},(function(e){var t=e.rows,n=e.headers,r=e.getHeaderProps,a=e.getTableProps,o=e.getRowProps;return l().createElement(ke._tR,{className:Zf.tableContainer},l().createElement(ke.MBp,{style:{position:"static",height:"3rem",overflow:"visible",backgroundColor:"color"}},l().createElement(ke.aGn,null,l().createElement("div",{style:{fontSize:"10px",margin:"5px",display:"flex",flexDirection:"row",alignItems:"center"}},"Key:",l().createElement(ke.EDW,{size:"sm",style:{background:"#6F6F6F",color:"white"},title:"Result Requested",renderIcon:function(){return l().createElement(Sv.wr,null)}},"Requested"),l().createElement(ke.EDW,{size:"sm",style:{background:"green",color:"white"},title:"Result Complete",renderIcon:function(){return l().createElement(Mt.O,null)}},"Completed"),l().createElement(ke.EDW,{size:"sm",style:{background:"red",color:"white"},title:"Result Rejected",renderIcon:function(){return l().createElement(tt.gu,null)}},"Rejected")),l().createElement(ke.ar0,null,l().createElement(ke.OWJ,{expanded:!0,value:c,onChange:k,placeholder:i("searchThisList","Search this list"),size:"sm"})))),l().createElement(ke.oJK,tb(eb({},a()),{className:Zf.activePatientsTable}),l().createElement(ke.iy5,null,l().createElement(ke.CGA,null,l().createElement(ke.ugy,null),n.map((function(e){return!e.key.startsWith("details")&&l().createElement(ke.IEe,r({header:e}),e.header)})))),l().createElement(ke.qqV,null,t.map((function(e,t){return l().createElement(l().Fragment,{key:e.id},l().createElement(ke.cjO,o({row:e}),e.cells.map((function(e){var t,n,r;return!(null==e||null===(t=e.info)||void 0===t?void 0:t.header.startsWith("details"))&&l().createElement(ke.y6P,{key:e.id},null!==(r=null===(n=e.value)||void 0===n?void 0:n.content)&&void 0!==r?r:e.value)}))),e.isExpanded&&e.cells[e.cells.length-1].value?l().createElement(ke.Ocq,{className:Zf.expandedActiveVisitRow,colSpan:n.length+2},e.cells[e.cells.length-1].value):l().createElement(ke.Ocq,{className:Zf.hiddenRow,colSpan:n.length+2}))})))),0===t.length?l().createElement("div",{className:Zf.tileContainer},l().createElement(ke.g$J,{className:Zf.tile},l().createElement("div",{className:Zf.tileContent},l().createElement("p",{className:Zf.content},i("noTestOrdersToDisplay","No test orders to display"))))):null,l().createElement(ke.eML,{page:y,pageSize:b,pageSizes:g,totalItems:null!=E?E:0,onChange:function(e){var t=e.page,n=e.pageSize;C(t),h(n)},className:Zf.paginationOverride}))}))):void 0};function rb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const ab=function(e){var t,n,r=e.patientUuid,a=(0,He.useTranslation)().t,i=(t=(0,o.useState)(0),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return rb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rb(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=i[0],c=i[1];return l().createElement(l().Fragment,null,l().createElement("div",{className:bf.container},l().createElement(ke.kZJ,{selectedIndex:s,onChange:function(e){var t=e.selectedIndex;return c(t)},className:bf.tabs},l().createElement(ke.qc_,{className:bf.tabList,"aria-label":"laboratory results tabs",contained:!0},l().createElement(ke.sOW,{className:bf.tabWidth},a("pending","Active Tests")),l().createElement(ke.sOW,{className:bf.tabWidth},a("pending","Past Tests")),l().createElement(ke.sOW,{className:bf.tabWidth},a("referals","Referred Tests"))),l().createElement(ke.on1,null,l().createElement(ke.Gke,null,l().createElement("div",{className:bf.panelContainer},0==s&&l().createElement(nb,{patientUuid:r}))),l().createElement(ke.Gke,null,l().createElement("div",{className:bf.panelContainer},1==s&&l().createElement(Yf,{patientUuid:r}))),l().createElement(ke.Gke,null,l().createElement("div",{className:bf.panelContainer},2==s&&l().createElement(Uf,{patientUuid:r})))))))};function ob(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lb(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}var ib=n(1432),sb={};sb.styleTagTransform=Ue(),sb.setAttributes=qe(),sb.insert=Be().bind(null,"head"),sb.domAPI=De(),sb.insertStyleElement=Fe(),xe()(ib.c,sb);const cb=ib.c&&ib.c.locals?ib.c.locals:void 0,ub=function(e){var t=e.label,n=e.value,r=e.headerLabel,a=e.children,o=e.additionalKpis;return(0,He.useTranslation)().t,l().createElement(ke.g$J,{className:cb.tileContainer,light:!0},l().createElement("div",{className:cb.tileHeader},l().createElement("div",{className:cb.headerLabelContainer},l().createElement("label",{className:cb.headerLabel},r),a),l().createElement("div",null)),l().createElement("div",{className:cb.kpis},l().createElement("div",null,l().createElement("label",{className:cb.totalsLabel},t),l().createElement("p",{className:cb.totalsValue},n)),null==o?void 0:o.map((function(e){return l().createElement("div",null,l().createElement("label",{className:cb.totalsLabel},e.label),l().createElement("p",{className:cb.totalsValue},e.value))}))))};var db=n(9752),mb={};mb.styleTagTransform=Ue(),mb.setAttributes=qe(),mb.insert=Be().bind(null,"head"),mb.domAPI=De(),mb.insertStyleElement=Fe(),xe()(db.c,mb);const Ab=db.c&&db.c.locals?db.c.locals:void 0;function pb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||fb(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fb(e,t){if(e){if("string"==typeof e)return pb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pb(e,t):void 0}}var bb=n(7616),gb={};gb.styleTagTransform=Ue(),gb.setAttributes=qe(),gb.insert=Be().bind(null,"head"),gb.domAPI=De(),gb.insertStyleElement=Fe(),xe()(bb.c,gb);const yb=bb.c&&bb.c.locals?bb.c.locals:void 0;var hb=Gl.z.object({remarksRequired:Gl.z.boolean().optional(),remarks:Gl.z.string().max(500).optional()}).refine((function(e){var t=e.remarksRequired,n=e.remarks;return!Boolean(t)||Boolean(n&&n.trim().length>0)}),{message:"Required",path:["remarks"]});function Cb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wb(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}var Eb=Gl.z.object({uuid:Gl.z.string().nullish(),sampleTypeUuid:Gl.z.string(),providedRef:Gl.z.string().max(255).optional().nullish(),confirmProvidedRef:Gl.z.string().max(255).optional().nullish(),accessionNumber:Gl.z.string().max(255),tests:Gl.z.array(Gl.z.string()).nonempty("Required"),containerTypeUuid:Gl.z.string().optional().nullish(),containerCount:Gl.z.coerce.number().int("Integer").optional().nullish(),specifyVolume:Gl.z.boolean(),volume:Gl.z.coerce.number().optional().nullish(),volumeUnitUuid:Gl.z.string().optional().nullish(),referredOut:Gl.z.boolean(),referralToFacilityUuid:Gl.z.string().optional().nullish(),archiveSample:Gl.z.boolean(),storageUuid:Gl.z.string().nullable().optional(),storageUnitUuid:Gl.z.string().optional().nullish()}).refine((function(e){var t=e.containerCount,n=e.containerTypeUuid;return Boolean(t)||Boolean(!n)}),{message:"Required",path:["containerCount"]}).refine((function(e){var t=e.containerCount,n=e.containerTypeUuid;return Boolean(n)||Boolean(!t)}),{message:"Required",path:["containerTypeUuid"]}).refine((function(e){var t=e.volume,n=e.volumeUnitUuid;return Boolean(t)||Boolean(!n)}),{message:"Required",path:["volume"]}).refine((function(e){var t=e.volume,n=e.volumeUnitUuid;return Boolean(n)||Boolean(!t)}),{message:"Required",path:["volumeUnitUuid"]}).refine((function(e){var t=e.referredOut,n=e.referralToFacilityUuid;return Boolean(n)||Boolean(!t)}),{message:"Required",path:["referralToFacilityUuid"]}).refine((function(e){var t=e.referredOut,n=e.providedRef,r=e.confirmProvidedRef;return Boolean(!t)||Boolean(!r)||Boolean(n)}),{message:"Required",path:["providedRef"]}).refine((function(e){var t=e.referredOut,n=e.providedRef,r=e.confirmProvidedRef;return Boolean(!t)||Boolean(!n)||Boolean(r)}),{message:"Required",path:["confirmProvidedRef"]}).refine((function(e){var t=e.referredOut,n=e.providedRef,r=e.confirmProvidedRef;return Boolean(!t)||Boolean(!n)&&Boolean(!r)||(null==n?void 0:n.length)>0&&(null==r?void 0:r.length)>0&&n==r}),{message:"Additional reference must be similar",path:["confirmProvidedRef"]}).refine((function(e){var t=e.archiveSample,n=e.storageUuid;return!Boolean(t)||Boolean(n&&n.trim().length>0)}),{message:"Required",path:["storageUuid"]}).refine((function(e){var t=e.archiveSample,n=e.storageUnitUuid;return!Boolean(t)||Boolean(n&&n.trim().length>0)}),{message:"Required",path:["storageUnitUuid"]}),Sb=n(7612),kb={};kb.styleTagTransform=Ue(),kb.setAttributes=qe(),kb.insert=Be().bind(null,"head"),kb.domAPI=De(),kb.insertStyleElement=Fe(),xe()(Sb.c,kb);const Tb=Sb.c&&Sb.c.locals?Sb.c.locals:void 0;function Ob(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nb(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function xb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ib(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||Rb(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Db(e){return function(e){if(Array.isArray(e))return Ob(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Rb(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rb(e,t){if(e){if("string"==typeof e)return Ob(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ob(e,t):void 0}}function Bb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pb(e){return function(e){if(Array.isArray(e))return Bb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qb(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qb(e,t){if(e){if("string"==typeof e)return Bb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bb(e,t):void 0}}const jb=function(e){var t,n,r=(t=(0,o.useState)(""),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||qb(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],i=r[1],s=function(e){var t=Co((0,o.useState)(!0),2),n=t[0],r=t[1],a=Co((0,o.useState)((function(){return e})),2),l=a[0],i=a[1],s=(0,wt.c)("".concat(te),(function(){return St("".concat(te).concat(Ct(l)))})),c=s.data,u=s.error,d=s.trigger,m=s.isMutating,A=(0,o.useCallback)((function(e){i((function(t){return ho({},null!=t?t:{},null!=e?e:{})})),r(!1)}),[]);return(0,o.useEffect)((function(){n||d()}),[l,n,d]),{getSamples:A,items:(null==c?void 0:c.data)||{},isLoading:!1,isError:u,isValidating:!n&&m}}({limit:10,patient:e.patientUuid,referralLocation:e.referralLocationUuid}),c=s.items.results,u=(s.isValidating,s.getSamples),d=(0,o.useCallback)((function(t){(e.referralLocationUuid||e.patientUuid)&&u({q:t,startIndex:0,limit:10,referralLocation:e.referralLocationUuid,patient:e.patientUuid,sampleStatus:e.sampleStatus})}),[u,e.patientUuid,e.referralLocationUuid,e.sampleStatus]);(0,o.useEffect)((function(){d(null)}),[]);var m=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){d(e)}),300)}),[d]);return l().createElement(Wo.Mc,{name:e.controllerName,control:e.control,render:function(t){var n,r,o=t.field.onChange;return l().createElement(ke.Q1m,{key:null!==(n=e.referralLocationUuid)&&void 0!==n?n:"Samples",style:e.style,titleText:e.title,direction:e.direction,hideLabel:e.hideLabel,name:e.name,size:"md",items:e.selectedId?Pb((null==c?void 0:c.some((function(t){return t.uuid===e.selectedId})))?[]:[{uuid:e.selectedId,display:e.selectedText}]).concat(Pb(null!=c?c:[])):c||[],onChange:function(t){var n,r;o(null==t||null===(n=t.selectedItem)||void 0===n?void 0:n.uuid),null===(r=e.onChange)||void 0===r||r.call(e,null==t?void 0:t.selectedItem)},initialSelectedItem:e.selectedId?null!==(r=null==c?void 0:c.find((function(t){return t.uuid===e.selectedId})))&&void 0!==r?r:{uuid:e.selectedId,display:e.selectedText}:null,itemToString:function(e){var t,n;return"".concat(null!==(t=null==e?void 0:e.accessionNumber)&&void 0!==t?t:""," - ").concat(null==e?void 0:e.sampleTypeName).concat((null==e?void 0:e.providedRef)||(null==e?void 0:e.externalRef)?" (External ID: ".concat(null!==(n=null==e?void 0:e.providedRef)&&void 0!==n?n:null==e?void 0:e.externalRef,")"):"")},shouldFilterItem:function(){return!0},placeholder:e.placeholder,onInputChange:function(e){return i(t=e),void m(t);var t},inputValue:a,invalid:e.invalid,invalidText:e.invalidText})}})};var Fb=Gl.z.object({sampleUuid:Gl.z.string().nullish(),tests:Gl.z.array(Gl.z.string()).nonempty("Required")});function Lb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ub(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function zb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||Gb(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mb(e){return function(e){if(Array.isArray(e))return Lb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Gb(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gb(e,t){if(e){if("string"==typeof e)return Lb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lb(e,t):void 0}}var Hb=n(4580),Jb={};Jb.styleTagTransform=Ue(),Jb.setAttributes=qe(),Jb.insert=Be().bind(null,"head"),Jb.domAPI=De(),Jb.insertStyleElement=Fe(),xe()(Hb.c,Jb);const Wb=Hb.c&&Hb.c.locals?Hb.c.locals:void 0;function Vb(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function Yb(e){return Qb.apply(this,arguments)}function Qb(){var e;return e=function(e){var t;return function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,(function(n){return t=new AbortController,[2,St(ye,{method:"POST",signal:t.signal,body:e})]}))},Qb=function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){Vb(o,r,a,l,i,"next",e)}function i(e){Vb(o,r,a,l,i,"throw",e)}l(void 0)}))},Qb.apply(this,arguments)}var Kb=Gl.z.object({id:Gl.z.string().optional().nullable().nullish(),display:Gl.z.string(),conceptUuid:Gl.z.string().optional().nullable().nullish(),isNumeric:Gl.z.boolean().nullable().optional(),isTextOrNumeric:Gl.z.boolean().nullable().optional(),isCoded:Gl.z.boolean().nullable().optional(),isPanel:Gl.z.boolean().nullable().optional(),value:Gl.z.string().optional(),allowDecimals:Gl.z.boolean().nullable().optional(),minValue:Gl.z.coerce.number().nullable().optional().nullish(),maxValue:Gl.z.coerce.number().nullable().optional().nullish(),scale:Gl.z.coerce.string().nullable().optional().nullish()}).partial(),Zb=Kb.extend({setMembers:Gl.z.array(Kb.extend({answers:Gl.z.array(Kb.refine((function(e){var t=e.isTextOrNumeric,n=e.isCoded,r=e.value;if(r==Zl)return!0;if(!t&&!n)return!0;if(!r)return!1;if("string"==typeof r){if(0==r.length)return!1;r=r.replace(" ","")}return(null==r?void 0:r.length)>0}),{message:"Required",path:["value"]}).refine((function(e){var t=e.isTextOrNumeric,n=e.isCoded,r=e.value;if(r==Zl)return!0;if(!t&&!n)return!0;if(!r)return!1;if("string"==typeof r){if(0==r.length)return!1;r=r.replace(" ","")}if(!(r.startsWith(">")||r.startsWith("<")||r.indexOf("><")>=0))return!0;if(r.length<2)return!1;if(r.startsWith(">")||r.startsWith("<"))return!!ga(r.substring(1));var a=r.indexOf("><");if(0==a||a==r.length-1)return!1;var o=r.split("><",2);return 2==o.length&&!(!ga(o[0])||!ga(o[1]))&&Number(o[0])<Number(o[1])}),{message:"Expression not valid like >1000, <1000 and 1000><2000",path:["value"]})).optional().superRefine((function(e,t){if(e&&e.length>0)for(var n=0;n<e.length;n++)e[n].value||t.addIssue({code:"custom",path:[n,"value"],message:"Required"})}))}).refine((function(e){var t=e.isTextOrNumeric,n=e.isCoded,r=e.value;if(r==Zl)return!0;if(!t&&!n)return!0;if(!r)return!1;if("string"==typeof r){if(0==r.length)return!1;r=r.replace(" ","")}return(null==r?void 0:r.length)>0}),{message:"Required",path:["value"]}).refine((function(e){var t=e.isNumeric,n=e.scale;if(e.value==Zl)return!0;if(!t)return!0;if(!n)return!1;if("string"==typeof n){if(0==n.length)return!1;n=n.replace(" ","X")}return!Number.isNaN(Number(n))}),{message:"Number required",path:["scale"]})).optional().superRefine((function(e,t){if(e&&e.length>0)for(var n=0;n<e.length;n++)e[n].value||t.addIssue({code:"custom",path:[n,"value"],message:"Required"})})),answers:Gl.z.array(Kb.refine((function(e){var t=e.isTextOrNumeric,n=e.isCoded,r=e.value;if(!t&&!n)return!0;if(!r)return!1;if("string"==typeof r){if(0==r.length)return!1;r=r.replace(" ","")}return(null==r?void 0:r.length)>0}),{message:"Required",path:["value"]}).refine((function(e){var t=e.isTextOrNumeric,n=e.isCoded,r=e.value;if(!t&&!n)return!0;if(!r)return!1;if("string"==typeof r){if(0==r.length)return!1;r=r.replace(" ","")}if(!(r.startsWith(">")||r.startsWith("<")||r.indexOf("><")>=0))return!0;if(r.length<2)return!1;if(r.startsWith(">")||r.startsWith("<"))return!!ga(r.substring(1));var a=r.indexOf("><");if(0==a||a==r.length-1)return!1;var o=r.split("><",2);return 2==o.length&&!(!ga(o[0])||!ga(o[1]))&&Number(o[0])<Number(o[1])}),{message:"Expression not valid like >1000, <1000 and 1000><2000",path:["value"]})).optional().superRefine((function(e,t){if(e&&e.length>0)for(var n=0;n<e.length;n++)e[n].value||t.addIssue({code:"custom",path:[n,"value"],message:"Required"})}))}).refine((function(e){var t=e.isCoded,n=e.isTextOrNumeric,r=e.value;if(r==Zl)return!0;if(!n&&!t)return!0;if(!r)return!1;if("string"==typeof r){if(0==r.length)return!1;r=r.replace(" ","")}return(null==r?void 0:r.length)>0}),{message:"Required",path:["value"]}).refine((function(e){var t=e.isNumeric,n=e.scale;if(e.value==Zl)return!0;if(!t)return!0;if(!n)return!1;if("string"==typeof n){if(0==n.length)return!1;n=n.replace(" ","X")}return!Number.isNaN(Number(n))}),{message:"Number required",path:["scale"]}),Xb=Gl.z.object({fields:Gl.z.array(Zb).nonempty(),sampleId:Gl.z.string()});const $b=function(e){e.concept;var t=e.control,n=e.errors,r=(e.isPanel,e.isCoded,e.isTextOrNumeric,e.controllerName),a=e.hideLabel,o=e.rowIndex,i=(e.testResultImportConfigMapping,e.setMembersIndex),s=(0,He.useTranslation)().t,c=(0,Wo.QL)({control:t,name:r}).fields;return l().createElement("div",{className:Ho.codedImportConfigValues},c.map((function(e,c){var u=e;return l().createElement(Wo.Mc,{key:u.concept.uuid,name:"".concat(r,".").concat(c,".value"),control:t,render:function(e){var t,r,d,m,A,p,_,v,f,b,g,y,h,C,w=e.field,E=w.value,S=w.onChange;return l().createElement(l().Fragment,null,l().createElement(ke.gf6,{className:Ho.textInput,value:E,type:"text",onChange:function(e){S(e.target.value)},hideLabel:a,placeholder:s("laboratoryTestImportCodedValue","Machine Output"),labelText:"Value: ".concat(null==u||null===(t=u.concept)||void 0===t?void 0:t.display),invalid:null==n||null===(_=n.fields)||void 0===_||null===(p=_[o])||void 0===p||null===(A=p.setMembers)||void 0===A||null===(m=A[i])||void 0===m||null===(d=m.answers)||void 0===d||null===(r=d[c])||void 0===r?void 0:r.value,invalidText:null==n||null===(C=n.fields)||void 0===C||null===(h=C[o])||void 0===h||null===(y=h.setMembers)||void 0===y||null===(g=y[i])||void 0===g||null===(b=g.answers)||void 0===b||null===(f=b[c])||void 0===f||null===(v=f.value)||void 0===v?void 0:v.message}))}})})))};function eg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const tg=function(e){e.concept;var t=e.control,n=e.errors,r=(e.isPanel,e.isCoded,e.isTextOrNumeric,e.controllerName),a=e.hideLabel,o=e.rowIndex,i=e.testResultImportConfigMapping,s=e.register,c=e.setValue,u=(0,He.useTranslation)().t,d=(0,Wo.QL)({control:t,name:r}).fields;return(0,Wo.K_)({name:r,control:t}),l().createElement("div",{className:"".concat(Ho.codedImportConfigValuesSection)},d.map((function(e,d){var m,A,p,_=e;return l().createElement("div",{className:"".concat("Numeric"===(null==_||null===(A=_.concept)||void 0===A||null===(m=A.datatype)||void 0===m?void 0:m.display)||_.isCoded?Ho.codedImportConfigValues:"","  ").concat(Ho.testImportFieldSection," ")},(_.isTextOrNumeric||_.isCoded)&&l().createElement(l().Fragment,{key:e.id},l().createElement(Wo.Mc,{control:t,name:"".concat(r,".").concat(d,".value"),render:function(e){var t,s,m,A,p,v,f,b,g,y,h,C,w,E=e.field,S=E.value,k=E.onChange,T=null==i||null===(s=i.headers)||void 0===s||null===(t=s.find((function(e){return e.name==S})))||void 0===t?void 0:t.value;return l().createElement(l().Fragment,null,l().createElement(ke.M1e,{key:_.concept.uuid,value:S,className:"".concat(Ho.textInput," ").concat(Ho.mainTestField),type:"text",hideLabel:a,labelText:null===(m=_.concept)||void 0===m?void 0:m.display,helperText:T?"e.g. ".concat(T):"",onChange:function(e){var t;k(e.target.value),e.target.value&&e.target.value==Zl&&_.isCoded&&(null==_||null===(t=_.answers)||void 0===t||t.forEach((function(e,t){c("".concat(r,".").concat(d,".answers.").concat(t,".value"),Zl)})))},invalid:null==n||null===(f=n.fields)||void 0===f||null===(v=f[o])||void 0===v||null===(p=v.setMembers)||void 0===p||null===(A=p[d])||void 0===A?void 0:A.value,invalidText:null==n||null===(C=n.fields)||void 0===C||null===(h=C[o])||void 0===h||null===(y=h.setMembers)||void 0===y||null===(g=y[d])||void 0===g||null===(b=g.value)||void 0===b?void 0:b.message},l().createElement(ke.gV5,{text:u("laboratoryTestResultsImportOption","Choose a field"),value:""}),l().createElement(ke.gV5,{text:u("laboratoryTestResultsImportDoNotFillOption","DO NOT FILL"),value:Zl}),null==i||null===(w=i.headers)||void 0===w?void 0:w.map((function(e){return l().createElement(ke.gV5,{key:e.name,text:e.name,value:e.name},e.name)}))))}}),"Numeric"===(null==_||null===(p=_.concept)||void 0===p?void 0:p.datatype.display)&&l().createElement(Wo.Mc,{key:_.id,name:"".concat(r,".").concat(d,".scale"),control:t,render:function(e){var t,r,i,s,c,m,A,p,_,v,f,b=e.field;return l().createElement(ke.gf6,(v=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){eg(e,t,n[t])}))}return e}({className:Ho.textInput},b),f=null!=(f={type:"text",onChange:function(e){b.onChange(e.target.value)},hideLabel:a,placeholder:u("laboratoryTestImportScale","Scale"),helperText:u("laboratoryTestImportScaleDesc","The scale is used to convert the units to those supported by system"),labelText:u("laboratoryTestImportScaleLbl","Scale e.g. 1, 0.5"),invalid:null==n||null===(s=n.fields)||void 0===s||null===(i=s[o])||void 0===i||null===(r=i.setMembers)||void 0===r||null===(t=r[d])||void 0===t?void 0:t.scale,invalidText:null==n||null===(_=n.fields)||void 0===_||null===(p=_[o])||void 0===p||null===(A=p.setMembers)||void 0===A||null===(m=A[d])||void 0===m||null===(c=m.scale)||void 0===c?void 0:c.message})?f:{},Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(f)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(f)).forEach((function(e){Object.defineProperty(v,e,Object.getOwnPropertyDescriptor(f,e))})),v))}})),_.isCoded&&l().createElement("div",{className:Ho.codedImportConfigValuesSection},l().createElement($b,{concept:null==_?void 0:_.concept,control:t,errors:n,isPanel:_.isPanel,isCoded:_.isCoded,isTextOrNumeric:_.isTextOrNumeric,controllerName:"".concat(r,".").concat(d,".answers"),register:s,hideLabel:a,rowIndex:o,setMembersIndex:d,testResultImportConfigMapping:i})))})))};function ng(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const rg=function(e){var t=e.concept,n=e.control,r=e.errors,a=e.isPanel,o=e.isCoded,i=e.isTextOrNumeric,s=e.controllerName,c=e.register,u=e.hideLabel,d=e.rowIndex,m=e.testResultImportConfigMapping,A=e.setValue,p=(0,He.useTranslation)().t,_=(0,Wo.QL)({control:n,name:"".concat(s,".answers")}).fields;return(0,Wo.K_)({name:s,control:n}),l().createElement(l().Fragment,null,(i||o)&&l().createElement("div",{key:t.uuid,className:"Numeric"===t.datatype.display||o?Ho.codedImportConfigValues:""},l().createElement(Wo.Mc,{name:"".concat(s,".value"),control:n,render:function(e){var n,a,i,c,v,f,b,g,y,h=e.field,C=h.value,w=h.onChange,E=null==m||null===(a=m.headers)||void 0===a||null===(n=a.find((function(e){return e.name==C})))||void 0===n?void 0:n.value;return l().createElement(ke.M1e,{value:C,className:Ho.textInput,type:"text",hideLabel:u,labelText:(null==t?void 0:t.display)+("Numeric"===t.datatype.display&&null!==(y=ya(t))&&void 0!==y?y:""),helperText:E?"e.g. ".concat(E):"",onChange:function(e){w(e.target.value),e.target.value&&e.target.value==Zl&&o&&(null==_||_.forEach((function(e,t){A("".concat(s,".answers.").concat(t,".value"),Zl)})))},invalid:null==r||null===(c=r.fields)||void 0===c||null===(i=c[d])||void 0===i?void 0:i.value,invalidText:null==r||null===(b=r.fields)||void 0===b||null===(f=b[d])||void 0===f||null===(v=f.value)||void 0===v?void 0:v.message},l().createElement(ke.gV5,{text:p("laboratoryTestResultsImportOption","Choose field"),value:""}),l().createElement(ke.gV5,{text:p("laboratoryTestResultsImportDoNotFillOption","DO NOT FILL"),value:Zl}),null==m||null===(g=m.headers)||void 0===g?void 0:g.map((function(e){return l().createElement(ke.gV5,{key:e.name,text:e.name,value:e.name},e.name)})))}}),"Numeric"===t.datatype.display&&l().createElement(Wo.Mc,{key:t.uuid,name:"".concat(s,".scale"),control:n,render:function(e){var t,n,a,o,i,s,c,m=e.field;return l().createElement(ke.gf6,(s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ng(e,t,n[t])}))}return e}({className:Ho.textInput},m),c=null!=(c={type:"text",onChange:function(e){m.onChange(e.target.value)},hideLabel:u,placeholder:p("laboratoryTestImportScale","Scale"),helperText:p("laboratoryTestImportScaleDesc","The scale is used to convert the units to those supported by system"),labelText:p("laboratoryTestImportScaleLbl","Scale e.g. 1, 0.5"),invalid:null==r||null===(n=r.fields)||void 0===n||null===(t=n[d])||void 0===t?void 0:t.scale,invalidText:null==r||null===(i=r.fields)||void 0===i||null===(o=i[d])||void 0===o||null===(a=o.scale)||void 0===a?void 0:a.message})?c:{},Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(c)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(c)).forEach((function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(c,e))})),s))}})),o&&l().createElement("div",null,l().createElement("div",{className:Ho.codedImportConfigValues},null==_?void 0:_.map((function(e,t){var a=e;return l().createElement(Wo.Mc,{key:a.concept.uuid,name:"".concat(s,".answers.").concat(t,".value"),control:n,render:function(e){var n,o,i,s,c,m,A,_,v,f,b=e.field,g=b.value,y=b.onChange;return l().createElement(l().Fragment,null,l().createElement(ke.gf6,{className:"".concat(Ho.textInput," ").concat(Ho.mainTestField),value:g,type:"text",onChange:function(e){y(e.target.value)},hideLabel:u,placeholder:p("laboratoryTestImportCodedValue","Machine Output"),labelText:"Value: ".concat(null==a||null===(n=a.concept)||void 0===n?void 0:n.display),invalid:null==r||null===(c=r.fields)||void 0===c||null===(s=c[d])||void 0===s||null===(i=s.answers)||void 0===i||null===(o=i[t])||void 0===o?void 0:o.value,invalidText:null==r||null===(f=r.fields)||void 0===f||null===(v=f[d])||void 0===v||null===(_=v.answers)||void 0===_||null===(A=_[t])||void 0===A||null===(m=A.value)||void 0===m?void 0:m.message}))}})})))),a&&l().createElement(tg,{concept:t,control:n,errors:r,isPanel:a,isCoded:o,isTextOrNumeric:i,controllerName:"".concat(s,".setMembers"),register:c,hideLabel:u,rowIndex:d,setValue:A,testResultImportConfigMapping:m}))};function ag(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function og(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function lg(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){og(o,r,a,l,i,"next",e)}function i(e){og(o,r,a,l,i,"throw",e)}l(void 0)}))}}function ig(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}const sg=function(e){var t,n,a,i,s=e.testResultImportConfig,c=e.closeModal,u=e.csvFields,d=e.loadTestResults,m=(0,He.useTranslation)().t,A=(a=(0,o.useState)(!1),i=2,function(e){if(Array.isArray(e))return e}(a)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(a,i)||function(e,t){if(e){if("string"==typeof e)return ag(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ag(e,t):void 0}}(a,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=A[0],_=A[1],v=(0,Wo.aS)({defaultValues:{sampleId:null==u?void 0:u.sampleId,fields:[s].map((function(e){var t,n,r,a,o,l=(null==u||null===(t=u.mapping)||void 0===t?void 0:t.concept)==e.test.uuid?u.mapping:null,i={id:e.uuid,concept:e.test,isCoded:_a(e.test),isPanel:va(e.test),isTextOrNumeric:fa(e.test),conceptUuid:e.test.uuid,isNumeric:ba(e.test),minValue:null,maxValue:null,allowDecimals:!0,display:e.test.display,orderUuid:""};if(i.isNumeric&&(i.minValue=null===(n=e.test)||void 0===n?void 0:n.lowAbsolute,i.maxValue=null===(r=e.test)||void 0===r?void 0:r.hiAbsolute,i.allowDecimals=null===(o=null===(a=e.test)||void 0===a?void 0:a.allowDecimal)||void 0===o||o),i.isTextOrNumeric||i.isCoded){var s,c=l;i.value=null!==(s=null==c?void 0:c.value)&&void 0!==s?s:"",i.isNumeric&&(i.scale=(null==c?void 0:c.scale)?(null==c?void 0:c.scale)+"":"")}return i.isCoded&&(i.answers=e.test.answers.map((function(t,n){var r,a,o={id:"".concat(e.uuid,"-a-").concat(n),concept:t,isCoded:!1,isPanel:!1,isTextOrNumeric:!0,orderUuid:"",conceptUuid:t.uuid,display:t.display,isNumeric:!1,minValue:null,maxValue:null,allowDecimals:!1},i=null==l||null===(r=l.answers)||void 0===r?void 0:r.find((function(e){return e.concept==t.uuid}));return o.value=null!==(a=null==i?void 0:i.value)&&void 0!==a?a:"",o}))),i.isPanel&&(i.setMembers=e.test.setMembers.map((function(t,n){var r,a,o,i=null==l||null===(r=l.setMembers)||void 0===r?void 0:r.find((function(e){return e.concept==t.uuid})),s={id:"".concat(e.uuid,"-").concat(n),worksheetItem:e,worksheetItemUuid:e.uuid,concept:t,isCoded:_a(t),isPanel:va(t),isTextOrNumeric:fa(t),orderUuid:"",conceptUuid:t.uuid,display:t.display,isNumeric:ba(t),minValue:null,maxValue:null,allowDecimals:!0};return s.isNumeric&&(s.minValue=null==t?void 0:t.lowAbsolute,s.maxValue=null==t?void 0:t.hiAbsolute,s.allowDecimals=null===(a=null==t?void 0:t.allowDecimal)||void 0===a||a),(s.isTextOrNumeric||s.isCoded)&&(s.value=null!==(o=null==i?void 0:i.value)&&void 0!==o?o:"",s.isNumeric&&(s.scale=(null==i?void 0:i.scale)?(null==i?void 0:i.scale)+"":"")),s.isCoded&&(s.answers=null==t?void 0:t.answers.map((function(t,n){var r,a,o={id:"".concat(e.uuid,"-a-").concat(n),concept:t,isCoded:!1,isPanel:!1,isTextOrNumeric:!0,orderUuid:"",conceptUuid:t.uuid,display:t.display,isNumeric:!1,minValue:null,maxValue:null,allowDecimals:!1},l=null==i||null===(r=i.answers)||void 0===r?void 0:r.find((function(e){return e.concept==t.uuid}));return o.value=null!==(a=null==l?void 0:l.value)&&void 0!==a?a:"",o}))),s}))),i}))},mode:"all",resolver:(0,Ml.C)(Xb)}),f=v.control,b=v.register,g=v.formState,y=(g.isSubmitting,g.errors),h=(v.getValues,v.handleSubmit),C=(v.setFocus,v.setValue),w=(0,Wo.QL)({control:f,name:"fields"}).fields,E=function(){var e=lg((function(e){return ig(this,(function(e){return(0,r.showSnackbar)({isLowContrast:!0,title:m("laboratoryTestResultImportError","Error Loading Test Results"),kind:"error",subtitle:"Check and complete the required fields",autoClose:!0}),[2]}))}));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=lg((function(e){var t,n,a,o,l;return ig(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),n=null===(t=e.fields)||void 0===t?void 0:t.map((function(e){var t,n={concept:e.conceptUuid,scale:e.scale?Number(e.scale):null,value:e.value,display:e.display};if(e.isCoded&&(n.answers=null===(t=e.answers)||void 0===t?void 0:t.map((function(e){return{concept:e.conceptUuid,value:e.value,display:e.display}})).sort((function(e,t){var n;return null===(n=e.concept)||void 0===n?void 0:n.localeCompare(t.concept,void 0,{ignorePunctuation:!0})}))),e.isPanel&&e.setMembers){var r=e.setMembers.map((function(e){var t,n={concept:e.conceptUuid,display:e.display,scale:e.scale?Number(e.scale):null,value:e.value};return e.isCoded&&(n.answers=null===(t=e.answers)||void 0===t?void 0:t.map((function(e){return{concept:e.conceptUuid,value:e.value,display:e.display}})).sort((function(e,t){var n;return null===(n=e.concept)||void 0===n?void 0:n.localeCompare(t.concept,void 0,{ignorePunctuation:!0})}))),n}));r.length>0&&(n.setMembers=r.sort((function(e,t){var n;return null===(n=e.concept)||void 0===n?void 0:n.localeCompare(t.concept,void 0,{ignorePunctuation:!0})})))}return n})),a={test:{uuid:s.test.uuid},fieldMapping:{mapping:n[0],headers:u.headers,separatory:u.separator,quote:u.quote,sampleId:e.sampleId,session:s.uuid,concept:s.test.uuid}},_(!0),[4,(A=a,St(ge,{method:"POST",headers:{"Content-Type":"application/json"},signal:(new AbortController).signal,body:A}))];case 1:return i.sent(),(o=d(a.fieldMapping.mapping,a.fieldMapping.headers,a.fieldMapping.sampleId,u.rows))&&o.length>0?(0,r.showNotification)({title:m("laboratoryUploadTestResultConfigMappingError","Error filling test results"),kind:"error",critical:!0,description:o}):c(),[3,4];case 2:return l=i.sent(),(0,r.showNotification)({title:m("laboratoryUploadTestResultConfigMappingError","Error filling test results"),kind:"error",critical:!0,description:Yr(l)}),[3,4];case 3:return _(!1),[7];case 4:return[2]}var A}))}));return function(t){return e.apply(this,arguments)}}();return l().createElement("div",{className:"fullScreenModalTestImportConfig ".concat(Wb.modalWrapper)},l().createElement("section",null,l().createElement(ke.kPY,{closeModal:c,title:"".concat(m("laboratoryTestResultsImportMapping","Map Test Results Fields"),": ").concat(null!==(n=null==s||null===(t=s.test)||void 0===t?void 0:t.display)&&void 0!==n?n:"")}),l().createElement(ke.aUI,{className:"".concat(Wb.modalBody," ").concat(Wb.importConfigForm)},l().createElement("section",{className:Wb.section},l().createElement("div",{style:{paddingBottom:"1rem",width:"20rem"}},l().createElement(Wo.Mc,{name:"sampleId",control:f,render:function(e){var t,n,r,a,o=e.field,i=o.value,s=o.onChange,c=null==u||null===(n=u.headers)||void 0===n||null===(t=n.find((function(e){return e.name==i})))||void 0===t?void 0:t.value;return l().createElement(ke.M1e,{value:i,className:Wb.textInput,type:"text",hideLabel:!1,labelText:m("laboratoryTestResultsImportSampleId","Sample ID"),helperText:c?"e.g. ".concat(c):"",onChange:function(e){s(e.target.value)},invalid:null==y?void 0:y.sampleId,invalidText:null==y||null===(r=y.sampleId)||void 0===r?void 0:r.message},l().createElement(ke.gV5,{text:m("laboratoryTestResultsImportOption","Choose field"),value:""}),null==u||null===(a=u.headers)||void 0===a?void 0:a.map((function(e){return l().createElement(ke.gV5,{key:e.name,text:e.name,value:e.name},e.name)})))}})),w.map((function(e,t){var n=e;return l().createElement(rg,{rowIndex:t,concept:n.concept,control:f,errors:y,isCoded:n.isCoded,isPanel:n.isPanel,isTextOrNumeric:n.isTextOrNumeric,register:b,controllerName:"fields.".concat(t),key:n.id,hideLabel:!1,testResultImportConfigMapping:u,setValue:C})})))),l().createElement(ke._AC,null,l().createElement(ke.qaq,{disabled:p,kind:"secondary",onClick:c},m("cancel","Cancel")),l().createElement(ke.qaq,{disabled:p,type:"submit",onClick:h(S,E)},p?l().createElement(ke.kp8,null):m("continueToFillResults","Fill Results In Fields")))))};function cg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ug(e,t,n,r,a,o,l){try{var i=e[o](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function dg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cg(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var mg;!function(e){e[e.SELECT_TEST=0]="SELECT_TEST",e[e.CONFIGURE_FIELDS=1]="CONFIGURE_FIELDS",e[e.SAVE=2]="SAVE"}(mg||(mg={}));var Ag,pg="@ugandaemr/esm-laboratory-app",_g={featureName:"ugandaemr-esm-laboratory",moduleName:pg},vg=n(6404),fg=(0,r.getSyncLifecycle)((function(){return l().createElement(pf,null)}),_g),bg=(0,r.getSyncLifecycle)((Ag={name:"laboratory",slot:"laboratory-dashboard-slot",title:"Laboratory"},function(){return l().createElement(i.BrowserRouter,null,l().createElement(Se,{dashboardLinkConfig:Ag}))}),_g),gg=(0,r.getSyncLifecycle)(ad,_g),yg=(0,r.getSyncLifecycle)((0,xf.cf)({path:"laboratory-orders",title:"Investigative Results",moduleName:pg}),_g),hg=(0,r.getSyncLifecycle)((function(e){var t=e.patientUuid;return l().createElement(ab,{patientUuid:t})}),_g),Cg=(0,r.getSyncLifecycle)((function(e){var t,n,a=e.patientUuid,i=e.closeModal,s=(0,He.useTranslation)().t,c=(t=(0,o.useState)(),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ob(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ob(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=(c[0],c[1]),d=(0,r.usePatient)(a),m=d.patient,A=d.isLoading,p=function(){var e,t=(e=function(){return function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,(function(e){return[2]}))},function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){lb(o,r,a,l,i,"next",e)}function i(e){lb(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(){return t.apply(this,arguments)}}();return l().createElement(l().Fragment,null,l().createElement(ke.QFz,{onSubmit:p},l().createElement(ke.kPY,{closeModal:i,title:s("sendResults","Send Results")}),l().createElement(ke.aUI,null,A&&l().createElement(ke.kp8,{className:Ef.bannerLoading,iconDescription:"Loading",description:"Loading banner",status:"active"}),(null==m?void 0:m.address)?l().createElement("div",null,l().createElement(ke.gf6,{id:"text-input-email",invalidText:"Error message goes here",labelText:"Email",onChange:function(e){return u(e.target.value)},size:"md",type:"email"})):"Patient doesn't have an email address"),l().createElement(ke._AC,null,l().createElement(ke.qaq,{kind:"secondary",onClick:i},s("cancel","Cancel")),l().createElement(ke.qaq,{type:"submit"},s("sendEmail","Send Email")))))}),_g),wg=(0,r.getSyncLifecycle)((function(e){var t=e.order,n=(0,He.useTranslation)().t,a=(0,o.useCallback)((function(){var e=(0,r.showModal)("add-to-worklist-dialog",{closeModal:function(){return e()},order:t})}),[t]);return l().createElement(ke.YT$,{itemText:n("pickLabRequest","Pick Lab Request"),onClick:a,style:{maxWidth:"100vw"}})}),_g),Eg=(0,r.getSyncLifecycle)((function(e){var t,n,r=e.dashboardMetrics,a=(0,He.useTranslation)().t;return l().createElement(ub,{label:a("inProgress","In progress"),value:null!==(t=null==r?void 0:r.testsInProgress)&&void 0!==t?t:0,headerLabel:a("worklist","Worklist"),additionalKpis:[{value:null!==(n=null==r?void 0:r.testResultsRejected)&&void 0!==n?n:0,label:a("rejectedResult","Rejected Result")}]})}),_g),Sg=(0,r.getSyncLifecycle)((function(e){var t,n,r,a=e.dashboardMetrics,o=(0,He.useTranslation)().t;return l().createElement(ub,{label:o("provider","Provider"),value:null!==(t=null==a?void 0:a.testsReferredOutProvider)&&void 0!==t?t:0,headerLabel:o("referredTests","Referred tests"),additionalKpis:[{label:o("laboratory","Laboratory"),value:null!==(n=null==a?void 0:a.testsReferredOutLab)&&void 0!==n?n:0},{label:o("resulted","Resulted"),value:null!==(r=null==a?void 0:a.testsReferredOutLabResulted)&&void 0!==r?r:0}]})}),_g),kg=(0,r.getSyncLifecycle)((function(e){var t,n,r=e.dashboardMetrics,a=(0,He.useTranslation)().t;return l().createElement(ub,{label:a("pending","Pending"),value:null!==(t=null==r?void 0:r.testsPendingApproval)&&void 0!==t?t:0,headerLabel:a("approvals","Approvals"),additionalKpis:[{label:a("completed","Completed"),value:null!==(n=null==r?void 0:r.testsCompleted)&&void 0!==n?n:0}]})}),_g),Tg=(0,r.getSyncLifecycle)((function(e){var t,n,r=e.dashboardMetrics,a=(0,He.useTranslation)().t;return l().createElement(ub,{label:a("acceptTests","Accept Tests"),value:null!==(t=null==r?void 0:r.testsToAccept)&&void 0!==t?t:0,headerLabel:a("testsOrdered","Tests ordered"),additionalKpis:[{value:null!==(n=null==r?void 0:r.testsForSampleCollection)&&void 0!==n?n:0,label:a("collection","Collection")}]})}),_g),Og=(0,r.getSyncLifecycle)((function(e){var t,n=e.dashboardMetrics,r=(0,He.useTranslation)().t;return l().createElement(ub,{label:r("tests","Tests"),value:null!==(t=null==n?void 0:n.testsRejected)&&void 0!==t?t:0,headerLabel:r("testsRejected","Rejected")})}),_g),Ng=(0,r.getSyncLifecycle)((function(e){var t=e.availableTests,n=e.initialSelection,r=e.onSelectionComplete,a=e.closeModal,i=(0,He.useTranslation)().t,s=vb((0,o.useState)(""),2),c=s[0],u=s[1],d=vb((0,o.useState)((function(){var e,t={};return null!==(e=null==n?void 0:n.reduce((function(e,t){return e[t.uuid]=t,e}),t))&&void 0!==e?e:t})),2),m=d[0],A=d[1],p=(0,o.useMemo)((function(){var e=Object.values(t.reduce((function(e,t){var n,r;return e[t.testGroupUuid]?e[t.testGroupUuid].tests=(r=e[t.testGroupUuid].tests,function(e){if(Array.isArray(e))return pb(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||fb(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([t]):e[t.testGroupUuid]=null!==(n=e[t.testGroupUuid])&&void 0!==n?n:{group:t.testGroupName,tests:[t]},e}),{}));if(c){var n=c.toLowerCase();e=e.map((function(e){return e.group.toLowerCase().indexOf(n)>-1?e:(e.tests=e.tests.filter((function(e){var t,r,a,o;return(null===(r=e.testName)||void 0===r||null===(t=r.toLowerCase())||void 0===t?void 0:t.indexOf(n))>-1||(null===(o=e.testShortName)||void 0===o||null===(a=o.toLowerCase())||void 0===a?void 0:a.indexOf(n))>-1})),0==e.tests.length?null:e)})).filter((function(e){return null!=e}))}return e.sort((function(e,t){return t.tests.length-e.tests.length})),e}),[c]),_=(0,o.useMemo)((function(){return(0,Gt.c)((function(e){u(e.target.value)}),300)}),[]);return l().createElement("div",{className:"fullScreenModal ".concat(Ab.modalWrapper)},l().createElement(ke.kPY,{closeModal:a,title:i("laboratoryTestSelection","Laboratory Test Selection")},l().createElement(ke.c9z,{autofocus:!0,labelText:"",placeholder:i("laboratoryFilterTests","Filter tests"),onChange:_,size:"sm"})),l().createElement(ke.aUI,{className:Ab.modalBody},l().createElement("section",{className:Ab.section},p.map((function(e){return l().createElement(ke.g$J,{className:Ab.testGroup,key:e.tests[0].testGroupUuid},l().createElement("h6",null,e.group),e.tests.map((function(e){return l().createElement(ke.ywS,{checked:m[e.uuid],onChange:function(t){return n=t.target.checked,r=e,a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_b(e,t,n[t])}))}return e}({},m),n?a[r.uuid]=r:a[r.uuid]&&delete a[r.uuid],void A(a);var n,r,a},className:Ab.testGroupItem,labelText:(null==e?void 0:e.testShortName)?"".concat(null==e?void 0:e.testShortName).concat((null==e?void 0:e.testName)?" (".concat(e.testName,")"):""):null==e?void 0:e.testName,id:"test-chk-".concat(e.uuid)})})))})))),l().createElement(ke._AC,null,l().createElement(ke.qaq,{kind:"secondary",onClick:a},i("cancel","Cancel")),l().createElement(ke.qaq,{type:"submit",onClick:function(){return r(Object.values(m))}},i("Continue","Continue"))))}),_g),xg=(0,r.getSyncLifecycle)((function(e){var t,n,a,i=e.approvalTitle,s=e.approvalDescription,c=e.closeModal,u=e.remarksTextLabel,d=e.actionButtonLabel,m=e.remarksRequired,A=e.approveCallback,p=e.successMessageTitle,_=e.successMessageBody,v=e.kind,f=e.hideRemarks,b=(0,He.useTranslation)().t,g=(n=(0,o.useState)(!1),a=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(n,a)||function(e,t){if(e){if("string"==typeof e)return Cb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cb(e,t):void 0}}(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=g[0],h=g[1],C=(0,Wo.aS)({defaultValues:{remarksRequired:null!=m&&m,remarks:""},mode:"all",resolver:(0,Ml.C)(hb)}),w=C.handleSubmit,E=C.control,S=C.formState,k=C.setFocus,T=S.errors,O=function(){var e,t=(e=function(e){var t;return function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),h(!0),[4,A(e.remarks)];case 1:return n.sent(),(0,r.showSnackbar)({isLowContrast:!0,title:p,kind:"success",subtitle:_}),c(!0),[3,3];case 2:return t=n.sent(),h(!1),(0,r.showNotification)({title:b("laboratoryTestRequestApproveActionError","Error performing action"),kind:"error",critical:!0,description:Yr(t)}),[3,3];case 3:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){wb(o,r,a,l,i,"next",e)}function i(e){wb(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,o.useEffect)((function(){k("remarks")}),[]),l().createElement("div",null,l().createElement(ke.QFz,null,l().createElement(ke.kPY,{closeModal:function(e){return c(!1)},title:i}),l().createElement(ke.aUI,null,l().createElement("div",{className:yb.modalBody},l().createElement("section",{className:yb.approvalItems},s),!f&&l().createElement("section",{className:yb.section},l().createElement(rl,{id:"approvalRequestRemarks",name:"remarks",control:E,controllerName:"remarks",maxLength:500,labelText:u,invalid:!!T.remarks,invalidText:T.remarks&&(null==T||null===(t=T.remarks)||void 0===t?void 0:t.message)})))),l().createElement(ke._AC,null,l().createElement(ke.qaq,{kind:"secondary",onClick:function(e){return c(!1)}},b("cancel","Cancel")),l().createElement(ke.qaq,{kind:v,onClick:w(O),disabled:y},y?l().createElement(ke.kp8,null):d))))}),_g),Ig=(0,r.getSyncLifecycle)((function(e){var t,n,a,i,s,c,u,d,m,A,p,_,v,f,b,g,y=e.testRequest,h=e.sample,C=e.closeModal,w=(0,He.useTranslation)().t,E=(0,r.useSession)(),S=Ib((0,o.useState)(!1),2),k=S[0],T=S[1],O=Ib((0,o.useState)(!1),2),N=O[0],x=O[1],I=rr().laboratoryConfig,D=I.laboratorySpecimenTypeConcept,R=I.laboratoryContainerTypeConcept,B=I.laboratoryVolumeMeasurementTypeConcept;(0,o.useEffect)((function(){T((null==E?void 0:E.user)&&(0,r.userHasAccess)(tn,E.user))}),[E.user]);var P,q,j,F,L=(0,Wo.aS)({defaultValues:{uuid:null==h?void 0:h.uuid,sampleTypeUuid:null==h?void 0:h.sampleTypeUuid,providedRef:null==h?void 0:h.providedRef,confirmProvidedRef:null==h?void 0:h.providedRef,accessionNumber:null==h?void 0:h.accessionNumber,tests:null!==(v=null==h||null===(t=h.tests)||void 0===t?void 0:t.map((function(e){return e.uuid})))&&void 0!==v?v:[],containerTypeUuid:null==h?void 0:h.containerTypeUuid,containerCount:null!==(f=null==h?void 0:h.containerCount)&&void 0!==f?f:null,specifyVolume:Boolean(null==h?void 0:h.volume),volume:null!==(b=null==h?void 0:h.volume)&&void 0!==b?b:null,volumeUnitUuid:null==h?void 0:h.volumeUnitUuid,referredOut:null!==(g=null==h?void 0:h.referredOut)&&void 0!==g&&g,referralToFacilityUuid:null==h?void 0:h.referralToFacilityUuid,archiveSample:!1},mode:"all",resolver:(0,Ml.C)(Eb)}),U=L.handleSubmit,z=L.control,M=L.formState,G=(L.setFocus,L.watch),H=L.setValue,J=M.errors,W=G("referredOut",null!==(P=null==h?void 0:h.referredOut)&&void 0!==P&&P),V=G("archiveSample",!1),Q=G("storageUuid",null),K=function(){var e,t=(e=function(e){var t,n,a,o;return function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),t={sampleTypeUuid:e.sampleTypeUuid,accessionNumber:e.accessionNumber,providedRef:e.referredOut?e.providedRef:void 0,tests:e.tests,containerTypeUuid:e.containerTypeUuid,containerCount:0!=e.containerCount?e.containerCount:void 0,volume:0!=e.volume?e.volume:void 0,volumeUnitUuid:e.volumeUnitUuid,referredOut:e.referredOut,referralToFacilityUuid:e.referredOut?e.referralToFacilityUuid:void 0},e.archiveSample&&(t.archive=!0,t.storageUnitUuid=e.storageUnitUuid),e.uuid||(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){xb(e,t,n[t])}))}return e}({},t,{atLocationUuid:null===(n=E.sessionLocation)||void 0===n?void 0:n.uuid,testRequestUuid:y.uuid})),x(!0),[4,e.uuid?Eo(e.uuid,t):wo(t)];case 1:return a=l.sent(),zn(Y),zn(te),(null==a?void 0:a.data)&&((0,r.showSnackbar)({isLowContrast:!0,title:w("laboratoryAddSample","Add Sample"),kind:"success",subtitle:w("laboratorySavedSampleSuccess","Sample saved Successfully")}),C()),[3,3];case 2:return o=l.sent(),x(!1),(0,r.showNotification)({title:w("laboratoryAddSampleError","Error adding sample"),kind:"error",critical:!0,description:Yr(o)}),[3,3];case 3:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){Nb(o,r,a,l,i,"next",e)}function i(e){Nb(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}();return l().createElement("div",null,l().createElement(ke.QFz,{onSubmit:U(K)},l().createElement(ke.kPY,{closeModal:C,title:w("labaoratorySampleTestRequestNo","Test Request: ".concat(null==y?void 0:y.requestNo))}),l().createElement(ke.aUI,null,l().createElement("div",{className:Tb.modalBody},l().createElement("div",{className:Tb.sectionRow},l().createElement("div",{className:Tb.sectionTitle},w("laboratorySpecifySampleType","Sample Type")),l().createElement("div",{className:Tb.sectionField},l().createElement(Fi,{popUpDrirection:"bottom",conceptUuid:D,selectedId:null==h?void 0:h.sampleTypeUuid,selectedText:null==h?void 0:h.sampleTypeName,controllerName:"sampleTypeUuid",name:"sampleTypeUuid",control:z,title:"",onChange:function(e){},placeholder:w("laboratorySpecifySampleType","Sample Type"),invalid:!!(null==J?void 0:J.sampleTypeUuid),invalidText:null==J||null===(n=J.sampleTypeUuid)||void 0===n?void 0:n.message}))),l().createElement("div",{className:Tb.sectionRow},l().createElement("div",{className:Tb.sectionTitle},w("laboratorySampleReference","Sample ID")),l().createElement("div",{className:Tb.sectionField},l().createElement(Up,{readOnly:!1,name:"accessionNumber",control:z,controllerName:"accessionNumber",maxLength:100,size:"sm",value:null!==(q=null==h?void 0:h.accessionNumber)&&void 0!==q?q:"",labelText:"",placeholder:w("laboratoryGenerateReference","Generate Reference"),invalid:!!(null==J?void 0:J.accessionNumber),invalidText:(null==J?void 0:J.accessionNumber)&&(null==J||null===(a=J.accessionNumber)||void 0===a?void 0:a.message),onChange:function(e){}}))),l().createElement("div",{className:Tb.sectionRow},l().createElement("div",{className:Tb.sectionTitle},w("laboratoryContainer","Container")),l().createElement("div",{className:Tb.sectionField},l().createElement("div",{className:Tb.sectionRow},l().createElement("div",{className:Tb.numericInput},l().createElement(du,{name:"containerCount",control:z,controllerName:"containerCount",maxLength:10,size:"md",defaultValue:null==h?void 0:h.containerCount,hideSteppers:!0,hideLabel:!0,allowEmpty:!0,labelText:"",pattern:"[0-9]",step:"1",invalid:!!J.containerCount,invalidText:J.containerCount&&(null==J||null===(i=J.containerCount)||void 0===i?void 0:i.message)})),l().createElement("div",{className:Tb.sectionField},l().createElement(Fi,{popUpDrirection:"bottom",conceptUuid:R,selectedId:null==h?void 0:h.containerTypeUuid,selectedText:null==h?void 0:h.containerTypeName,controllerName:"containerTypeUuid",name:"containerTypeUuid",control:z,title:"",onChange:function(e){},placeholder:w("laboratoryContainerType","Container Type"),invalid:!!(null==J?void 0:J.containerTypeUuid),invalidText:null==J||null===(s=J.containerTypeUuid)||void 0===s?void 0:s.message}))))),l().createElement("div",{className:Tb.sectionRow},l().createElement("div",{className:Tb.sectionTitle},w("laboratoryVolume","Volume")),l().createElement("div",{className:Tb.sectionField},l().createElement("div",{className:Tb.sectionRow},l().createElement("div",{className:Tb.numericInput},l().createElement(du,{type:"",name:"volume",control:z,controllerName:"volume",maxLength:10,size:"md",defaultValue:null==h?void 0:h.volume,hideSteppers:!0,hideLabel:!0,allowEmpty:!0,labelText:"",invalid:!!J.volume,invalidText:J.volume&&(null==J||null===(c=J.volume)||void 0===c?void 0:c.message)})),l().createElement("div",{className:Tb.sectionField},l().createElement(Fi,{popUpDrirection:"bottom",conceptUuid:B,selectedId:null==h?void 0:h.volumeUnitUuid,selectedText:null==h?void 0:h.volumeUnitName,controllerName:"volumeUnitUuid",name:"volumeUnitUuid",control:z,title:"",onChange:function(e){},placeholder:w("laboratoryVolumeUnit","Volume Unit"),invalid:!!(null==J?void 0:J.volumeUnitUuid),invalidText:null==J||null===(u=J.volumeUnitUuid)||void 0===u?void 0:u.message}))))),l().createElement("div",{className:Tb.sectionRow},l().createElement("div",{className:Tb.sectionTitle},l().createElement(Wo.Mc,{name:"referredOut",control:z,render:function(e){var t=e.field,n=t.onChange,r=t.value,a=t.ref;return l().createElement(ke.ywS,{checked:r,id:"referredOut",ref:a,onChange:function(e){return n(Boolean(!r))},labelText:w("laboratoryReferred","Referred")})}})),l().createElement("div",{className:Tb.sectionField},W&&l().createElement(d_,{selectedId:null==h?void 0:h.referralToFacilityUuid,selectedText:null==h?void 0:h.referralToFacilityName,controllerName:"referralToFacilityUuid",name:"referralToFacilityUuid",control:z,placeholder:w("selectAreferelPoint","Select a referal point"),invalid:!!J.referralToFacilityUuid,invalidText:J.referralToFacilityUuid&&(null==J||null===(d=J.referralToFacilityUuid)||void 0===d?void 0:d.message),referrerOut:!0}))),W&&l().createElement("div",{className:Tb.sectionField},l().createElement("div",{className:Tb.sectionRow},l().createElement("div",{className:Tb.sectionTitle},w("laboratoryAdditionalReference","Additional Reference")),l().createElement("div",{className:Tb.sectionField},l().createElement("div",{className:Tb.sectionRow},l().createElement(_i,{name:"providedRef",control:z,controllerName:"providedRef",placeholder:w("laboratorySampleProviderReference","Reference"),maxLength:10,size:"md",value:"".concat(null!==(j=null==h?void 0:h.providedRef)&&void 0!==j?j:""),labelText:"",invalid:!!J.providedRef,invalidText:J.providedRef&&(null==J||null===(m=J.providedRef)||void 0===m?void 0:m.message)}),l().createElement(_i,{name:"confirmProvidedRef",control:z,controllerName:"confirmProvidedRef",placeholder:w("laboratorySampleConfirmProviderReference","Confirm Reference"),maxLength:10,size:"md",value:"".concat(null!==(F=null==h?void 0:h.providedRef)&&void 0!==F?F:""),labelText:"",invalid:!!J.confirmProvidedRef,invalidText:J.confirmProvidedRef&&(null==J||null===(A=J.confirmProvidedRef)||void 0===A?void 0:A.message)}))))),l().createElement("div",{className:Tb.sectionRow},l().createElement("div",{className:Tb.sectionTitle},w("laboratorySampleAssociatedTests","Associated Tests")),l().createElement("div",{className:Tb.sectionField},l().createElement(Wo.Mc,{name:"tests",control:z,render:function(e){var t,n,r,a,o=e.field,i=o.onChange,s=o.value,c=o.ref,u=function(e){var t=null==s?void 0:s.find((function(t){return t===e.target.value}));if(t){var n,r=Db(null!==(n=null==s?void 0:s.filter((function(e){return e!==t})))&&void 0!==n?n:[]);i(r)}else{var a=Db(null!=s?s:[]).concat([e.target.value]);i(a)}};return l().createElement(l().Fragment,null,null==y||null===(n=y.tests)||void 0===n||null===(t=n.filter((function(e){var t,n,r,a;return(!(null==e||null===(t=e.samples)||void 0===t?void 0:t.length)||0==(null==e||null===(n=e.samples)||void 0===n?void 0:n.length)||(null==e||null===(r=e.samples)||void 0===r?void 0:r.some((function(e){return e.uuid==(null==h?void 0:h.uuid)})))&&e.status!==An)&&e.status!=mn&&(e.status!=vn||(null===(a=e.samples)||void 0===a?void 0:a.some((function(e){return e.uuid==(null==h?void 0:h.uuid)}))))})))||void 0===t?void 0:t.map((function(e){var t;return l().createElement("div",{className:Tb.test},l().createElement(ke.ywS,{disabled:(null==h?void 0:h.status)!==ir&&(null==h?void 0:h.uuid)&&e.status!=pn,ref:c,name:"tests-".concat(e.uuid),key:e.uuid,id:e.uuid,onChange:u,value:e.uuid,checked:Boolean(s&&s.indexOf(e.uuid)>=0),labelText:En(e.testName,e.testShortName)}),null==e||null===(t=e.samples)||void 0===t?void 0:t.map((function(e){return l().createElement(ke.EDW,{type:"green"},l().createElement(Ao,{reference:e.accessionNumber,className:Tb.sampleRefNumber,sampleType:e.sampleTypeName,entityName:Ua(y)}))})))})),J.tests&&(null==J||null===(r=J.tests)||void 0===r?void 0:r.message)&&l().createElement("div",{className:Tb.errorText},w(null==J||null===(a=J.tests)||void 0===a?void 0:a.message)))}}))),k&&(null==(null==h?void 0:h.storageStatus)||(null==h?void 0:h.storageStatus)==dr)&&l().createElement("div",{className:Tb.sectionRow},l().createElement("div",{className:Tb.sectionTitle},l().createElement(Wo.Mc,{name:"archiveSample",control:z,render:function(e){var t=e.field,n=t.onChange,r=t.value,a=t.ref;return l().createElement(ke.ywS,{checked:r,id:"registerSampleArchiveSample",ref:a,onChange:function(){n(Boolean(!r)),H("storageUuid",null),H("storageUnitUuid",null)},labelText:w("laboratoryArchiveSample","Archive Sample")})}})),l().createElement("div",{className:Tb.sectionRow,style:{justifyContent:"flex-start",flexGrow:"1"}},V&&l().createElement(l().Fragment,null,l().createElement(nu,{controllerName:"storageUuid",active:!0,name:"storageUuid",control:z,title:w("laboratoryRepositoryStorage","Storage"),placeholder:w("filter","Filter ..."),onChange:function(){H("storageUnitUuid",null)},invalid:!!(null==J?void 0:J.storageUuid),invalidText:null==J||null===(p=J.storageUuid)||void 0===p?void 0:p.message,className:Q?Tb.storageSelected:"",direction:"top"}),Q&&l().createElement(lu,{key:Q,controllerName:"storageUnitUuid",storageUuid:Q,active:!0,assigned:!1,name:"storageUnitUuid",control:z,title:w("laboratoryRepositoryStorageUnit","Storage Unit"),placeholder:w("filter","Filter ..."),invalid:!!(null==J?void 0:J.storageUnitUuid),invalidText:null==J||null===(_=J.storageUnitUuid)||void 0===_?void 0:_.message,direction:"top"})))))),l().createElement(ke._AC,null,l().createElement(ke.qaq,{kind:"secondary",onClick:C},w("cancel","Cancel")),l().createElement(ke.qaq,{onClick:U(K),disabled:N},N?l().createElement(ke.kp8,null):w("save","Save")))))}),_g),Dg=(0,r.getSyncLifecycle)((function(e){var t,n=e.testRequest,a=e.closeModal,i=(0,He.useTranslation)().t,s=zb((0,o.useState)(),2),c=s[0],u=s[1],d=zb((0,o.useState)(!1),2),m=d[0],A=d[1],p=zb((0,o.useState)((function(){return ur.filter((function(e){return e!=cr})).join(",")})),1)[0],_=(0,Wo.aS)({defaultValues:{sampleUuid:null,tests:[]},mode:"all",resolver:(0,Ml.C)(Fb)}),v=_.handleSubmit,f=_.control,b=_.formState,g=(_.setFocus,_.watch),y=(_.setValue,b.errors),h=function(){var e,t=(e=function(e){var t,o,l;return function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),t={action:qn,actionType:"USE_EXISTING_SAMPLE",uuid:e.sampleUuid,testRequestUuid:n.uuid,records:e.tests},A(!0),[4,cn(t)];case 1:return o=s.sent(),zn(Y),zn(te),(null==o?void 0:o.data)&&((0,r.showSnackbar)({isLowContrast:!0,title:i("laboratoryAddExistingSample","Add Existing Sample"),kind:"success",subtitle:i("laboratorySavedExistingSampleSuccess","Added existing sample successfully")}),a()),[3,3];case 2:return l=s.sent(),A(!1),(0,r.showNotification)({title:i("laboratoryAddExistingSampleError","Error adding existing sample"),kind:"error",critical:!0,description:Yr(l)}),[3,3];case 3:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){Ub(o,r,a,l,i,"next",e)}function i(e){Ub(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}(),C=g("sampleUuid",null);return l().createElement("div",null,l().createElement(ke.QFz,{onSubmit:v(h)},l().createElement(ke.kPY,{closeModal:a,title:i("labaoratorySampleTestRequestNo","Test Request: ".concat(null==n?void 0:n.requestNo))}),l().createElement(ke.aUI,{className:Tb.minModalBody},l().createElement("div",{className:Tb.modalBody},l().createElement("div",{className:Tb.sectionRow},l().createElement("div",{className:Tb.sectionTitle},i("laboratorySpecifySample","Sample")),l().createElement("div",{className:Tb.sectionField},l().createElement(jb,{direction:"bottom",sampleStatus:p,patientUuid:(null==n?void 0:n.referralFromFacilityName)?null:null==n?void 0:n.patientUuid,referralLocationUuid:(null==n?void 0:n.referralFromFacilityName)?n.referralFromFacilityUuid:null,controllerName:"sampleUuid",name:"sampleUuid",control:f,title:"",onChange:u,placeholder:i("laboratorySpecifySample","Sample"),invalid:!!(null==y?void 0:y.sampleUuid),invalidText:null==y||null===(t=y.sampleUuid)||void 0===t?void 0:t.message}))),c&&l().createElement(l().Fragment,null,l().createElement("div",{className:Tb.sectionRow},l().createElement("div",{className:Tb.sectionTitle}),l().createElement("div",{className:Tb.sectionField},l().createElement("div",{className:Tb.sampleInfo,style:{paddingTop:"0.5rem"}},c.sampleTypeName&&l().createElement("div",null,i("laboratorySpecifySampleType","Sample Type"),l().createElement("p",null,c.sampleTypeName)),c.providedRef&&l().createElement("div",null,i("laboratoryAdditionalReference","Additional Reference"),l().createElement("p",null,c.providedRef)),c.externalRef&&l().createElement("div",null,i("laboratoryExternalRef","Sample Reference Number"),l().createElement("p",null,c.externalRef)),c.storageStatus?l().createElement("div",null,i("laboratorySampleStorageStatus","Status"),l().createElement("p",null,i(c.storageStatus))):c.status?l().createElement("div",null,i("laboratorySampleStatus","Status"),l().createElement("p",null,i(c.status))):l().createElement(l().Fragment,null))))),l().createElement("div",{className:Tb.sectionRow},l().createElement("div",{className:Tb.sectionTitle},i("laboratorySampleAssociatedTests","Associated Tests")),l().createElement("div",{className:Tb.sectionField},l().createElement(Wo.Mc,{name:"tests",control:f,render:function(e){var t,r,a,o,s=e.field,u=s.onChange,d=s.value,m=s.ref,A=function(e){var t=null==d?void 0:d.find((function(t){return t===e.target.value}));if(t){var n,r=Mb(null!==(n=null==d?void 0:d.filter((function(e){return e!==t})))&&void 0!==n?n:[]);u(r)}else{var a=Mb(null!=d?d:[]).concat([e.target.value]);u(a)}};return l().createElement(l().Fragment,null,null==n||null===(r=n.tests)||void 0===r||null===(t=r.filter((function(e){var t,n;return(!(null==e||null===(t=e.samples)||void 0===t?void 0:t.length)||0==(null==e||null===(n=e.samples)||void 0===n?void 0:n.length))&&e.status!=mn&&e.status!=vn})))||void 0===t?void 0:t.map((function(e){var t;return l().createElement("div",{className:Tb.test},l().createElement(ke.ywS,{disabled:(null==c?void 0:c.status)!==ir&&(null==c?void 0:c.uuid)&&e.status!=pn,ref:m,name:"tests-".concat(e.uuid),key:e.uuid,id:e.uuid,onChange:A,value:e.uuid,checked:Boolean(d&&d.indexOf(e.uuid)>=0),labelText:En(e.testName,e.testShortName)}),null==e||null===(t=e.samples)||void 0===t?void 0:t.map((function(e){return l().createElement(ke.EDW,{type:"green"},l().createElement(Ao,{reference:e.accessionNumber,className:Tb.sampleRefNumber,sampleType:e.sampleTypeName,entityName:Ua(n)}))})))})),y.tests&&(null==y||null===(a=y.tests)||void 0===a?void 0:a.message)&&l().createElement("div",{className:Tb.errorText},i(null==y||null===(o=y.tests)||void 0===o?void 0:o.message)))}}))))),l().createElement(ke._AC,null,l().createElement(ke.qaq,{kind:"secondary",onClick:a},i("cancel","Cancel")),l().createElement(ke.qaq,{onClick:v(h),disabled:!C||m},m?l().createElement(ke.kp8,null):i("save","Save")))))}),_g),Rg=(0,r.getSyncLifecycle)((function(e){var t,n=e.availableTests,a=e.closeModal,i=e.loadTestResults,s=(0,He.useTranslation)().t,c=dg((0,o.useState)((function(){return 1==(null==n?void 0:n.length)?n[0][0]:""})),2),u=c[0],d=c[1],m=dg((0,o.useState)(0),2),A=m[0],p=m[1],_=dg((0,o.useState)(!1),2),v=_[0],f=_[1],b=dg((0,o.useState)(),2),g=b[0],y=b[1],h=dg((0,o.useState)(!1),2),C=h[0],w=h[1],E=dg((0,o.useState)(","),2),S=E[0],k=E[1],T=dg((0,o.useState)('"'),2),O=T[0],N=T[1],x=dg((0,o.useState)(),2),I=x[0],D=x[1],R=dg((0,o.useState)(),2),B=R[0],P=R[1],q=(0,o.useMemo)((function(){return 0!=A||!(C&&u&&S&&O)}),[A,C,u,S,O]),j=function(){var e,t=(e=function(){var e,t,n,a;return function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,3,4]),g&&S&&O&&C?((t=new FormData).append("testUuid",u),t.append("separator",S),t.append("quoteChar",O),t.append("file",g,"test-results.csv"),f(!0),[4,Yb(t)]):[2];case 1:return n=o.sent(),D(n.data),P(JSON.parse(null==n||null===(e=n.data)||void 0===e?void 0:e.fieldMapping)),p(1),[3,4];case 2:return a=o.sent(),(0,r.showNotification)({title:s("laboratoryUploadTestResultConfigError","Error uploading test results"),kind:"error",critical:!0,description:Yr(a)}),[3,4];case 3:return f(!1),[7];case 4:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){ug(o,r,a,l,i,"next",e)}function i(e){ug(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(){return t.apply(this,arguments)}}();return 0==A?l().createElement("div",{className:"".concat(Wb.modalWrapper)},l().createElement(ke.kPY,{closeModal:a,title:s("laboratoryTestResultsImport","Import Test Results")}),l().createElement(ke.aUI,{className:Wb.modalBody},l().createElement("section",{className:Wb.section},l().createElement(ke.M1e,{type:"text",labelText:s("laboratoryTestResultsImportSpecifyTest","Specify Test"),value:u,rules:{required:!0},onChange:function(e){return d(e.target.value)}},l().createElement(ke.gV5,{value:"",text:s("laboratoryTestResultsImportSelectTest","Select Test")}),null===(t=null!=n?n:[])||void 0===t?void 0:t.map((function(e){var t=dg(e,2),n=t[0],r=t[1];return l().createElement(ke.gV5,{key:n,value:n,text:r})}))),l().createElement("div",{className:Wb.sepQuote},l().createElement(ke.gf6,{maxLength:1,labelText:s("laboratoryTestResultsImportSeparator","Field Separator"),value:S,placeholder:"",onChange:function(e){k(e.target.value)}}),l().createElement(ke.gf6,{labelText:s("laboratoryTestResultsImporQuotableChar","Quote Character"),value:O,placeholder:"",onChange:function(e){N(e.target.value)}})),l().createElement(ke.ySg,{accept:[".csv"],multiple:!1,name:"file",buttonLabel:"Select file",labelDescription:"Only .csv files at 2mb or less",filenameStatus:"edit",labelTitle:"",size:"small",onChange:function(e){var t,n,r=null==e||null===(n=e.target)||void 0===n||null===(t=n.files)||void 0===t?void 0:t[0];r?(y(r),w(!0)):e.preventDefault()},onDelete:function(){w(!1)}}))),l().createElement(ke._AC,null,l().createElement(ke.qaq,{disabled:v,kind:"secondary",onClick:a},s("cancel","Cancel")),l().createElement(ke.qaq,{disabled:q,type:"submit",onClick:j},v?l().createElement(ke.kp8,null):s("upload","Upload")))):1==A?l().createElement(sg,{closeModal:a,csvFields:B,testResultImportConfig:I,loadTestResults:i}):l().createElement(l().Fragment,null)}),_g);function Bg(){(0,r.defineConfigSchema)(pg,a),(0,xf.op)({name:"patient-laboratory-referral-workspace",title:"Laboratory Referral Form",load:(0,r.getSyncLifecycle)(_f,_g)})}},6404:(e,t,n)=>{var r={"./en.json":[9832,832],"./es.json":[6504,504],"./fr.json":[9464,84]};function a(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((()=>n(a)))}a.keys=()=>Object.keys(r),a.id=6404,e.exports=a}}]);