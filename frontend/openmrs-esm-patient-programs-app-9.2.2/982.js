(globalThis.webpackChunk_openmrs_esm_patient_programs_app=globalThis.webpackChunk_openmrs_esm_patient_programs_app||[]).push([[982],{2485:(e,r,n)=>{"use strict";n.d(r,{A:()=>i});var t=n(5836),a=n.n(t),o=n(8023),l=n.n(o)()(a());l.push([e.id,".-esm-patient-programs__programs-action-menu__layer___45Wp0{height:100%}.-esm-patient-programs__programs-action-menu__layer___45Wp0 .cds--overflow-menu{min-height:unset}.-esm-patient-programs__programs-action-menu__menuItem___hab8w{max-width:none}","",{version:3,sources:["webpack://./src/programs/programs-action-menu.scss"],names:[],mappings:"AAAA,4DACE,WAAA,CAEA,gFACE,gBAAA,CAIJ,+DACE,cAAA",sourcesContent:[".layer {\n  height: 100%;\n\n  :global(.cds--overflow-menu) {\n    min-height: unset;\n  }\n}\n\n.menuItem {\n  max-width: none;\n}\n"],sourceRoot:""}]),l.locals={layer:"-esm-patient-programs__programs-action-menu__layer___45Wp0",menuItem:"-esm-patient-programs__programs-action-menu__menuItem___hab8w"};const i=l},3056:(e,r,n)=>{"use strict";n.d(r,{A:()=>i});var t=n(5836),a=n.n(t),o=n(8023),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79;--bottom-nav-height: 4rem;--workspace-header-height: 3rem;--tablet-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--bottom-nav-height));--desktop-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--workspace-header-height))}.-esm-patient-programs__programs-detailed-summary__widgetCard___Qfbyc{border:1px solid #e0e0e0;border-bottom:none}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/programs/programs-detailed-summary.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CACA,yBAAA,CACA,+BAAA,CACA,oGAAA,CACA,2GAAA,CCzDF,sEACE,wBAAA,CACA,kBAAA",sourcesContent:["$ui-01: #f4f4f4;\n$ui-02: #ffffff;\n$ui-03: #e0e0e0;\n$ui-04: #8d8d8d;\n$ui-05: #161616;\n$text-02: #525252;\n$text-03: #a8a8a8;\n$ui-background: #ffffff;\n$color-gray-30: #c6c6c6;\n$color-gray-70: #525252;\n$color-gray-100: #161616;\n$color-blue-60-2: #0f62fe;\n$color-blue-10: #edf5ff;\n$color-yellow-50: #feecae;\n$carbon--red-50: #fa4d56;\n$inverse-link: #78a9ff;\n$support-02: #24a148;\n$inverse-support-03: #f1c21b;\n$warning-background: #fff8e1;\n$openmrs-background-grey: #f4f4f4;\n$danger: #da1e28;\n$interactive-01: #0f62fe;\n$field-01: #f4f4f4;\n$grey-2: #e0e0e0;\n$labeldropdown: #c6c6c6;\n\n$brand-primary-10: #d9fbfb;\n$brand-primary-20: #9ef0f0;\n$brand-primary-30: #3ddbd9;\n$brand-primary-40: #08bdba;\n$brand-primary-50: #009d9a;\n\n/* 60,70 and 80 are already declared as brand-01, 02 and 03 respectively */\n\n$brand-primary-90: #022b30;\n$brand-primary-100: #081a1c;\n\n@mixin brand-01($property) {\n  #{$property}: #005d5d;\n  #{$property}: var(--brand-01);\n}\n\n@mixin brand-02($property) {\n  #{$property}: #004144;\n  #{$property}: var(--brand-02);\n}\n\n@mixin brand-03($property) {\n  #{$property}: #007d79;\n  #{$property}: var(--brand-03);\n}\n\n:root {\n  --brand-01: #005d5d;\n  --brand-02: #004144;\n  --brand-03: #007d79;\n  --bottom-nav-height: 4rem;\n  --workspace-header-height: 3rem;\n  --tablet-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--bottom-nav-height));\n  --desktop-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--workspace-header-height));\n}\n\n$breakpoint-phone-min: 0px;\n$breakpoint-phone-max: 600px;\n$breakpoint-tablet-min: 601px;\n$breakpoint-tablet-max: 1023px;\n$breakpoint-small-desktop-min: 1024px;\n$breakpoint-small-desktop-max: 1439px;\n$breakpoint-large-desktop-min: 1440px;\n$breakpoint-large-desktop-max: 99999999px;\n\n/* These color variables will be removed in a future release */\n$brand-teal-01: #007d79;\n$brand-01: #005d5d;\n$brand-02: #004144;\n","@use '@openmrs/esm-styleguide/src/vars' as *;\n\n.widgetCard {\n  border: 1px solid $ui-03;\n  border-bottom: none;\n}\n"],sourceRoot:""}]),l.locals={widgetCard:"-esm-patient-programs__programs-detailed-summary__widgetCard___Qfbyc"};const i=l},778:(e,r,n)=>{"use strict";n.d(r,{A:()=>i});var t=n(5836),a=n.n(t),o=n(8023),l=n.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79;--bottom-nav-height: 4rem;--workspace-header-height: 3rem;--tablet-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--bottom-nav-height));--desktop-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--workspace-header-height))}.-esm-patient-programs__programs-overview__widgetCard___9hNqv{border:1px solid #e0e0e0}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/programs/programs-overview.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CACA,yBAAA,CACA,+BAAA,CACA,oGAAA,CACA,2GAAA,CCzDF,8DACE,wBAAA",sourcesContent:["$ui-01: #f4f4f4;\n$ui-02: #ffffff;\n$ui-03: #e0e0e0;\n$ui-04: #8d8d8d;\n$ui-05: #161616;\n$text-02: #525252;\n$text-03: #a8a8a8;\n$ui-background: #ffffff;\n$color-gray-30: #c6c6c6;\n$color-gray-70: #525252;\n$color-gray-100: #161616;\n$color-blue-60-2: #0f62fe;\n$color-blue-10: #edf5ff;\n$color-yellow-50: #feecae;\n$carbon--red-50: #fa4d56;\n$inverse-link: #78a9ff;\n$support-02: #24a148;\n$inverse-support-03: #f1c21b;\n$warning-background: #fff8e1;\n$openmrs-background-grey: #f4f4f4;\n$danger: #da1e28;\n$interactive-01: #0f62fe;\n$field-01: #f4f4f4;\n$grey-2: #e0e0e0;\n$labeldropdown: #c6c6c6;\n\n$brand-primary-10: #d9fbfb;\n$brand-primary-20: #9ef0f0;\n$brand-primary-30: #3ddbd9;\n$brand-primary-40: #08bdba;\n$brand-primary-50: #009d9a;\n\n/* 60,70 and 80 are already declared as brand-01, 02 and 03 respectively */\n\n$brand-primary-90: #022b30;\n$brand-primary-100: #081a1c;\n\n@mixin brand-01($property) {\n  #{$property}: #005d5d;\n  #{$property}: var(--brand-01);\n}\n\n@mixin brand-02($property) {\n  #{$property}: #004144;\n  #{$property}: var(--brand-02);\n}\n\n@mixin brand-03($property) {\n  #{$property}: #007d79;\n  #{$property}: var(--brand-03);\n}\n\n:root {\n  --brand-01: #005d5d;\n  --brand-02: #004144;\n  --brand-03: #007d79;\n  --bottom-nav-height: 4rem;\n  --workspace-header-height: 3rem;\n  --tablet-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--bottom-nav-height));\n  --desktop-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--workspace-header-height));\n}\n\n$breakpoint-phone-min: 0px;\n$breakpoint-phone-max: 600px;\n$breakpoint-tablet-min: 601px;\n$breakpoint-tablet-max: 1023px;\n$breakpoint-small-desktop-min: 1024px;\n$breakpoint-small-desktop-max: 1439px;\n$breakpoint-large-desktop-min: 1440px;\n$breakpoint-large-desktop-max: 99999999px;\n\n/* These color variables will be removed in a future release */\n$brand-teal-01: #007d79;\n$brand-01: #005d5d;\n$brand-02: #004144;\n","@use '@openmrs/esm-styleguide/src/vars' as *;\n\n.widgetCard {\n  border: 1px solid $ui-03;\n}\n"],sourceRoot:""}]),l.locals={widgetCard:"-esm-patient-programs__programs-overview__widgetCard___9hNqv"};const i=l},982:(e,r,n)=>{"use strict";n.r(r),n.d(r,{deleteProgramConfirmationModal:()=>q,importTranslation:()=>H,programsDashboardLink:()=>Q,programsDetailedSummary:()=>G,programsFormWorkspace:()=>X,programsOverview:()=>K,startupApp:()=>M});var t=n(8254),a=n(7223),o={hideAddProgramButton:{_type:t.Type.Boolean,_default:!1},showProgramStatusField:{_type:t.Type.Boolean,_description:"Whether to show the Program status field in the Record program enrollment and Edit program enrollment forms. If set to true, the `Program status` field is displayed in the Programs datatable",_default:!1}},l=n(1343),i=n.n(l),s=n(3373),d=n.n(s),c=n(3150),m=n(7644),u=n(5215),p=n(111),g=n.n(p),b=n(5660),f=n.n(b),h=n(3824),v=n.n(h),y=n(8823),A=n.n(y),w=n(6747),E=n.n(w),k=n(4072),$=n.n(k),C=n(2485),_={};_.styleTagTransform=$(),_.setAttributes=A(),_.insert=v().bind(null,"head"),_.domAPI=f(),_.insertStyleElement=E(),g()(C.A,_);const P=C.A&&C.A.locals?C.A.locals:void 0;var j=function(e){var r=e.patientUuid,n=e.programEnrollmentId,o=(0,c.useTranslation)().t,s="tablet"===(0,t.useLayoutType)(),d=(0,l.useCallback)((function(){return(0,a.launchPatientWorkspace)("programs-form-workspace",{workspaceTitle:o("editProgramEnrollment","Edit program enrollment"),programEnrollmentId:n})}),[n,o]),u=(0,l.useCallback)((function(){var e=(0,t.showModal)("program-delete-confirmation-modal",{closeDeleteModal:function(){return e()},programEnrollmentId:n,patientUuid:r,size:"sm"})}),[n,r]);return i().createElement(m.Wdr,{className:P.layer},i().createElement(m.obU,{align:"left","aria-label":o("editOrDeleteProgram","Edit or delete program"),flipped:!0,size:s?"lg":"sm"},i().createElement(m.XSD,{className:P.menuItem,id:"editProgram",itemText:o("edit","Edit"),onClick:d}),i().createElement(m.XSD,{className:P.menuItem,id:"deleteProgam",hasDivider:!0,isDelete:!0,itemText:o("delete","Delete"),onClick:u})))},O=n(778),D={};D.styleTagTransform=$(),D.setAttributes=A(),D.insert=v().bind(null,"head"),D.domAPI=f(),D.insertStyleElement=E(),g()(O.A,D);const x=O.A&&O.A.locals?O.A.locals:void 0;function S(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function T(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){S(e,r,n[r])}))}return e}var B=n(3056),I={};I.styleTagTransform=$(),I.setAttributes=A(),I.insert=v().bind(null,"head"),I.domAPI=f(),I.insertStyleElement=E(),g()(B.A,I);const L=B.A&&B.A.locals?B.A.locals:void 0;function N(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function F(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){N(e,r,n[r])}))}return e}function U(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var z="@openmrs/esm-patient-programs-app",W={featureName:"patient-programs",moduleName:z},H=n(4767);function M(){(0,t.defineConfigSchema)(z,o)}var R,V,K=(0,t.getSyncLifecycle)((function(e){e.basePath;var r=e.patientUuid,n=(0,c.useTranslation)().t,o=(0,t.useConfig)(),s=n("programs","Program enrollments"),p=n("carePrograms","Care Programs"),g=n("seeAll","See all"),b="${openmrsSpaBase}/patient/".concat(r,"/chart/Programs"),f=(0,t.useLayoutType)(),h="tablet"===f,v=(0,t.isDesktop)(f),y=(0,u.v5)(r),A=y.activeEnrollments,w=y.availablePrograms,E=y.eligiblePrograms,k=y.enrollments,$=y.error,C=y.isLoading,_=y.isValidating,P=(0,t.usePagination)(null!=k?k:[],5),O=P.results,D=P.goTo,S=P.currentPage,B=(0,l.useCallback)((function(){return(0,a.launchPatientWorkspace)("programs-form-workspace")}),[]),I=[{key:"display",header:n("activePrograms","Active programs")},{key:"location",header:n("location","Location")},{key:"dateEnrolled",header:n("dateEnrolled","Date enrolled")},{key:"status",header:n("status","Status")},{key:"state",header:n("state","State")},{key:"actions",header:n("actions","Actions")}],L=i().useMemo((function(){return null==O?void 0:O.map((function(e){var r,a,o=e?(0,u.Vh)(e.states):null;return{id:e.uuid,display:e.display,location:null!==(a=null===(r=e.location)||void 0===r?void 0:r.display)&&void 0!==a?a:"--",dateEnrolled:e.dateEnrolled?(0,t.formatDatetime)(new Date(e.dateEnrolled)):"--",status:e.dateCompleted?"".concat(n("completedOn","Completed On")," ").concat((0,t.formatDate)(new Date(e.dateCompleted))):n("active","Active"),state:o?o.state.concept.display:"--"}}))}),[O,n]);return C?i().createElement(m.OOb,{role:"progressbar",compact:v,zebra:!0}):$?i().createElement(a.ErrorState,{error:$,headerTitle:p}):(null==A?void 0:A.length)?i().createElement("div",{className:x.widgetCard},i().createElement(a.CardHeader,{title:p},i().createElement("span",null,_?i().createElement(m.OuH,null):null),o.hideAddProgramButton?null:i().createElement(m.$nd,{kind:"ghost",renderIcon:function(e){return i().createElement(t.AddIcon,T({size:16},e))},iconDescription:"Add programs",onClick:B,disabled:(null==w?void 0:w.length)&&0===(null==E?void 0:E.length)},n("add","Add"))),(null==w?void 0:w.length)&&0===(null==E?void 0:E.length)&&i().createElement(m.jeF,{style:{minWidth:"100%",margin:"0",padding:"0"},kind:"info",lowContrast:!0,subtitle:n("noEligibleEnrollments","There are no more programs left to enroll this patient in"),title:n("fullyEnrolled","Enrolled in all programs")}),i().createElement(m.bQt,{rows:L,headers:I,isSortable:!0,size:h?"lg":"sm",useZebraStyles:!0},(function(e){var n=e.rows,t=e.headers,a=e.getHeaderProps,o=e.getRowProps,l=e.getTableProps;return i().createElement(m.K3K,null,i().createElement(m.XIK,T({"aria-label":"programs overview"},l()),i().createElement(m.ndF,null,i().createElement(m.Hjg,null,t.map((function(e){var r,n;return i().createElement(m.A0N,T({className:d()(x.productiveHeading01,x.text02)},a({header:e,isSortable:e.isSortable})),null!==(n=null===(r=e.header)||void 0===r?void 0:r.content)&&void 0!==n?n:e.header)})))),i().createElement(m.BFY,null,n.map((function(e,n){var t;return i().createElement(m.Hjg,T({key:e.id},o({row:e})),e.cells.map((function(e){var r,n;return i().createElement(m.nA6,{key:e.id},null!==(n=null===(r=e.value)||void 0===r?void 0:r.content)&&void 0!==n?n:e.value)})),i().createElement(m.nA6,{className:"cds--table-column-menu"},i().createElement(j,{patientUuid:r,programEnrollmentId:null===(t=A[n])||void 0===t?void 0:t.uuid})))})))))})),i().createElement(a.PatientChartPagination,{currentItems:O.length,onPageNumberChange:function(e){var r=e.page;return D(r)},pageNumber:S,pageSize:5,totalItems:null==k?void 0:k.length,dashboardLinkUrl:b,dashboardLinkLabel:g})):i().createElement(a.EmptyState,{displayText:s,headerTitle:p,launchForm:B})}),W),G=(0,t.getSyncLifecycle)((function(e){var r=e.patientUuid,n=(0,c.useTranslation)().t,o=(0,t.useConfig)(),s=o.hideAddProgramButton,p=o.showProgramStatusField,g=(0,t.useLayoutType)(),b="tablet"===g,f=(0,t.isDesktop)(g),h=n("programEnrollments","Program enrollments"),v=n("carePrograms","Care Programs"),y=(0,u.v5)(r),A=y.enrollments,w=y.isLoading,E=y.error,k=y.isValidating,$=y.availablePrograms,C=(0,l.useMemo)((function(){var e=[{key:"display",header:n("activePrograms","Active programs")},{key:"location",header:n("location","Location")},{key:"dateEnrolled",header:n("dateEnrolled","Date enrolled")},{key:"status",header:n("status","Status")}];return p&&e.push({key:"state",header:n("programStatus","Program status")}),e}),[n,p]),_=(0,l.useMemo)((function(){return null==A?void 0:A.map((function(e){var r,a,o=e?(0,u.Vh)(e.states):null;return{id:e.uuid,display:e.display,location:null!==(a=null===(r=e.location)||void 0===r?void 0:r.display)&&void 0!==a?a:"--",dateEnrolled:(0,t.formatDatetime)(new Date(e.dateEnrolled)),status:e.dateCompleted?"".concat(n("completedOn","Completed On")," ").concat((0,t.formatDate)(new Date(e.dateCompleted))):n("active","Active"),state:o?o.state.concept.display:"--"}}))}),[A,n]),P=(0,l.useCallback)((function(){return(0,a.launchPatientWorkspace)("programs-form-workspace")}),[]),O=(0,l.useMemo)((function(){return!(!(null==$?void 0:$.length)||!(null==A?void 0:A.length))&&A.filter((function(e){return!e.dateCompleted})).length===$.length}),[$,A]);return w?i().createElement(m.OOb,{role:"progressbar",compact:f,zebra:!0}):E?i().createElement(a.ErrorState,{error:E,headerTitle:v}):(null==A?void 0:A.length)?i().createElement("div",{className:L.widgetCard},i().createElement(a.CardHeader,{title:v},i().createElement("span",null,k?i().createElement(m.OuH,null):null),s?null:i().createElement(m.$nd,{disabled:O,kind:"ghost",renderIcon:function(e){return i().createElement(t.AddIcon,F({size:16},e))},iconDescription:n("addPrograms","Add programs"),onClick:P},n("add","Add"))),O&&i().createElement(m.jeF,{style:{minWidth:"100%",margin:"0",padding:"0"},lowContrast:!0,subtitle:n("noEligibleEnrollments","There are no more programs left to enroll this patient in"),title:n("fullyEnrolled","Enrolled in all programs")}),i().createElement(m.bQt,{rows:_,headers:C,isSortable:!0,size:b?"lg":"sm",useZebraStyles:!0},(function(e){var n=e.rows,t=e.headers,a=e.getHeaderProps,o=e.getTableProps,l=e.getRowProps;return i().createElement(m.K3K,null,i().createElement(m.XIK,F({"aria-label":"program enrollments"},o()),i().createElement(m.ndF,null,i().createElement(m.Hjg,null,t.map((function(e){var r,n;return i().createElement(m.A0N,F({className:d()(L.productiveHeading01,L.text02)},a({header:e,isSortable:e.isSortable})),null!==(n=null===(r=e.header)||void 0===r?void 0:r.content)&&void 0!==n?n:e.header)})),i().createElement(m.A0N,null))),i().createElement(m.BFY,null,n.map((function(e,n){var t;return i().createElement(m.Hjg,F({key:e.id},l({row:e})),e.cells.map((function(e){var r,n;return i().createElement(m.nA6,{key:e.id},null!==(n=null===(r=e.value)||void 0===r?void 0:r.content)&&void 0!==n?n:e.value)})),i().createElement(m.nA6,{className:"cds--table-column-menu"},i().createElement(j,{patientUuid:r,programEnrollmentId:null===(t=A[n])||void 0===t?void 0:t.uuid})))})))))}))):i().createElement(a.EmptyState,{displayText:h,headerTitle:v,launchForm:P})}),W),Q=(0,t.getSyncLifecycle)((0,a.createDashboardLink)((R=function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){U(e,r,n[r])}))}return e}({},{slot:"patient-chart-programs-dashboard-slot",path:"Programs",title:"Programs",icon:"omrs-icon-programs"}),V=null!=(V={moduleName:z})?V:{},Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(V)):function(e){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(V)).forEach((function(e){Object.defineProperty(R,e,Object.getOwnPropertyDescriptor(V,e))})),R)),W),X=(0,t.getAsyncLifecycle)((function(){return Promise.all([n.e(7038),n.e(1683)]).then(n.bind(n,1683))}),W),q=(0,t.getAsyncLifecycle)((function(){return n.e(4396).then(n.bind(n,4396))}),W)},5215:(e,r,n)=>{"use strict";n.d(r,{lP:()=>D,a9:()=>S,Vh:()=>B,Gy:()=>x,UA:()=>O,j1:()=>j,v5:()=>T});var t=n(8917),a=n(8254),o=n(9543),l=n(6097);const i=function(e,r,n){for(var t=-1,a=Object(e),o=n(e),l=o.length;l--;){var i=o[++t];if(!1===r(a[i],i,a))break}return e};var s=n(5701);var d=n(1475);const c=(m=function(e,r){return e&&i(e,r,s.A)},function(e,r){if(null==e)return e;if(!(0,d.A)(e))return m(e,r);for(var n=e.length,t=-1,a=Object(e);++t<n&&!1!==r(a[t],t,a););return e});var m;const u=function(e,r){var n=[];return c(e,(function(e,t,a){r(e,t,a)&&n.push(e)})),n};var p=n(4303),g=n(6956);const b=function(e,r){return((0,g.A)(e)?l.A:u)(e,(0,p.A)(r,3))};var f=n(4295),h=n(2135),v=n(7313);var y=n(3314),A=n(5133);const w=function(e){return null==e?[]:function(e,r){return(0,A.A)(r,(function(r){return e[r]}))}(e,(0,s.A)(e))};var E=Math.max;const k=function(e,r,n,t){e=(0,d.A)(e)?e:w(e),n=n&&!t?(0,y.A)(n):0;var a=e.length;return n<0&&(n=E(a+n,0)),function(e){return"string"==typeof e||!(0,g.A)(e)&&(0,v.A)(e)&&"[object String]"==(0,h.A)(e)}(e)?n<=a&&e.indexOf(r,n)>-1:!!a&&(0,f.A)(e,r,n)>-1},$=function(e,r){var n=-1,t=(0,d.A)(e)?Array(e.length):[];return c(e,(function(e,a,o){t[++n]=r(e,a,o)})),t},C=function(e,r){return((0,g.A)(e)?A.A:$)(e,(0,p.A)(r,3))};function _(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var P="custom:(uuid,display,program,dateEnrolled,dateCompleted,location:(uuid,display),states:(startDate,endDate,voided,state:(uuid,concept:(display))))";function j(e){var r,n="".concat(a.restBaseUrl,"/programenrollment?patient=").concat(e,"&v=").concat(P),l=(0,t.Ay)(e?n:null,a.openmrsFetch),i=l.data,s=l.error,d=l.isLoading,c=l.isValidating,m=l.mutate,u=(null==i||null===(r=i.data)||void 0===r?void 0:r.results.length)>0?null==i?void 0:i.data.results.sort((function(e,r){return r.dateEnrolled>e.dateEnrolled?1:-1})):null,p=null==u?void 0:u.filter((function(e){return!e.dateCompleted}));return{data:i?(0,o.A)(u,(function(e){var r;return null==e||null===(r=e.program)||void 0===r?void 0:r.uuid})):null,error:s,isLoading:d,isValidating:c,activeEnrollments:p,mutateEnrollments:m}}function O(e){var r,n,o=(0,t.Ay)("".concat(a.restBaseUrl,"/program?v=custom:(uuid,display,allWorkflows,concept:(uuid,display))"),a.openmrsFetch),l=o.data,i=o.error,s=o.isLoading,d=null!==(n=null==l||null===(r=l.data)||void 0===r?void 0:r.results)&&void 0!==n?n:null;return{data:d,error:i,isLoading:s,eligiblePrograms:b(d,(function(r){return!k(C(e,"program.uuid"),r.uuid)}))}}function D(e,r){if(!e)return null;var n=e.program,t=e.patient,o=e.dateEnrolled,l=e.dateCompleted,i=e.location,s=e.states;return(0,a.openmrsFetch)("".concat(a.restBaseUrl,"/programenrollment"),{method:"POST",headers:{"Content-Type":"application/json"},body:{program:n,patient:t,dateEnrolled:o,dateCompleted:l,location:i,states:s},signal:r.signal})}function x(e,r,n){if(!r&&!r.program)return null;var t=r.dateEnrolled,o=r.dateCompleted,l=r.location,i=r.states;return(0,a.openmrsFetch)("".concat(a.restBaseUrl,"/programenrollment/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:{dateEnrolled:t,dateCompleted:o,location:l,states:i},signal:n.signal})}function S(e){var r=new AbortController;return(0,a.openmrsFetch)("".concat(a.restBaseUrl,"/programenrollment/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"},signal:r.signal})}var T=function(e){var r,n,t=j(e),a=t.data,o=t.error,l=t.isLoading,i=t.isValidating,s=t.activeEnrollments,d=O(a),c=d.data,m=d.eligiblePrograms;return r=function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){_(e,r,n[r])}))}return e}({enrollments:a},{isLoading:l,error:o}),n=null!=(n={isValidating:i,activeEnrollments:s,availablePrograms:c,eligiblePrograms:m})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):function(e){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))})),r},B=function(e){var r=e.filter((function(e){return!e.voided}));return r.find((function(e){return!e.endDate}))||r.sort((function(e,r){return new Date(r.endDate).getTime()-new Date(e.endDate).getTime()}))[0]}},4767:(e,r,n)=>{var t={"./am.json":[1197,1197],"./ar.json":[4132,4132],"./bn.json":[7159,7159],"./de.json":[4944,4944],"./en.json":[4300,4300],"./es.json":[3099,3099],"./fr.json":[4055,4055],"./he.json":[4652,4652],"./hi.json":[6840,6840],"./hi_IN.json":[5442,5442],"./id.json":[2690,2690],"./it.json":[9538,9538],"./km.json":[4335,4335],"./ku.json":[9895,9895],"./lg.json":[4618,4618],"./ne.json":[2146,2146],"./pt.json":[6679,6679],"./pt_BR.json":[4087,6468],"./qu.json":[5173,5173],"./ru_RU.json":[986,986],"./si.json":[6859,6859],"./sw.json":[9913,9913],"./sw_KE.json":[8618,8618],"./tr.json":[5241,5241],"./tr_TR.json":[9900,9900],"./uk.json":[723,723],"./uz.json":[3584,3584],"./uz_UZ.json":[890,890],"./vi.json":[9214,9214],"./zh.json":[5661,5661],"./zh_CN.json":[9879,9879]};function a(e){if(!n.o(t,e))return Promise.resolve().then((()=>{var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}));var r=t[e],a=r[0];return n.e(r[1]).then((()=>n(a)))}a.keys=()=>Object.keys(t),a.id=4767,e.exports=a}}]);