"use strict";(globalThis.webpackChunk_openmrs_esm_stock_management_app=globalThis.webpackChunk_openmrs_esm_stock_management_app||[]).push([[6299],{9665:(e,n,t)=>{t.d(n,{Z:()=>s});var a=t(1364),o=t.n(a),r=t(1682),c=t.n(r)()(o());c.push([e.id,".-esm-stock-management__stock-operations__section___uT-aA{margin:.5rem}.-esm-stock-management__stock-operations__sectionTitle___3WT-1{margin-bottom:.75rem}.-esm-stock-management__stock-operations__modalBody___3Hll4{padding-bottom:1rem}","",{version:3,sources:["webpack://./src/stock-operations/stock-operations-modal/stock-operations.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAGA,0DACE,YCiBW,CDdb,+DACE,oBCkBW,CDfb,4DACE,mBCmBW",sourcesContent:["@use '@carbon/layout';\n@use '@carbon/type';\n\n.section {\n  margin: layout.$spacing-03;\n}\n\n.sectionTitle {\n  margin-bottom: layout.$spacing-04;\n}\n\n.modalBody {\n  padding-bottom: layout.$spacing-05;\n}\n","// Code generated by @carbon/layout. DO NOT EDIT.\n//\n// Copyright IBM Corp. 2018, 2023\n//\n// This source code is licensed under the Apache-2.0 license found in the\n// LICENSE file in the root directory of this source tree.\n//\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-01: 0.125rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-02: 0.25rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-03: 0.5rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-04: 0.75rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-05: 1rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-06: 1.5rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-07: 2rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-08: 2.5rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-09: 3rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-10: 4rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-11: 5rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-12: 6rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-13: 10rem !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/layout\n$spacing: (\n  spacing-01: $spacing-01,\n  spacing-02: $spacing-02,\n  spacing-03: $spacing-03,\n  spacing-04: $spacing-04,\n  spacing-05: $spacing-05,\n  spacing-06: $spacing-06,\n  spacing-07: $spacing-07,\n  spacing-08: $spacing-08,\n  spacing-09: $spacing-09,\n  spacing-10: $spacing-10,\n  spacing-11: $spacing-11,\n  spacing-12: $spacing-12,\n  spacing-13: $spacing-13,\n);\n"],sourceRoot:""}]),c.locals={section:"-esm-stock-management__stock-operations__section___uT-aA",sectionTitle:"-esm-stock-management__stock-operations__sectionTitle___3WT-1",modalBody:"-esm-stock-management__stock-operations__modalBody___3Hll4"};const s=c},6299:(e,n,t)=>{t.r(n),t.d(n,{default:()=>S});var a=t(1672),o=t.n(a),r=t(3397),c=t(2e3),s=t(3775),i=t(5048),l=t(826),u=t(954),p=t(7410),m=t.n(p),b=t(4766),g=t.n(b),d=t(1991),y=t.n(d),f=t(3702),_=t.n(f),h=t(2434),k=t.n(h),v=t(1422),E=t.n(v),$=t(9665),T={};T.styleTagTransform=E(),T.setAttributes=_(),T.insert=y().bind(null,"head"),T.domAPI=g(),T.insertStyleElement=k(),m()($.Z,T);const C=$.Z&&$.Z.locals?$.Z.locals:void 0;function N(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}function w(e,n,t,a,o,r,c){try{var s=e[r](c),i=s.value}catch(e){return void t(e)}s.done?n(i):Promise.resolve(i).then(a,o)}function A(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,o,r=[],c=!0,s=!1;try{for(t=t.call(e);!(c=(a=t.next()).done)&&(r.push(a.value),!n||r.length!==n);c=!0);}catch(e){s=!0,o=e}finally{try{c||null==t.return||t.return()}finally{if(s)throw o}}return r}}(e,n)||function(e,n){if(e){if("string"==typeof e)return N(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?N(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const S=function(e){var n,t,p=e.title,m=e.requireReason,b=e.operation,g=e.closeModal,d=p.toLocaleLowerCase().trim(),y=(0,r.useTranslation)().t,f=A((0,a.useState)(""),2),_=f[0],h=f[1],k=A((0,a.useState)(!1),2),v=k[0],E=k[1],$=(n=function(e){var n,t;return function(e,n){var t,a,o,r,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(t)throw new TypeError("Generator is already executing.");for(;c;)try{if(t=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){c=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){c.label=r[1];break}if(6===r[0]&&c.label<o[1]){c.label=o[1],o=r;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(r);break}o[2]&&c.ops.pop(),c.trys.pop();continue}r=n.call(e,c)}catch(e){r=[6,e],a=0}finally{t=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}(this,(function(a){switch(e.preventDefault(),E(!0),n=null,d){case"submit":n="SUBMIT";break;case"dispatch":case"dispatchapproval":n="DISPATCH";break;case"complete":case"complete dispatch":n="COMPLETE";break;case"cancel":n="CANCEL";break;case"reject":n="REJECT";break;case"return":n="RETURN";break;case"approve":n="APPROVE"}return n?(t={name:n,uuid:null==b?void 0:b.uuid,reason:_},(0,i._e)(t).then((function(){E(!1),(0,s.showSnackbar)({title:y("operationSuccessTitle","{{title}} Operation",{title:p}),subtitle:y("operationSuccessful","You have successfully {{title}} operation",{title:p}),kind:"success"}),g(),(0,u.d)("".concat(s.restBaseUrl,"/stockmanagement/stockoperation"))}),(function(e){E(!1);var n=(0,l.cK)(e)[0].replace(/[[\]]/g,"");(0,s.showSnackbar)({title:y("stockOperationErrorTitle","Error on saving form"),subtitle:y("stockOperationErrorDescription","Details: {{message}}",{message:n}),kind:"error"}),g()})),[2]):[2]}))},t=function(){var e=this,t=arguments;return new Promise((function(a,o){var r=n.apply(e,t);function c(e){w(r,a,o,c,s,"next",e)}function s(e){w(r,a,o,c,s,"throw",e)}c(void 0)}))},function(e){return t.apply(this,arguments)});return o().createElement("div",null,o().createElement(c.l09,{onSubmit:$},o().createElement(c.xBx,{closeModal:g,title:y("operationModalTitle","{{title}} Operation",{title:p})}),o().createElement(c.fef,null,o().createElement("div",{className:C.modalBody},o().createElement("section",{className:C.section},o().createElement("h5",{className:C.section},"Would you really like to ",p," the operation ?")),o().createElement("br",null),m&&o().createElement("section",{className:C.section},o().createElement(c.Kx8,{labelText:y("notes","Please explain the reason:"),id:"nextNotes",name:"nextNotes",invalidText:"Required",maxCount:500,enableCounter:!0,onChange:function(e){return h(e.target.value)}})))),o().createElement(c.mzw,null,o().createElement(c.zxk,{kind:"secondary",onClick:g},(0,s.getCoreTranslation)("cancel")),v?o().createElement(c.lSo,null):o().createElement(c.zxk,{type:"submit"},y("submit","Submit")))))}}}]);