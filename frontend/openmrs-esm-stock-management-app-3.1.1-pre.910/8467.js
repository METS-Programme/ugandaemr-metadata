"use strict";(globalThis.webpackChunk_openmrs_esm_stock_management_app=globalThis.webpackChunk_openmrs_esm_stock_management_app||[]).push([[8467],{9378:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(1364),o=n.n(a),r=n(1682),i=n.n(r)()(o());i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79;--bottom-nav-height: 4rem;--workspace-header-height: 3rem;--tablet-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--bottom-nav-height));--desktop-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--workspace-header-height))}.-esm-stock-management__create-stock-report__container___V2FVL{display:flex;flex-direction:column;justify-content:space-between;height:100%}.-esm-stock-management__create-stock-report__form___r4kbH{margin:1rem}.-esm-stock-management__create-stock-report__button___MRB1p{height:4rem;display:flex;align-content:flex-start;align-items:baseline;min-width:50%}.-esm-stock-management__create-stock-report__buttonSet___Y3EPS{display:flex;justify-content:space-between;width:100%}.-esm-stock-management__create-stock-report__body___eKDjI{padding:1rem}.-esm-stock-management__create-stock-report__flexRow___nRhOg{display:flex;align-items:center}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/stock-reports/generate-report/create-stock-report.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAsDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CACA,yBAAA,CACA,+BAAA,CACA,oGAAA,CACA,2GAAA,CCxDF,+DACE,YAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CAGF,0DACE,WCkBW,CDfb,4DACE,WCuCW,CDtCX,YAAA,CACA,wBAAA,CACA,oBAAA,CACA,aAAA,CAGF,+DACE,YAAA,CACA,6BAAA,CACA,UAAA,CAGF,0DACE,YAAA,CAGF,6DACE,YAAA,CACA,kBAAA",sourcesContent:["@use '@carbon/layout';\n\n$ui-01: #f4f4f4;\n$ui-02: #ffffff;\n$ui-03: #e0e0e0;\n$ui-04: #8d8d8d;\n$ui-05: #161616;\n$text-02: #525252;\n$text-03: #a8a8a8;\n$ui-background: #ffffff;\n$color-gray-30: #c6c6c6;\n$color-gray-70: #525252;\n$color-gray-100: #161616;\n$color-blue-60-2: #0f62fe;\n$color-blue-10: #edf5ff;\n$color-yellow-50: #feecae;\n$carbon--red-50: #fa4d56;\n$inverse-link: #78a9ff;\n$support-02: #24a148;\n$inverse-support-03: #f1c21b;\n$warning-background: #fff8e1;\n$openmrs-background-grey: #f4f4f4;\n$danger: #da1e28;\n$interactive-01: #0f62fe;\n$field-01: #f4f4f4;\n$grey-2: #e0e0e0;\n$labeldropdown: #c6c6c6;\n\n$brand-primary-10: #d9fbfb;\n$brand-primary-20: #9ef0f0;\n$brand-primary-30: #3ddbd9;\n$brand-primary-40: #08bdba;\n$brand-primary-50: #009d9a;\n\n/* 60,70 and 80 are already declared as brand-01, 02 and 03 respectively */\n\n$brand-primary-90: #022b30;\n$brand-primary-100: #081a1c;\n\n@mixin brand-01($property) {\n  #{$property}: #005d5d;\n  #{$property}: var(--brand-01);\n}\n\n@mixin brand-02($property) {\n  #{$property}: #004144;\n  #{$property}: var(--brand-02);\n}\n\n@mixin brand-03($property) {\n  #{$property}: #007d79;\n  #{$property}: var(--brand-03);\n}\n\n:root {\n  --brand-01: #005d5d;\n  --brand-02: #004144;\n  --brand-03: #007d79;\n  --bottom-nav-height: #{layout.$spacing-10};\n  --workspace-header-height: #{layout.$spacing-09};\n  --tablet-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--bottom-nav-height));\n  --desktop-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--workspace-header-height));\n}\n\n$breakpoint-phone-min: 0px;\n$breakpoint-phone-max: 600px;\n$breakpoint-tablet-min: 601px;\n$breakpoint-tablet-max: 1023px;\n$breakpoint-small-desktop-min: 1024px;\n$breakpoint-small-desktop-max: 1439px;\n$breakpoint-large-desktop-min: 1440px;\n$breakpoint-large-desktop-max: 99999999px;\n\n/* These color variables will be removed in a future release */\n$brand-teal-01: #007d79;\n$brand-01: #005d5d;\n$brand-02: #004144;\n","@use '@carbon/styles/scss/spacing';\n@use '@carbon/layout';\n@use '@carbon/type';\n@use '@openmrs/esm-styleguide/src/vars' as *;\n\n.container {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n}\n\n.form {\n  margin: layout.$spacing-05;\n}\n\n.button {\n  height: layout.$spacing-10;\n  display: flex;\n  align-content: flex-start;\n  align-items: baseline;\n  min-width: 50%;\n}\n\n.buttonSet {\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n}\n\n.body {\n  padding: 1rem;\n}\n\n.flexRow {\n  display: flex;\n  align-items: center;\n}\n","// Code generated by @carbon/layout. DO NOT EDIT.\n//\n// Copyright IBM Corp. 2018, 2023\n//\n// This source code is licensed under the Apache-2.0 license found in the\n// LICENSE file in the root directory of this source tree.\n//\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-01: 0.125rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-02: 0.25rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-03: 0.5rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-04: 0.75rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-05: 1rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-06: 1.5rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-07: 2rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-08: 2.5rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-09: 3rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-10: 4rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-11: 5rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-12: 6rem !default;\n\n/// @type Number\n/// @access public\n/// @group @carbon/layout\n$spacing-13: 10rem !default;\n\n/// @type Map\n/// @access public\n/// @group @carbon/layout\n$spacing: (\n  spacing-01: $spacing-01,\n  spacing-02: $spacing-02,\n  spacing-03: $spacing-03,\n  spacing-04: $spacing-04,\n  spacing-05: $spacing-05,\n  spacing-06: $spacing-06,\n  spacing-07: $spacing-07,\n  spacing-08: $spacing-08,\n  spacing-09: $spacing-09,\n  spacing-10: $spacing-10,\n  spacing-11: $spacing-11,\n  spacing-12: $spacing-12,\n  spacing-13: $spacing-13,\n);\n"],sourceRoot:""}]),i.locals={container:"-esm-stock-management__create-stock-report__container___V2FVL",form:"-esm-stock-management__create-stock-report__form___r4kbH",button:"-esm-stock-management__create-stock-report__button___MRB1p",buttonSet:"-esm-stock-management__create-stock-report__buttonSet___Y3EPS",body:"-esm-stock-management__create-stock-report__body___eKDjI",flexRow:"-esm-stock-management__create-stock-report__flexRow___nRhOg"};const l=i},8467:(e,t,n)=>{n.r(t),n.d(t,{default:()=>J});var a,o=n(1672),r=n.n(o),i=n(3967),l=n.n(i),c=n(3397),s=n(2e3),u=n(3775),d=n(7536),m=n(6312);!function(e){e.Date="Date",e.StartDate="StartDate",e.EndDate="EndDate",e.StockItemCategory="StockItemCategory",e.Location="Location",e.ChildLocations="ChildLocations",e.StockSource="StockSource",e.StockSourceDestination="StockSourceDestination",e.InventoryGroupBy="InventoryGroupBy",e.MaxReorderLevelRatio="MaxReorderLevelRatio",e.Patient="Patient",e.StockItem="StockItem",e.Limit="Limit",e.MostLeastMoving="MostLeastMoving",e.Fullfillment="Fullfillment"}(a||(a={}));var p=function(e){return g(e)?4:e?20:null},g=function(e){return"STOCK_FORECAST_REPORT"===e||"STOCK_EXPIRY_FORECAST_REPORT"===e},v=n(826),f=n(7107);n(2484);var b=n(9937),y=n(954),h=n(1604),k=h.z.object({startDate:h.z.coerce.date().optional(),endDate:h.z.coerce.date().optional(),location:h.z.string({required_error:"Location Required"}).min(1,{message:"Location Required"}),reportName:h.z.string({required_error:"Report Name Required"}).min(1,{message:"Report Name Required"}),stockReportItemCategory:h.z.string().optional(),mostLeastMoving:h.z.string().optional(),mostLeastMovingName:h.z.string().optional(),stockItemUuid:h.z.string().optional(),stockItemName:h.z.string().optional(),patientUuid:h.z.string().optional(),patientName:h.z.string().optional(),locationUuid:h.z.string().optional(),childLocations:h.z.boolean().optional(),stockSourceUuid:h.z.string().optional(),stockSource:h.z.string().optional(),stockSourceDestinationUuid:h.z.string().optional(),stockSourceDestination:h.z.string().optional(),inventoryGroupBy:h.z.string().optional(),stockItemCategory:h.z.string().optional(),inventoryGroupByName:h.z.string().optional(),stockItemCategoryConceptUuid:h.z.string().optional(),reportSystemName:h.z.string().optional(),maxReorderLevelRatio:h.z.number().optional(),fullFillment:h.z.string().array().optional(),limit:h.z.string().optional(),date:h.z.coerce.date().optional()}).superRefine((function(e,t){"Stock Status Report"!==e.reportName&&"Stock-Out Report"!==e.reportName&&(e.startDate||t.addIssue({code:h.z.ZodIssueCode.custom,message:"Start Date is required ",path:["startDate"]}),e.endDate||t.addIssue({code:h.z.ZodIssueCode.custom,message:"End Date is required",path:["endDate"]})),"Stock Status Report"!==e.reportName&&"Stock-Out Report"!==e.reportName||(e.date||t.addIssue({code:h.z.ZodIssueCode.custom,message:"Date is required ",path:["date"]}),e.inventoryGroupBy||t.addIssue({code:h.z.ZodIssueCode.custom,message:"Inventory by is required ",path:["inventoryGroupBy"]}))})),A=n(3889),S=n(9530),C=n(7410),_=n.n(C),E=n(4766),$=n.n(E),x=n(1991),D=n.n(x),I=n(3702),w=n.n(I),L=n(2434),N=n.n(L),T=n(1422),R=n.n(T),F=n(9378),M={};M.styleTagTransform=R(),M.setAttributes=w(),M.insert=D().bind(null,"head"),M.domAPI=$(),M.insertStyleElement=N(),_()(F.Z,M);const B=F.Z&&F.Z.locals?F.Z.locals:void 0;function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function P(e,t,n,a,o,r,i){try{var l=e[r](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(a,o)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,o,r=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return r}}(e,t)||U(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||U(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}const J=function(e){var t,n,i,h,C,_=e.model,E=e.closeWorkspace,$=(0,c.useTranslation)().t,x=(0,u.useConfig)().stockItemCategoryUUID,D="tablet"===(0,u.useLayoutType)(),I=(0,S.w)(),w=I.reportTypes,L=I.isLoading,N=(0,A.O8)().stockLocations,T=(0,A.K2)(x).items,R=G((0,o.useState)(!1),2),F=R[0],M=R[1],z=G((0,o.useState)(!1),2),U=z[0],J=z[1],q=G((0,o.useState)(!1),2),Q=q[0],Y=q[1],Z=G((0,o.useState)(!1),2),V=Z[0],K=Z[1],W=G((0,o.useState)(!1),2),X=W[0],H=W[1],ee=G((0,o.useState)(!1),2),te=ee[0],ne=ee[1],ae=G((0,o.useState)(!1),2),oe=ae[0],re=ae[1],ie=G((0,o.useState)(!1),2),le=ie[0],ce=ie[1],se=G((0,o.useState)(!1),2),ue=se[0],de=se[1],me=G((0,o.useState)(!1),2),pe=me[0],ge=me[1],ve=G((0,o.useState)(!1),2),fe=ve[0],be=ve[1],ye=G((0,o.useState)(!1),2),he=ye[0],ke=ye[1],Ae=G((0,o.useState)(!1),2),Se=Ae[0],Ce=Ae[1],_e=G((0,o.useState)(!1),2),Ee=_e[0],$e=_e[1],xe=G((0,o.useState)(!1),2),De=xe[0],Ie=xe[1],we=G((0,o.useState)(""),2),Le=we[0],Ne=we[1];(0,o.useEffect)((function(){var e=!1;if(Le){var t,n,o,r,i,l,c,s,u,d,m,p,g,v,f,b=null==w?void 0:w.find((function(e){return e.name===Le}));b&&(M(null===(t=b.parameters)||void 0===t?void 0:t.some((function(e){return e===a.Date}))),J(null===(n=b.parameters)||void 0===n?void 0:n.some((function(e){return e===a.StartDate}))),Y(null===(o=b.parameters)||void 0===o?void 0:o.some((function(e){return e===a.EndDate}))),K(null===(r=b.parameters)||void 0===r?void 0:r.some((function(e){return e===a.StockItemCategory}))),H(null===(i=b.parameters)||void 0===i?void 0:i.some((function(e){return e===a.Location}))),ne(null===(l=b.parameters)||void 0===l?void 0:l.some((function(e){return e===a.ChildLocations}))),re(null===(c=b.parameters)||void 0===c?void 0:c.some((function(e){return e===a.StockSource}))),ce(null===(s=b.parameters)||void 0===s?void 0:s.some((function(e){return e===a.StockSourceDestination}))),de(null===(u=b.parameters)||void 0===u?void 0:u.some((function(e){return e===a.InventoryGroupBy}))),ge(null===(d=b.parameters)||void 0===d?void 0:d.some((function(e){return e===a.MaxReorderLevelRatio}))),ke(null===(m=b.parameters)||void 0===m?void 0:m.some((function(e){return e===a.StockItem}))),be(null===(p=b.parameters)||void 0===p?void 0:p.some((function(e){return e===a.Patient}))),Ce(null===(g=b.parameters)||void 0===g?void 0:g.some((function(e){return e===a.Limit}))),$e(null===(v=b.parameters)||void 0===v?void 0:v.some((function(e){return e===a.MostLeastMoving}))),Ie(null===(f=b.parameters)||void 0===f?void 0:f.some((function(e){return e===a.Fullfillment}))),e=!0)}e||(M(!1),J(!1),Y(!1),K(!1),H(!1),ne(!1),re(!1),ce(!1),de(!1),ge(!1),ke(!1),be(!1),Ce(!1),$e(!1),Ie(!1))}),[Le,w]);var Te=(0,o.useMemo)((function(){var e,t;return[{display:"All Categories",name:"All Categories",uuid:""}].concat(O(null!==(t=T&&(null==T||null===(e=T.answers)||void 0===e?void 0:e.length)>0?null==T?void 0:T.answers:null==T?void 0:T.setMembers)&&void 0!==t?t:[]))}),[T]),Re=(0,d.cI)({mode:"all",resolver:(0,m.F)(k)}),Fe=(Re.handleSubmit,Re.control),Me=Re.formState,Be=Me.errors,ze=(Me.defaultValues,Me.isDirty,Re.setValue);if(L)return r().createElement(s.lSo,{status:"active",iconDescription:"Loading",description:"Loading data..."});var Pe,je,Ge,Oe=(Pe=function(e){var t,n,o,r,i,l,c,s,d,m,v,h,k,A,S,C,_,x,D,I,L,N,T,R,M,B,z,P,j,G,O,J,q,Y,Z,K,W,H;return function(e,t){var n,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],a=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}}(this,(function(ee){switch(ee.label){case 0:n=null===(t=w.find((function(t){return t.name===e.reportName})))||void 0===t?void 0:t.systemName,ee.label=1;case 1:return ee.trys.push([1,,3,4]),o="\r\n",r="param.report=".concat(n).concat(o),De&&(r+=Ue(a.Fullfillment,(null!==(i=e.fullFillment)&&void 0!==i?i:["All"]).join(","),(null!==(l=e.fullFillment)&&void 0!==l?l:["All"]).join(", "),$("fulfillment","Fulfillment"),o)),fe&&(r+=Ue(a.Patient,null!==(s=e.patientUuid)&&void 0!==s?s:"",null!==(d=null===(c=e.patientName)||void 0===c?void 0:c.trim())&&void 0!==d?d:"All Patients",$("patients","Patients"),o)),he&&(r+=Ue(a.StockItem,null!==(v=e.stockItemUuid)&&void 0!==v?v:"",null!==(h=null===(m=e.stockItemName)||void 0===m?void 0:m.trim())&&void 0!==h?h:"All Stock Items",$("stockItem","Stock Item"),o)),V&&(r+=Ue(a.StockItemCategory,null!==(A=e.stockItemCategoryConceptUuid)&&void 0!==A?A:"",null!==(S=null===(k=e.stockItemCategory)||void 0===k?void 0:k.trim())&&void 0!==S?S:"All Categories",$("stockItemCategory","Stock Item Category"),o)),ue&&(r+=Ue(a.InventoryGroupBy,null!==(_=e.inventoryGroupBy)&&void 0!==_?_:"LocationStockItemBatchNo",null!==(x=null===(C=e.inventoryGroupByName)||void 0===C?void 0:C.trim())&&void 0!==x?x:"Stock Item Batch Number",$("inventoryGroupBy","Inventory group by"),o)),X&&(r+=Ue(a.Location,e.locationUuid,null!==(I=null===(D=e.location)||void 0===D?void 0:D.trim())&&void 0!==I?I:"",$("location","Location"),o),te&&(r+=Ue(a.ChildLocations,e.childLocations?"true":"false",e.childLocations?"Yes":"No",$("includeChildLocations","Include Child Locations"),o))),pe&&(r+=Ue(a.MaxReorderLevelRatio,(null!==(L=e.maxReorderLevelRatio)&&void 0!==L?L:0).toString(),(null!==(N=e.maxReorderLevelRatio)&&void 0!==N?N:0).toString()+"%",$("maxReorderLevelRatio","Max reorder level ratio"),o)),oe&&(r+=Ue(a.StockSource,null!==(R=e.stockSourceUuid)&&void 0!==R?R:"",null!==(M=null===(T=e.stockSource)||void 0===T?void 0:T.trim())&&void 0!==M?M:"All Sources",$("stockSource","Stock source"),o)),le&&(r+=Ue(a.StockSourceDestination,null!==(z=e.stockSourceDestinationUuid)&&void 0!==z?z:"",null!==(P=null===(B=e.stockSourceDestination)||void 0===B?void 0:B.trim())&&void 0!==P?P:"All Destinations",$("stockSourceDestination","Stock source destination"),o)),Ee&&(r+=Ue(a.MostLeastMoving,null!==(G=e.mostLeastMoving)&&void 0!==G?G:"MostMoving",null!==(O=null===(j=e.mostLeastMovingName)||void 0===j?void 0:j.trim())&&void 0!==O?O:"Most Moving",$("mostMoving","Most moving"),o)),Se&&(r+=Ue(a.Limit,(null!==(q=null!==(J=e.limit)&&void 0!==J?J:p(e.reportSystemName))&&void 0!==q?q:20).toString(),(null!==(Z=null!==(Y=e.limit)&&void 0!==Y?Y:p(e.reportSystemName))&&void 0!==Z?Z:20).toString(),$(function(e){return g(e)?"stockmanagement.report.edit.months":"stockmanagement.report.edit.limit"}(e.reportSystemName)),o)),F&&(r+=Ue(a.Date,e.date?JSON.stringify(e.date).replaceAll('"',""):"",null!==(K=(0,b.up)(e.date))&&void 0!==K?K:"",$("date","Date"),o)),U&&(r+=Ue(a.StartDate,e.startDate?JSON.stringify(e.startDate).replaceAll('"',""):"",null!==(W=(0,b.up)(e.startDate))&&void 0!==W?W:"",$(function(e){return g(e)?"stockmanagement.report.edit.historicalstartdate":"Start Date"}(e.reportSystemName)),o)),Q&&(r+=Ue(a.EndDate,e.endDate?JSON.stringify(e.endDate).replaceAll('"',""):"",null!==(H=(0,b.up)(e.endDate))&&void 0!==H?H:"",$(function(e){return g(e)?"stockmanagement.report.edit.historicalenddate":"End Date"}(e.reportSystemName)),o)),[4,(ne={batchJobType:f.Er,description:e.reportName,parameters:r},ae="".concat(u.restBaseUrl,"/stockmanagement/batchjob"),re=new AbortController,(0,u.openmrsFetch)(ae,{method:"POST",headers:{"Content-Type":"application/json"},signal:re.signal,body:ne})).then((function(e){201===e.status?((0,u.showSnackbar)({title:$("batchJob","Batch Job"),subtitle:$("BatchJobSuccess","Batch job created successfully"),kind:"success"}),(0,y.d)("".concat(u.restBaseUrl,"/stockmanagement/batchjob?batchJobType=Report&v=default")),E()):((0,u.showSnackbar)({title:$("BatchJobErrorTitle","Batch job"),subtitle:$("batchJobErrorMessage","Error creating batch job"),kind:"error"}),E())})).catch((function(){(0,u.showSnackbar)({title:$("BatchJobErrorTitle","Batch job"),subtitle:$("batchJobErrorMessage","Error creating batch job"),kind:"error"}),E()}))];case 2:return ee.sent(),[3,4];case 3:return[7];case 4:return[2]}var ne,ae,re}))},je=function(){var e=this,t=arguments;return new Promise((function(n,a){var o=Pe.apply(e,t);function r(e){P(o,n,a,r,i,"next",e)}function i(e){P(o,n,a,r,i,"throw",e)}r(void 0)}))},function(e){return je.apply(this,arguments)}),Ue=function(e,t,n,a,o){return"param.".concat(e,".value=").concat(t).concat(o,"param.").concat(e,".value.desc=").concat(n).concat(o,"param.").concat(e,".description=").concat(a).concat(o)};return r().createElement(s.l09,{className:B.container},r().createElement(s.Kqy,{className:B.form,gap:5},r().createElement(r().Fragment,null,r().createElement(s.cwH,{legendText:$("reportName","Report name")},r().createElement(d.Qr,{control:Fe,name:"reportName",render:function(e){var t=e.field.onChange;return r().createElement(s.CtY,{id:"report",labelText:$("reportName","Report name"),items:w,itemToString:function(e){var t,n;return"".concat(null!==(n=null!==(t=null==e?void 0:e.name)&&void 0!==t?t:null==e?void 0:e.name)&&void 0!==n?n:"")},placeholder:$("filter","Filter..."),onChange:function(e){var n,a=e.selectedItem;t(a.name),n=a.name,Ne(n)}})}}))),V&&r().createElement(r().Fragment,null,r().createElement(s.cwH,{legendText:$("stockItemCategory","Stock Item Category")},r().createElement(d.Qr,{control:Fe,name:"stockReportItemCategory",render:function(e){var t=e.field.onChange;return r().createElement(s.CtY,{id:"stockReportItem",size:"md",labelText:$("stockItemCategory","Stock Item Category"),items:Te,onChange:function(e){var n=e.selectedItem;t(n.uuid)},itemToString:function(e){return e&&(null==e?void 0:e.display)?"".concat(null==e?void 0:e.display):""},placeholder:$("filter","Filter...")})}}))),U&&r().createElement(d.Qr,{control:Fe,name:"startDate",render:function(e){var t,n,a=e.field,o=a.onChange,i=a.value;return r().createElement(s.Mtg,{datePickerType:"single",maxDate:(0,v.KA)((0,v.Lg)()),locale:"en",dateFormat:v.fk,onChange:o,value:i},r().createElement(s.aj6,{id:"startDate",name:"startDate",placeholder:v.Pq,labelText:$("startDate","Start Date"),defaultValue:"",invalid:null==Be||null===(t=Be.startDate)||void 0===t?void 0:t.message,invalidText:null==Be||null===(n=Be.startDate)||void 0===n?void 0:n.message}))}}),Q&&r().createElement(d.Qr,{control:Fe,name:"endDate",render:function(e){var t,n,a=e.field,o=a.onChange,i=a.value;return r().createElement(s.Mtg,{datePickerType:"single",maxDate:(0,v.KA)((0,v.Lg)()),locale:"en",dateFormat:v.fk,onChange:o,value:i},r().createElement(s.aj6,{id:"endDate",name:"endDate",placeholder:v.Pq,labelText:$("endDate","End Date"),defaultValue:"",invalid:null==Be||null===(t=Be.endDate)||void 0===t?void 0:t.message,invalidText:null==Be||null===(n=Be.endDate)||void 0===n?void 0:n.message}))}}),ue&&r().createElement(s.PhF,{id:"inventoryGroupBy",defaultValue:null==_?void 0:_.inventoryGroupBy,invalid:null==Be||null===(t=Be.inventoryGroupBy)||void 0===t?void 0:t.message,invalidText:null==Be||null===(n=Be.inventoryGroupBy)||void 0===n?void 0:n.message,labelText:$("inventoryBy","Inventory by"),onChange:function(e){return ze("inventoryGroupBy",e.target.value)}},r().createElement(s.QlF,{value:"",text:$("SelectOption","Select an option")}),r().createElement(s.QlF,{value:"StockItemOnly",text:$("stockItem","Stock Item")}),r().createElement(s.QlF,{value:"LocationStockItem",text:$("locationAndStockItem","Location and Stock Item")}),r().createElement(s.QlF,{value:"LocationStockItemBatchNo",text:$("locationAndBatchno","Location and Batch")})),X&&r().createElement(s.PhF,{name:"locationUuid",className:"select-field",labelText:$("location","Location"),id:"location",onChange:function(e){var t=null==N?void 0:N.find((function(t){return t.id===e.target.value}));ze("locationUuid",e.target.value),ze("location",(null==t?void 0:t.name)||"")},defaultValue:"",invalid:null==Be||null===(i=Be.location)||void 0===i?void 0:i.message,invalidText:null==Be||null===(h=Be.location)||void 0===h?void 0:h.message},r().createElement(s.QlF,{disabled:!0,hidden:!0,value:"",text:$("chooseALocation","Choose a location")}),null===(C=null!=N?N:[])||void 0===C?void 0:C.map((function(e){return r().createElement(s.QlF,{key:e.id,value:e.id,text:e.name})}))),te&&r().createElement(d.Qr,{control:Fe,name:"childLocations",render:function(e){var t=e.field,n=t.onChange,a=t.value;return r().createElement(s.XZJ,{id:"childLocations",onChange:n,value:a,labelText:$("includeChildLocations","Include Child Locations")})}}),Ee&&r().createElement(d.Qr,{control:Fe,name:"mostLeastMoving",render:function(e){var t=e.field,n=t.onChange,a=t.value;return r().createElement(s.SYO,{name:"mostLeastMoving",legendText:$("rank","Rank"),onChange:n,value:a},r().createElement(s.EUY,{value:"MostMoving",id:"mostLeastMovingMost",labelText:$("mostMoving","Most Moving")}),r().createElement(s.EUY,{value:"LeastMoving",id:"mostLeastMovingLeast",labelText:$("leastMoving","Least Moving")}))}}),Se&&r().createElement(d.Qr,{control:Fe,name:"limit",render:function(e){var t=e.field,n=t.onChange,a=t.value;return r().createElement(s.Y2U,{id:"limitTop",allowEmpty:!0,disableWheel:!0,hideSteppers:!0,value:a,onchange:n,label:$("limit","Limit"),defaultValue:20})}}),De&&r().createElement("div",{className:B.flexRow},r().createElement(d.Qr,{control:Fe,name:"fullFillment",render:function(e){var t=e.field,n=t.onChange,a=t.value;return r().createElement(r().Fragment,null,r().createElement(s.XZJ,{id:"allFulfillment",checked:null==a?void 0:a.includes("All"),onChange:function(e){var t=e.target.checked;n(t?["All"]:a.filter((function(e){return"All"!==e})))},labelText:$("all","All")}),r().createElement(s.XZJ,{id:"fullFulfillment",checked:null==a?void 0:a.includes("Full"),onChange:function(e){var t=e.target.checked;n(t?O(a.filter((function(e){return"All"!==e}))).concat(["Full"]):a.filter((function(e){return"Full"!==e})))},labelText:$("fullFulfillment","Full Fulfillment")}),r().createElement(s.XZJ,{id:"partialFulfillment",checked:null==a?void 0:a.includes("Partial"),onChange:function(e){var t=e.target.checked;n(t?O(a.filter((function(e){return"All"!==e}))).concat(["Partial"]):a.filter((function(e){return"Partial"!==e})))},labelText:$("partialFulfillment","Partial Fulfillment")}),r().createElement(s.XZJ,{id:"noneFulfillment",checked:null==a?void 0:a.includes("None"),onChange:function(e){var t=e.target.checked;n(t?O(a.filter((function(e){return"All"!==e}))).concat(["None"]):a.filter((function(e){return"None"!==e})))},labelText:$("noneFulfillment","Non Fulfillment")}))}})),F&&r().createElement(d.Qr,{control:Fe,name:"date",render:function(e){var t,n,a=e.field,o=a.onChange,i=a.value;return r().createElement(s.Mtg,{datePickerType:"single",maxDate:(0,v.KA)((0,v.Lg)()),locale:"en",dateFormat:v.fk,onChange:o,value:i},r().createElement(s.aj6,{id:"date",name:"date",placeholder:v.Pq,labelText:$("date","Date"),defaultValue:"",invalid:null==Be||null===(t=Be.date)||void 0===t?void 0:t.message,invalidText:null==Be||null===(n=Be.date)||void 0===n?void 0:n.message}))}})),r().createElement(s.uVA,{className:l()(B.buttonSet,(Ge={},j(Ge,B.tablet,D),j(Ge,B.desktop,!D),Ge))},r().createElement(s.zxk,{kind:"secondary",onClick:E,className:B.button},(0,u.getCoreTranslation)("cancel")),r().createElement(s.zxk,{type:"submit",className:B.button,onClick:Oe},(0,u.getCoreTranslation)("save"))))}}}]);